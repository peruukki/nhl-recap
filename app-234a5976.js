!function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";function clearGameInFocus(e){e.style.transform=null,e.classList.remove(gameInFocusClass)}function setGameInFocus(e,t,a){var n=e.getBoundingClientRect(),l=n.left,o=n.right,i=n.top,c=n.bottom,s=t/2,h=a/2,g=(l+o)/2,u=(i+c)/2,r=s-g,f=h-u;e.style.transform="translate(".concat(r,"px, ").concat(f,"px) scale(").concat(1.2,")"),e.classList.add(gameInFocusClass)}function highlightGame(e){setGameInFocus(document.querySelectorAll(".game")[e],window.innerWidth,window.innerHeight)}function stopGameHighlight(e){clearGameInFocus(document.querySelectorAll(".game")[e])}function highlightGoal(e,t){highlightGoalCountChange(e,t),highlightLatestGoalChange(t)}function highlightGoalCountChange(e,t){var a=document.querySelectorAll(".team-panel--".concat(e," > .team-panel__team-score"))[t];a&&a.animate([{color:"black"},{color:"#fac02d"}],1e3)}function highlightLatestGoalChange(e){var t=document.querySelectorAll(".game__info-panel")[e];t&&t.animate([{opacity:0},{opacity:1}],750)}function setInfoPanelsPlaybackHeight(){document.querySelectorAll(".game__info-panel").forEach(function(e){return e.classList.add("increased-height")})}function setInfoPanelsFinalHeight(){document.querySelectorAll(".game__info-panel").forEach(function(e){return e.classList.add("final")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var gameInFocusClass="in-focus",_default={highlightGame:highlightGame,highlightGoal:highlightGoal,stopGameHighlight:stopGameHighlight,setInfoPanelsPlaybackHeight:setInfoPanelsPlaybackHeight,setInfoPanelsFinalHeight:setInfoPanelsFinalHeight};exports.default=_default},{}],2:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _run=require("@cycle/run"),_dom=require("@cycle/dom"),_http=require("@cycle/http"),_scorePanel=_interopRequireDefault(require("./score-panel")),_animations=_interopRequireDefault(require("./animations"));(0,require("./logos").fetchTeamLogoSVGSymbols)(),(0,_run.run)((0,_scorePanel.default)(_animations.default),{DOM:(0,_dom.makeDOMDriver)("#app"),HTTP:(0,_http.makeHTTPDriver)()})},{"./animations":1,"./logos":6,"./score-panel":8,"@cycle/dom":24,"@cycle/http":34,"@cycle/run":38}],3:[function(require,module,exports){"use strict";function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],t=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(t=(a=u.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(e){i=!0,o=e}finally{try{t||null==u.return||u.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function GameClock(e){var r=model(intent(e));return{DOM:view(r),clock$:r}}function intent(e){return{scores$:e.scores$,isPlaying$:e.isPlaying$,props$:e.props$}}function model(e){var r=e.props$.map(function(e){return _xstream.default.periodic(e.interval)}).flatten(),n=e.scores$.map(function(e){return(0,_gameEvents.default)(e)}),t=_xstream.default.combine(e.isPlaying$,r).filter(function(e){return _slicedToArray(e,1)[0]}).fold(function(e){return e+1},0).drop(1),i=_xstream.default.combine(n,t).filter(function(e){var r=_slicedToArray(e,2),n=r[0];return r[1]>=n.length});return _xstream.default.combine(n,t).endWhen(i).map(function(e){var r=_slicedToArray(e,2);return r[0][r[1]]})}function view(e){return e.map(function(e){var r=e?renderTime(e):"",n=r?".fade-in-fast":"";return(0,_dom.span)(".clock".concat(n),[(0,_dom.span)(".clock__period",e?renderPeriod(e):""),r?(0,_dom.span)(".clock__time",r):""])})}function renderPeriod(e){return e.start?(0,_dom.span)(".fade-in","Starting..."):e.end?e.period?(0,_dom.span)(".fade-in",renderPeriodEnd(e.period)):(0,_dom.span)(".fade-in-fast",e.inProgress?"In progress":"Final"):renderPeriodNumber(e.period)}function renderPeriodEnd(e){return"End of "+renderPeriodNumber(e)}function renderPeriodNumber(e){switch(e){case _gameEvents.PERIOD_OVERTIME:case 4:case"4":return"OT";case _gameEvents.PERIOD_SHOOTOUT:return"SO";case 1:case"1":return"1st";case 2:case"2":return"2nd";case 3:case"3":return"3rd";default:return"".concat(e-3,"OT")}}function renderTime(e){if(!e.minute&&!e.second)return"";var r=void 0!==e.tenthOfASecond;return(r?"":e.minute+":")+(e.second>=10||r?e.second:"0"+e.second)+(r?"."+e.tenthOfASecond:"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=GameClock,exports.renderPeriodNumber=renderPeriodNumber,exports.renderTime=renderTime;var _xstream=function(e){return e&&e.__esModule?e:{default:e}}(require("xstream")),_dom=require("@cycle/dom"),_gameEvents=function(e){if(e&&e.__esModule)return e;var r=_getRequireWildcardCache();if(r&&r.has(e))return r.get(e);var n={};if(null!=e){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=t?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}}return n.default=e,r&&r.set(e,n),n}(require("./game-events"))},{"./game-events":4,"@cycle/dom":24,xstream:83}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(r,!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function gameEvents(e){var t=getClockEndTime(e),r=getAllPeriodEvents(e,t,100),n=t.inProgress?_lodash.default.dropRight(r,1):r,o=n.map(function(e){return appendDelay(getPeriodEndElement(e.period),150)}),i=r.map(function(e){return e.events}),a=_lodash.default.chain().zip(i,o).flatten().filter(_lodash.default.identity).value();return _lodash.default.concat.apply(_lodash.default,[appendDelay(getGamesStartElement(),50)].concat(_toConsumableArray(a),[getGamesEndElement(t.inProgress)]))}function appendDelay(e,t){return _lodash.default.times(t,function(){return e})}function getPeriodEndElement(e){return{period:e,end:!0}}function getGamesStartElement(){return{start:!0}}function getGamesEndElement(e){return e?{end:!0,inProgress:e}:{end:!0}}function getAllPeriodEvents(e,t,r){var n=getAllGoalSorted(e);return getRegularPeriodClocks(t,n,r).concat(getOvertimeClock(t,n,r)).concat(getShootoutClock(t,n,r)).filter(_lodash.default.identity)}function getRegularPeriodClocks(e,t,r){var n=getPartialPeriodNumber(e),o=n?n-1:getLastFullPeriodNumber(e),i=_lodash.default.range(1,o+1).map(function(e){return{period:e,events:(0,_periodEvents.default)(e,20,null,t,r)}});if(n){var a={period:n,events:(0,_periodEvents.default)(n,20,e,t,r)};return i.concat(a)}return i}function getPartialPeriodNumber(e){return isNaN(e.period)||hasLastPeriodEnded(e)?null:e.period}function getLastFullPeriodNumber(e){return!isNaN(e.period)&&hasLastPeriodEnded(e)?e.period:3}function hasLastPeriodEnded(e){return void 0===e.minute}function getOvertimeClock(e,t,r){if(e.period!==PERIOD_SHOOTOUT&&e.period!==PERIOD_OVERTIME)return null;var n=e.period===PERIOD_OVERTIME?e:null;return{period:PERIOD_OVERTIME,events:(0,_periodEvents.default)(PERIOD_OVERTIME,5,n,t,r)}}function getShootoutClock(e,t,r){return e.period===PERIOD_SHOOTOUT?{period:PERIOD_SHOOTOUT,events:(0,_shootoutEvents.default)(t,r)}:null}function getClockEndTime(e){var t=e.map(getGameEndTime);return _lodash.default.chain(t).filter(_lodash.default.identity).sortBy([getPeriodIteratee,getMinuteIteratee,getSecondIteratee]).last().value()}function getPeriodIteratee(e){return(0,_utils.getPeriodOrdinal)(e.period)}function getMinuteIteratee(e){return getTimeValueIteratee(e.minute)}function getSecondIteratee(e){return getTimeValueIteratee(e.second)}function getTimeValueIteratee(e){return void 0===e?0:-e}function getGameEndTime(e){var t=!!e.preGameStats&&!!e.preGameStats.playoffSeries;return e.status&&"LIVE"===e.status.state?getGameEndTimeFromProgress(e.status.progress,t):getGameEndTimeFromGoals(e.goals)}function getGameEndTimeFromProgress(e,t){var r=e.currentPeriodTimeRemaining,n=r.min,o=r.sec,i=0===n&&0===o;return{period:!t&&_lodash.default.includes([PERIOD_OVERTIME,PERIOD_SHOOTOUT],e.currentPeriodOrdinal)?e.currentPeriodOrdinal:e.currentPeriod,minute:i?void 0:n,second:i?void 0:o,inProgress:!0}}function getGameEndTimeFromGoals(e){var t=_lodash.default.last(e);if(!t)return null;var r=t.period===PERIOD_OVERTIME||t.period>3,n=t.period===PERIOD_SHOOTOUT;return r?(0,_utils.elapsedTimeToRemainingTime)({period:t.period,minute:t.min,second:t.sec}):n?{period:PERIOD_SHOOTOUT}:{period:3}}function getAllGoalSorted(e){return _lodash.default.chain(e.map(function(e,t){return e.goals.map(function(r){return _objectSpread({},r,{update:{gameIndex:t,type:GAME_UPDATE_GOAL,classModifier:r.team===e.teams.away.abbreviation?"away":"home"}})})})).flatten().sortBy(["period","min","sec"]).value()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=gameEvents,exports.getAllGoalSorted=getAllGoalSorted,exports.PERIOD_SHOOTOUT=exports.PERIOD_OVERTIME=exports.GAME_UPDATE_GOAL=void 0;var _lodash=_interopRequireDefault(require("lodash")),_periodEvents=_interopRequireDefault(require("./period-events")),_shootoutEvents=_interopRequireDefault(require("./shootout-events")),_utils=require("./utils"),GAME_UPDATE_GOAL="GOAL";exports.GAME_UPDATE_GOAL=GAME_UPDATE_GOAL;var PERIOD_OVERTIME="OT";exports.PERIOD_OVERTIME=PERIOD_OVERTIME;var PERIOD_SHOOTOUT="SO";exports.PERIOD_SHOOTOUT=PERIOD_SHOOTOUT},{"./period-events":7,"./shootout-events":9,"./utils":10,lodash:42}],5:[function(require,module,exports){"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gameScore(e,t,a){var r=t.status,n=t.startTime,o=t.teams,s=t.goals,i=t.preGameStats,l=void 0===i?{}:i,d=t.currentStats,m=void 0===d?{}:d,u=getCurrentGoals(e,o,s,r),c=_lodash.default.last(u),_=u.filter(function(e){return e.team===o.away.abbreviation}),g=u.filter(function(e){return e.team===o.home.abbreviation}),f=c?c.period:null,p=!!e&&!!e.end&&!e.period,h=!e||!hasGameStarted(r.state)||isGameInProgress(r.state)&&((0,_utils.hasClockPassedCurrentProgress)(e,r)||p),S=hasGameFinished(r.state)&&p,v=S,y=h,P=!e||!hasGameStarted(r.state),b=h?l:S?m:{},w=getPlayoffSeriesWins(o,_,g,l.playoffSeries,v),G=hasGameStarted(r.state)?".game--started":"";return(0,_dom.div)(".game".concat(G,".expand--").concat(a),[renderScorePanel(o,_,g,f,P),renderInfoPanel(h,S,y,n,o,b,r,!!w,c),w?renderSeriesWins(w,v):null])}function getPlayoffSeriesWins(e,t,a,r,n){return r?n?getPlayoffSeriesWinsAfterGame(r.wins,e,t,a):r.wins:null}function getPlayoffSeriesWinsAfterGame(e,t,a,r){var n=a.length>r.length?_defineProperty({},t.away.abbreviation,e[t.away.abbreviation]+1):_defineProperty({},t.home.abbreviation,e[t.home.abbreviation]+1);return _lodash.default.merge({},e,n)}function getCurrentGoals(e,t,a,r){if(!e||e.start)return[];if(!e.period||e.period===_gameEvents.PERIOD_SHOOTOUT){var n=a.filter(function(e){return e.period!==_gameEvents.PERIOD_SHOOTOUT});return n.length===a.length?a:n.concat(getShootoutGoal(a,t,r))}return a.filter(_lodash.default.partial(_utils.hasGoalBeenScored,e))}function getShootoutGoal(e,t,a){if(isGameInProgress(a.state))return[];var r=e.filter(function(e){return e.team===t.away.abbreviation}),n=e.filter(function(e){return e.team===t.home.abbreviation}),o=r.length>n.length?r:n;return _lodash.default.last(o)}function renderScorePanel(e,t,a,r,n){var o=n?".team-panel__team-score--hidden":".fade-in",s=n?"":".fade-in";return(0,_dom.div)(".game__score-panel",[(0,_dom.div)(".team-panel.team-panel--away",[renderLogo(e.away.id,"away"),(0,_dom.span)(".team-panel__team-name",e.away.abbreviation),(0,_dom.span)(".team-panel__team-score"+o,[t.length])]),(0,_dom.div)(".team-panel__delimiter"+s,n?"at":renderDelimiter(r)),(0,_dom.div)(".team-panel.team-panel--home",[(0,_dom.span)(".team-panel__team-score"+o,[a.length]),(0,_dom.span)(".team-panel__team-name",e.home.abbreviation),renderLogo(e.home.id,"home")])])}function renderLogo(e,t){return(0,_dom.span)(".team-logo",[(0,_logos.renderTeamLogo)(e,"team-logo__image team-logo__image--".concat(t," team-logo__image--").concat(e))])}function renderDelimiter(e){return e===_gameEvents.PERIOD_OVERTIME||e===_gameEvents.PERIOD_SHOOTOUT||e>3?(0,_dom.span)(".team-panel__delimiter-period",e===_gameEvents.PERIOD_SHOOTOUT?"SO":"OT"):""}function renderInfoPanel(e,t,a,r,n,o,s,i,l){var d=!e&&!a,m=i?".game__info-panel--playoff":"";return(0,_dom.div)(".game__info-panel".concat(m),[d?renderLatestGoal(l):null,a?(0,_dom.div)(".game-description.fade-in",renderGameStatus(s,r)):null,e||t?renderGameStats(n,a||t,t,i,o):null])}function renderGameStats(e,t,a,r,n){var o=r?"Win-%":"Point-%",s=t?".fade-in":"",i=a?".game-stats--after-game":"";return(0,_dom.div)(".game-stats".concat(i).concat(s),[a?renderTeamStats(e,n.standings,"NHL rank",getLeagueRankRating,renderLeagueRank):null,renderTeamStats(e,n.records,o,renderWinPercentage,renderWinPercentage),renderTeamStats(e,n.records,"Record",renderWinPercentage,renderRecord),a?renderTeamStats(e,n.streaks,"Streak",getStreakRating,renderStreak):null,a&&!r?renderTeamStats(e,n.standings,"PO spot pts",getPlayoffSpotRating,renderPlayoffSpot):null])}function renderTeamStats(e,t,a,r,n){var o=getHighlightClassNames(".team-stats__value",e,t,r);return(0,_dom.div)(".team-stats",[(0,_dom.span)("".concat(".team-stats__value").concat(".team-stats__value","--away").concat(o.away),t?n(t[e.away.abbreviation]):""),(0,_dom.span)(".team-stats__label",t?a:""),(0,_dom.span)("".concat(".team-stats__value").concat(".team-stats__value","--home").concat(o.home),t?n(t[e.home.abbreviation]):"")])}function getHighlightClassNames(e,t,a,r){if(!a)return{away:"",home:""};var n=r(a[t.away.abbreviation]),o=r(a[t.home.abbreviation]);return n>o?{away:"".concat(e,"--highlight"),home:""}:o>n?{away:"",home:"".concat(e,"--highlight")}:{away:"",home:""}}function getPointPercentage(e){var t=e.wins,a=e.losses,r=e.ot,n=void 0===r?0:r;return(2*t+n)/(2*(t+a+n))}function getStreakRating(e){return e?e.count*getStreakMultiplier(e.type):0}function getStreakMultiplier(e){switch(e){case"WINS":return 1;case"LOSSES":return-1;default:return 0}}function getPlayoffSpotRating(e){var t=e.pointsFromPlayoffSpot;return parseInt(t)}function getLeagueRankRating(e){var t=e.leagueRank;return-parseInt(t)}function renderWinPercentage(e){var t=getPointPercentage(e);if(isNaN(t))return"-";var a=t<1?1:0;return t.toFixed(3).slice(a)}function renderRecord(e){var t=e.wins,a=e.losses,r=e.ot;return void 0!==r?[t,delimiter,a,delimiter,r]:[t,delimiter,a]}function renderStreak(e){return e?"".concat(e.count," ").concat(renderStreakType(e)):"-"}function renderStreakType(e){switch(e.type){case"WINS":return"W";case"LOSSES":return"L";case"OT":return"OT L";default:return""}}function renderPlayoffSpot(e){return e.pointsFromPlayoffSpot||""}function renderLeagueRank(e){return e.leagueRank||""}function renderLatestGoal(e){return(0,_dom.div)(".latest-goal",[(0,_dom.div)(".latest-goal__time",e?renderLatestGoalTime(e):""),(0,_dom.div)(".latest-goal__scorer",e?renderLatestGoalScorer(e):""),(0,_dom.div)(".latest-goal__assists",e?renderLatestGoalAssists(e):"")])}function renderSeriesWins(e,t){var a=t?".fade-in":"";return(0,_dom.div)(".game__series-wins".concat(a),getSeriesWinsDescription(e))}function getSeriesWinsDescription(e){var t=_lodash.default.map(e,function(e,t){return{team:t,wins:e}}),a=_lodash.default.sortBy(t,"wins"),r=_lodash.default.last(a),n=_lodash.default.first(a);return r.wins===n.wins?["Series ",(0,_dom.span)(".series-wins__tied","tied")," ",(0,_dom.span)(".series-wins__tied-count",String(r.wins)),(0,_dom.span)(".series-wins__delimiter","–"),(0,_dom.span)(".series-wins__tied-count",String(n.wins))]:[(0,_dom.span)(".series-wins__leading-team",r.team),4===r.wins?" wins ":" leads ",(0,_dom.span)(".series-wins__leading-count",String(r.wins)),(0,_dom.span)(".series-wins__delimiter","–"),(0,_dom.span)(".series-wins__trailing-count",String(n.wins))]}function renderGameStatus(e,t){switch(e.state){case"LIVE":return renderCurrentProgress(e.progress);case"PREVIEW":return"Starts ".concat(new Date(t)-new Date>0?(0,_timeago.format)(t):"soon");default:return"Finished"}}function renderCurrentProgress(e){return e&&e.currentPeriodOrdinal?"END"===e.currentPeriodTimeRemaining.pretty?"End of ".concat(e.currentPeriodOrdinal):e.currentPeriodOrdinal===_gameEvents.PERIOD_SHOOTOUT?"In shootout":"".concat(e.currentPeriodOrdinal," ").concat(e.currentPeriodTimeRemaining.pretty):"In progress"}function hasGameFinished(e){return"FINAL"===e}function hasGameStarted(e){return"PREVIEW"!==e}function isGameInProgress(e){return"LIVE"===e}function renderLatestGoalTime(e){var t=(0,_gameClock.renderPeriodNumber)(e.period),a=(0,_gameClock.renderTime)({minute:e.min,second:e.sec});return[(0,_dom.span)("".concat(t," ").concat(a)),(0,_dom.span)(".latest-goal__team",e.team),e.strength?(0,_dom.span)(".latest-goal__strength",e.strength):null,e.emptyNet?(0,_dom.span)(".latest-goal__empty-net","EN"):null]}function renderLatestGoalScorer(e){var t=e.scorer,a=t.player,r=t.seasonTotal,n=(0,_utils.truncatePlayerName)(a);return r?[(0,_dom.span)(".latest-goal__scorer","".concat(n," ")),(0,_dom.span)(".latest-goal__goal-count","(".concat(r,")"))]:(0,_dom.span)(".latest-goal__scorer",n)}function renderLatestGoalAssists(e){return e.assists?0===e.assists.length?(0,_dom.span)(".latest-goal__assists-label","Unassisted"):[(0,_dom.div)(".latest-goal__assists-label","Assists:")].concat(_toConsumableArray(e.assists.map(function(e){return(0,_dom.div)(".latest-goal__assist",[(0,_dom.span)(".latest-goal__assister","".concat((0,_utils.truncatePlayerName)(e.player)," ")),(0,_dom.span)(".latest-goal__assist-count","(".concat(e.seasonTotal,")"))])}))):""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=gameScore,exports.hasGameFinished=hasGameFinished,exports.renderLatestGoalTime=renderLatestGoalTime,exports.renderLatestGoalScorer=renderLatestGoalScorer,exports.renderLatestGoalAssists=renderLatestGoalAssists,exports.delimiter=void 0;var _dom=require("@cycle/dom"),_lodash=function(e){return e&&e.__esModule?e:{default:e}}(require("lodash")),_timeago=require("timeago.js"),_utils=require("./utils"),_gameClock=require("./game-clock"),_gameEvents=require("./game-events"),_logos=require("./logos"),delimiter=(0,_dom.span)(".team-stats__delimiter",["-"]);exports.delimiter=delimiter},{"./game-clock":3,"./game-events":4,"./logos":6,"./utils":10,"@cycle/dom":24,lodash:42,"timeago.js":71}],6:[function(require,module,exports){"use strict";function fetchTeamLogoSVGSymbols(){var e=new XMLHttpRequest;e.open("GET","https://www-league.nhlstatic.com/images/logos/team-sprites/20192020.svg",!0),e.send(),e.onload=function(){var o=document.createElement("div");o.style.display="none",o.innerHTML=e.responseText,document.body.insertBefore(o,document.body.childNodes[0])}}function renderTeamLogo(e,o){return(0,_dom.svg)({attrs:{class:o}},[_dom.svg.use({attrs:{href:"#team-".concat(e,"-20192020-dark")}})])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchTeamLogoSVGSymbols=fetchTeamLogoSVGSymbols,exports.renderTeamLogo=renderTeamLogo;var _dom=require("@cycle/dom")},{"@cycle/dom":24}],7:[function(require,module,exports){"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(r,!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function periodEvents(e,t,r,n,a){var o=r?r.minute:-1,i=r?r.second:-1,u=generateSecondEvents(e,t,o,i);return multiplyGoalScoringTimeEvents([{period:e,minute:t,second:0}].concat(3===e?_lodash.default.dropRightWhile(u,function(e){return 0===e.minute}):u,3===e&&o<1?generateTenthOfASecondEvents(e,o,i):[]),n,a)}function generateSecondEvents(e,t,r,n){return _lodash.default.flatten(minuteRange(t,r).map(function(t){return secondRange(t,r,n).map(function(r){return{period:e,minute:t,second:r}})}))}function generateTenthOfASecondEvents(e,t,r){return _lodash.default.flatten(secondRange(0,t,r).map(function(t){return _lodash.default.range(9,-1,-advanceClockStep).map(function(r){return{period:e,minute:0,second:t,tenthOfASecond:r}})}))}function minuteRange(e,t){return _lodash.default.range(e-1,Math.max(t-1,-1),-1)}function secondRange(e,t,r){var n=e===t?r-1:-1;return _lodash.default.range(59,n,-advanceClockStep)}function multiplyGoalScoringTimeEvents(e,t,r){return _lodash.default.take(e).concat(_lodash.default.flatten(_lodash.default.zip(_lodash.default.dropRight(e),_lodash.default.drop(e)).map(function(e){var n=_slicedToArray(e,2),a=n[0],o=n[1],i=getGoalsScoredInTimeRange(a,o,t);return _lodash.default.flatten([o].concat(_toConsumableArray(i.map(function(e){var t=e.update;return _lodash.default.times(r,function(){return _objectSpread({},o,{update:t})})}))))})))}function getGoalsScoredInTimeRange(e,t,r){var n=_lodash.default.partial(_utils.hasGoalBeenScored,e),a=_lodash.default.partial(_utils.hasGoalBeenScored,t),o=_lodash.default.findLastIndex(r,n),i=_lodash.default.findLastIndex(r,a);return r.slice(o+1,i+1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=periodEvents;var _lodash=function(e){return e&&e.__esModule?e:{default:e}}(require("lodash")),_utils=require("./utils"),advanceClockStep=3},{"./utils":10,lodash:42}],8:[function(require,module,exports){"use strict";function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function main(e){return function(t){var r=t.DOM,n=t.HTTP,a=getApiUrl();return{DOM:view(model(intent(r,n),e)),HTTP:_xstream.default.of({url:a})}}}function getApiUrl(){return"".concat("https://nhl-score-api.herokuapp.com","/api/scores/latest")}function intent(e,t){var r=t.select().map(function(e){return e.replaceError(function(e){return _xstream.default.of({error:e})})}).flatten().map(function(e){if(e.error)return e;var t=JSON.parse(e.text);return t.games.length>0?{success:t}:{error:{message:"No latest scores available.",expected:!0}}}),n=r.filter(function(e){return e.success}).map(function(e){return e.success}),a=e.select(".button--play").events("click").mapTo(!0),o=e.select(".button--pause").events("click").mapTo(!1);return{successApiResponse$:n,isPlaying$:_xstream.default.merge(a,o),playbackHasStarted$:a.take(1),status$:r.filter(function(e){return e.error}).map(function(e){return e.error.expected?e.error.message:"Failed to fetch latest scores: ".concat(e.error.message,".")})}}function model(e,t){var r={date:{},games:[]},n=e.successApiResponse$.startWith(r),a=(0,_gameClock.default)({scores$:e.successApiResponse$.map(function(e){return e.games}),isPlaying$:e.isPlaying$,props$:_xstream.default.of({interval:20})});e.playbackHasStarted$.addListener({next:function(){return t.setInfoPanelsPlaybackHeight()}}),e.successApiResponse$.filter(function(e){return e.games.some(function(e){return(0,_gameScore.hasGameFinished)(e.status.state)})}).addListener({next:function(){return a.clock$.addListener({complete:function(){return t.setInfoPanelsFinalHeight()}})}});var o=a.clock$.map(function(e){return e.update||{}}).fold(function(e,t){return{nextToLast:e.last,last:t}},{}).filter(function(e){var t=e.nextToLast,r=void 0===t?{}:t,n=e.last,a=void 0===n?{}:n;return r.gameIndex!==a.gameIndex}),i=o.filter(function(e){return void 0!==e.last.gameIndex}).map(function(e){return e.last});return o.filter(function(e){return void 0!==e.nextToLast.gameIndex}).map(function(e){return e.nextToLast}).addListener({next:function(e){t.stopGameHighlight(e.gameIndex)}}),i.addListener({next:function(e){switch(t.highlightGame(e.gameIndex),e.type){case _gameEvents.GAME_UPDATE_GOAL:t.highlightGoal(e.classModifier,e.gameIndex);break;default:throw new Error("Unknown game update type ".concat(e.type))}}}),_xstream.default.combine(n,e.isPlaying$.startWith(!1),e.status$.startWith("Fetching latest scores..."),a.DOM.startWith((0,_dom.span)(".clock")),a.clock$.startWith(null)).map(function(e){var t=_slicedToArray(e,5),r=t[0];return{scores:r,isPlaying:t[1],status:t[2],clockVtree:t[3],clock:t[4],gameCount:r.games.length}})}function view(e){return e.map(function(e){var t=e.scores,r=e.isPlaying,n=e.status,a=e.clockVtree,o=e.clock,i=e.gameCount;return(0,_dom.div)([(0,_dom.header)(".header",renderHeader({clockVtree:a,clock:o,gameCount:i,isPlaying:r,date:t.date})),(0,_dom.section)(".score-panel",renderScores({games:t.games,status:n,clock:o}))])})}function renderHeader(e){var t,r=!e.clock,n=!(!e.clock||!e.clock.end||e.clock.period),a=e.isPlaying?"pause":"play",o=(0,_classnames.default)((t={".button":!0},_defineProperty(t,".button--".concat(a),e.gameCount>0),_defineProperty(t,".expand--".concat(e.gameCount),e.gameCount>0&&r),_defineProperty(t,".button--hidden",n),t)).replace(/\s/g,""),i=r&&!!e.date;return(0,_dom.div)(".header__container",[(0,_dom.h1)(".header__title",[(0,_dom.span)(".all-caps","NHL")," Recap"]),(0,_dom.button)(o),i?renderDate(e.date):e.clockVtree])}function renderScores(e){var t=(0,_utils.getGameAnimationIndexes)(e.games.length);return e.games.length>0?(0,_dom.div)(".score-list",e.games.map(function(r,n){return(0,_gameScore.default)(e.clock,r,t[n])})):(0,_dom.div)(".status.fade-in",[e.status||"No scores available."])}function renderDate(e){return(0,_dom.span)(".date.fade-in-slow",e.pretty)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=main;var _dom=require("@cycle/dom"),_xstream=_interopRequireDefault(require("xstream")),_classnames=_interopRequireDefault(require("classnames")),_gameClock=_interopRequireDefault(require("./game-clock")),_gameEvents=require("./game-events"),_gameScore=function(e){if(e&&e.__esModule)return e;var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}}return r.default=e,t&&t.set(e,r),r}(require("./game-score")),_utils=require("./utils")},{"./game-clock":3,"./game-events":4,"./game-score":5,"./utils":10,"@cycle/dom":24,classnames:40,xstream:83}],9:[function(require,module,exports){"use strict";function shootoutEvents(e,t){return _lodash.default.chain(e).filter({period:_gameEvents.PERIOD_SHOOTOUT}).uniqBy("update.gameIndex").map(function(e){var u=e.update;return _lodash.default.times(t,function(){return{update:u,period:_gameEvents.PERIOD_SHOOTOUT}})}).flatten().value()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=shootoutEvents;var _lodash=function(e){return e&&e.__esModule?e:{default:e}}(require("lodash")),_gameEvents=require("./game-events")},{"./game-events":4,lodash:42}],10:[function(require,module,exports){"use strict";function remainingTimeToElapsedTime(e){var r=e.period,n=e.minute,i=e.second,a="OT"===r?5:20,t=60*(n||0)+(i||0),o=60*a-t,s=Math.floor(o/60);return{period:r,minute:s,second:o-60*s}}function elapsedTimeToRemainingTime(e){return remainingTimeToElapsedTime(e)}function hasGoalBeenScored(e,r){return hasElapsedTimePassed(e,{period:r.period,minute:r.min,second:r.sec})}function hasClockPassedCurrentProgress(e,r){
if(!e)return!1;var n=parseProgressTimeRemaining(r.progress);return!!n&&hasElapsedTimePassed(e,remainingTimeToElapsedTime(n))}function hasElapsedTimePassed(e,r){var n=remainingTimeToElapsedTime(e),i=n.minute,a=n.second;return getPeriodOrdinal(r.period)<getPeriodOrdinal(e.period)||getPeriodOrdinal(r.period)===getPeriodOrdinal(e.period)&&(r.minute<i||r.minute===i&&r.second<=a)}function parseProgressTimeRemaining(e){if(!e)return null;var r=e.currentPeriodTimeRemaining,n=r.min,i=r.sec;return{period:e.currentPeriod,minute:n,second:i}}function getPeriodOrdinal(e){switch(e){case _gameEvents.PERIOD_SHOOTOUT:return 5;case _gameEvents.PERIOD_OVERTIME:return 4;default:return Number(e)}}function truncatePlayerName(e){if(e.length<=20)return e;var r=e.split(" "),n=_lodash.default.dropRight(r);return"".concat(_lodash.default.flatten(n.map(function(e){return e.split("-").map(function(e){return"".concat(e[0],".")})})).join("")," ").concat(_lodash.default.last(r))}function getGameAnimationIndexes(e){return _lodash.default.times(e,function(r){return r%2==0?r/2:Math.floor((e-r)/2)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.remainingTimeToElapsedTime=remainingTimeToElapsedTime,exports.elapsedTimeToRemainingTime=elapsedTimeToRemainingTime,exports.hasGoalBeenScored=hasGoalBeenScored,exports.hasClockPassedCurrentProgress=hasClockPassedCurrentProgress,exports.getPeriodOrdinal=getPeriodOrdinal,exports.truncatePlayerName=truncatePlayerName,exports.getGameAnimationIndexes=getGameAnimationIndexes;var _lodash=function(e){return e&&e.__esModule?e:{default:e}}(require("lodash")),_gameEvents=require("./game-events")},{"./game-events":4,lodash:42}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt"),fromEvent_1=require("./fromEvent"),BodyDOMSource=function(){function e(e){this._name=e}return e.prototype.select=function(e){return this},e.prototype.elements=function(){var e=adapt_1.adapt(xstream_1.default.of([document.body]));return e._isCycleSource=this._name,e},e.prototype.element=function(){var e=adapt_1.adapt(xstream_1.default.of(document.body));return e._isCycleSource=this._name,e},e.prototype.events=function(e,t,r){void 0===t&&(t={});var o;o=fromEvent_1.fromEvent(document.body,e,t.useCapture,t.preventDefault);var a=adapt_1.adapt(o);return a._isCycleSource=this._name,a},e}();exports.BodyDOMSource=BodyDOMSource},{"./fromEvent":22,"@cycle/run/lib/adapt":31,xstream:83}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt"),fromEvent_1=require("./fromEvent"),DocumentDOMSource=function(){function e(e){this._name=e}return e.prototype.select=function(e){return this},e.prototype.elements=function(){var e=adapt_1.adapt(xstream_1.default.of([document]));return e._isCycleSource=this._name,e},e.prototype.element=function(){var e=adapt_1.adapt(xstream_1.default.of(document));return e._isCycleSource=this._name,e},e.prototype.events=function(e,t,r){void 0===t&&(t={});var n;n=fromEvent_1.fromEvent(document,e,t.useCapture,t.preventDefault);var o=adapt_1.adapt(n);return o._isCycleSource=this._name,o},e}();exports.DocumentDOMSource=DocumentDOMSource},{"./fromEvent":22,"@cycle/run/lib/adapt":31,xstream:83}],13:[function(require,module,exports){"use strict";function toElArray(e){return Array.prototype.slice.call(e)}Object.defineProperty(exports,"__esModule",{value:!0});var ScopeChecker_1=require("./ScopeChecker"),utils_1=require("./utils"),ElementFinder=function(){function e(e,t){this.namespace=e,this.isolateModule=t}return e.prototype.call=function(){var e=this.namespace,t=utils_1.getSelectors(e),r=new ScopeChecker_1.ScopeChecker(e,this.isolateModule),o=this.isolateModule.getElement(e.filter(function(e){return"selector"!==e.type}));return void 0===o?[]:""===t?[o]:toElArray(o.querySelectorAll(t)).filter(r.isDirectlyInScope,r).concat(o.matches(t)?[o]:[])},e}();exports.ElementFinder=ElementFinder},{"./ScopeChecker":19,"./utils":30}],14:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),ScopeChecker_1=require("./ScopeChecker"),utils_1=require("./utils"),ElementFinder_1=require("./ElementFinder"),SymbolTree_1=require("./SymbolTree"),RemovalSet_1=require("./RemovalSet"),PriorityQueue_1=require("./PriorityQueue"),fromEvent_1=require("./fromEvent");exports.eventTypesThatDontBubble=["blur","canplay","canplaythrough","durationchange","emptied","ended","focus","load","loadeddata","loadedmetadata","mouseenter","mouseleave","pause","play","playing","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","unload","volumechange","waiting"];var EventDelegator=function(){function e(e,t){var n=this;this.rootElement$=e,this.isolateModule=t,this.virtualListeners=new SymbolTree_1.default(function(e){return e.scope}),this.nonBubblingListenersToAdd=new RemovalSet_1.default,this.virtualNonBubblingListener=[],this.isolateModule.setEventDelegator(this),this.domListeners=new Map,this.domListenersToAdd=new Map,this.nonBubblingListeners=new Map,e.addListener({next:function(e){n.origin!==e&&(n.origin=e,n.resetEventListeners(),n.domListenersToAdd.forEach(function(e,t){return n.setupDOMListener(t,e)}),n.domListenersToAdd.clear()),n.resetNonBubblingListeners(),n.nonBubblingListenersToAdd.forEach(function(e){n.setupNonBubblingListener(e)})}})}return e.prototype.addEventListener=function(e,t,n,i){var s=xstream_1.default.never(),r=new ScopeChecker_1.ScopeChecker(t,this.isolateModule),o=this.insertListener(s,r,e,n);if(void 0===i?-1===exports.eventTypesThatDontBubble.indexOf(e):i)this.domListeners.has(e)||this.setupDOMListener(e,!!n.passive);else{var a=new ElementFinder_1.ElementFinder(t,this.isolateModule);this.setupNonBubblingListener([e,a,o])}return s},e.prototype.removeElement=function(e,t){void 0!==t&&this.virtualListeners.delete(t);var n=[];this.nonBubblingListeners.forEach(function(t,i){t.has(e)&&n.push([i,e])});for(var i=0;i<n.length;i++){var s=this.nonBubblingListeners.get(n[i][0]);s&&(s.delete(n[i][1]),0===s.size?this.nonBubblingListeners.delete(n[i][0]):this.nonBubblingListeners.set(n[i][0],s))}},e.prototype.insertListener=function(e,t,n,i){var s=[],r=t._namespace,o=r.length;do{s.push(this.getVirtualListeners(n,r,!0,o)),o--}while(o>=0&&"total"!==r[o].type);for(var a=__assign({},i,{scopeChecker:t,subject:e,bubbles:!!i.bubbles,useCapture:!!i.useCapture,passive:!!i.passive}),u=0;u<s.length;u++)s[u].add(a,r.length);return a},e.prototype.getVirtualListeners=function(e,t,n,i){void 0===n&&(n=!1);var s=void 0!==i?i:t.length;if(!n)for(var r=s-1;r>=0;r--){if("total"===t[r].type){s=r+1;break}s=r}var o=this.virtualListeners.getDefault(t,function(){return new Map},s);return o.has(e)||o.set(e,new PriorityQueue_1.default),o.get(e)},e.prototype.setupDOMListener=function(e,t){var n=this;if(this.origin){var i=fromEvent_1.fromEvent(this.origin,e,!1,!1,t).subscribe({next:function(i){return n.onEvent(e,i,t)},error:function(){},complete:function(){}});this.domListeners.set(e,{sub:i,passive:t})}else this.domListenersToAdd.set(e,t)},e.prototype.setupNonBubblingListener=function(e){var t=this,n=e[0],i=e[1],s=e[2];if(!this.origin)return void this.nonBubblingListenersToAdd.add(e);var r=i.call()[0];if(r){this.nonBubblingListenersToAdd.delete(e);var o=fromEvent_1.fromEvent(r,n,!1,!1,s.passive).subscribe({next:function(e){return t.onEvent(n,e,!!s.passive,!1)},error:function(){},complete:function(){}});this.nonBubblingListeners.has(n)||this.nonBubblingListeners.set(n,new Map);var a=this.nonBubblingListeners.get(n);if(!a)return;a.set(r,{sub:o,destination:s})}else this.nonBubblingListenersToAdd.add(e)},e.prototype.resetEventListeners=function(){for(var e=this.domListeners.entries(),t=e.next();!t.done;){var n=t.value,i=n[0],s=n[1],r=s.sub,o=s.passive;r.unsubscribe(),this.setupDOMListener(i,o),t=e.next()}},e.prototype.resetNonBubblingListeners=function(){var e=this,t=new Map,n=utils_1.makeInsert(t);this.nonBubblingListeners.forEach(function(i,s){i.forEach(function(t,i){if(document.body.contains(i))n(s,i,t);else{var r=t.sub,o=t.destination;r&&r.unsubscribe();var a=new ElementFinder_1.ElementFinder(o.scopeChecker.namespace,e.isolateModule),u=a.call()[0],l=fromEvent_1.fromEvent(u,s,!1,!1,o.passive).subscribe({next:function(t){return e.onEvent(s,t,!!o.passive,!1)},error:function(){},complete:function(){}});n(s,u,{sub:l,destination:o})}}),e.nonBubblingListeners=t})},e.prototype.putNonBubblingListener=function(e,t,n,i){var s=this.nonBubblingListeners.get(e);if(s){var r=s.get(t);r&&r.destination.passive===i&&r.destination.useCapture===n&&(this.virtualNonBubblingListener[0]=r.destination)}},e.prototype.onEvent=function(e,t,n,i){void 0===i&&(i=!0);var s=this.patchEvent(t),r=this.isolateModule.getRootElement(t.target);if(i){var o=this.isolateModule.getNamespace(t.target);if(!o)return;var a=this.getVirtualListeners(e,o);this.bubble(e,t.target,r,s,a,o,o.length-1,!0,n),this.bubble(e,t.target,r,s,a,o,o.length-1,!1,n)}else this.putNonBubblingListener(e,t.target,!0,n),this.doBubbleStep(e,t.target,r,s,this.virtualNonBubblingListener,!0,n),this.putNonBubblingListener(e,t.target,!1,n),this.doBubbleStep(e,t.target,r,s,this.virtualNonBubblingListener,!1,n),t.stopPropagation()},e.prototype.bubble=function(e,t,n,i,s,r,o,a,u){a||i.propagationHasBeenStopped||this.doBubbleStep(e,t,n,i,s,a,u);var l=n,p=o;if(t===n){if(!(o>=0&&"sibling"===r[o].type))return;l=this.isolateModule.getElement(r,o),p--}t.parentNode&&l&&this.bubble(e,t.parentNode,l,i,s,r,p,a,u),a&&!i.propagationHasBeenStopped&&this.doBubbleStep(e,t,n,i,s,a,u)},e.prototype.doBubbleStep=function(e,t,n,i,s,r,o){n&&(this.mutateEventCurrentTarget(i,t),s.forEach(function(e){if(e.passive===o&&e.useCapture===r){var s=utils_1.getSelectors(e.scopeChecker.namespace);!i.propagationHasBeenStopped&&e.scopeChecker.isDirectlyInScope(t)&&(""!==s&&t.matches(s)||""===s&&t===n)&&(fromEvent_1.preventDefaultConditional(i,e.preventDefault),e.subject.shamefullySendNext(i))}}))},e.prototype.patchEvent=function(e){var t=e;t.propagationHasBeenStopped=!1;var n=t.stopPropagation;return t.stopPropagation=function(){n.call(this),this.propagationHasBeenStopped=!0},t},e.prototype.mutateEventCurrentTarget=function(e,t){try{Object.defineProperty(e,"currentTarget",{value:t,configurable:!0})}catch(e){console.log("please use event.ownerTarget")}e.ownerTarget=t},e}();exports.EventDelegator=EventDelegator},{"./ElementFinder":13,"./PriorityQueue":17,"./RemovalSet":18,"./ScopeChecker":19,"./SymbolTree":20,"./fromEvent":22,"./utils":30,xstream:83}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("./utils"),SymbolTree_1=require("./SymbolTree"),IsolateModule=function(){function e(){this.namespaceTree=new SymbolTree_1.default(function(e){return e.scope}),this.namespaceByElement=new Map,this.vnodesBeingRemoved=[]}return e.prototype.setEventDelegator=function(e){this.eventDelegator=e},e.prototype.insertElement=function(e,t){this.namespaceByElement.set(t,e),this.namespaceTree.set(e,t)},e.prototype.removeElement=function(e){this.namespaceByElement.delete(e);var t=this.getNamespace(e);t&&this.namespaceTree.delete(t)},e.prototype.getElement=function(e,t){return this.namespaceTree.get(e,void 0,t)},e.prototype.getRootElement=function(e){if(this.namespaceByElement.has(e))return e;for(var t=e;!this.namespaceByElement.has(t);){if(!(t=t.parentNode))return;if("HTML"===t.tagName)throw new Error("No root element found, this should not happen at all")}return t},e.prototype.getNamespace=function(e){var t=this.getRootElement(e);if(t)return this.namespaceByElement.get(t)},e.prototype.createModule=function(){var e=this;return{create:function(t,n){var o=n.elm,r=n.data,a=void 0===r?{}:r,s=a.isolate;Array.isArray(s)&&e.insertElement(s,o)},update:function(t,n){var o=t.elm,r=t.data,a=void 0===r?{}:r,s=n.elm,i=n.data,l=void 0===i?{}:i,m=a.isolate,u=l.isolate;utils_1.isEqualNamespace(m,u)||Array.isArray(m)&&e.removeElement(o),Array.isArray(u)&&e.insertElement(u,s)},destroy:function(t){e.vnodesBeingRemoved.push(t)},remove:function(t,n){e.vnodesBeingRemoved.push(t),n()},post:function(){for(var t=e.vnodesBeingRemoved,n=t.length-1;n>=0;n--){var o=t[n],r=void 0!==o.data?o.data.isolation:void 0;void 0!==r&&e.removeElement(r),e.eventDelegator.removeElement(o.elm,r)}e.vnodesBeingRemoved=[]}}},e}();exports.IsolateModule=IsolateModule},{"./SymbolTree":20,"./utils":30}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var adapt_1=require("@cycle/run/lib/adapt"),DocumentDOMSource_1=require("./DocumentDOMSource"),BodyDOMSource_1=require("./BodyDOMSource"),ElementFinder_1=require("./ElementFinder"),isolate_1=require("./isolate"),MainDOMSource=function(){function e(t,n,r,o,i,a){void 0===r&&(r=[]),this._rootElement$=t,this._sanitation$=n,this._namespace=r,this._isolateModule=o,this._eventDelegator=i,this._name=a,this.isolateSource=function(t,n){return new e(t._rootElement$,t._sanitation$,t._namespace.concat(isolate_1.getScopeObj(n)),t._isolateModule,t._eventDelegator,t._name)},this.isolateSink=isolate_1.makeIsolateSink(this._namespace)}return e.prototype._elements=function(){if(0===this._namespace.length)return this._rootElement$.map(function(e){return[e]});var e=new ElementFinder_1.ElementFinder(this._namespace,this._isolateModule);return this._rootElement$.map(function(){return e.call()})},e.prototype.elements=function(){var e=adapt_1.adapt(this._elements().remember());return e._isCycleSource=this._name,e},e.prototype.element=function(){var e=adapt_1.adapt(this._elements().filter(function(e){return e.length>0}).map(function(e){return e[0]}).remember());return e._isCycleSource=this._name,e},Object.defineProperty(e.prototype,"namespace",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),e.prototype.select=function(t){if("string"!=typeof t)throw new Error("DOM driver's select() expects the argument to be a string as a CSS selector");if("document"===t)return new DocumentDOMSource_1.DocumentDOMSource(this._name);if("body"===t)return new BodyDOMSource_1.BodyDOMSource(this._name);var n=":root"===t?[]:this._namespace.concat({type:"selector",scope:t.trim()});return new e(this._rootElement$,this._sanitation$,n,this._isolateModule,this._eventDelegator,this._name)},e.prototype.events=function(e,t,n){if(void 0===t&&(t={}),"string"!=typeof e)throw new Error("DOM driver's events() expects argument to be a string representing the event type to listen for.");var r=this._eventDelegator.addEventListener(e,this._namespace,t,n),o=adapt_1.adapt(r);return o._isCycleSource=this._name,o},e.prototype.dispose=function(){this._sanitation$.shamefullySendNext(null)},e}();exports.MainDOMSource=MainDOMSource},{"./BodyDOMSource":11,"./DocumentDOMSource":12,"./ElementFinder":13,"./isolate":25,"@cycle/run/lib/adapt":31}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PriorityQueue=function(){function r(){this.arr=[],this.prios=[]}return r.prototype.add=function(r,t){for(var i=0;i<this.arr.length;i++)if(this.prios[i]<t)return this.arr.splice(i,0,r),void this.prios.splice(i,0,t);this.arr.push(r),this.prios.push(t)},r.prototype.forEach=function(r){for(var t=0;t<this.arr.length;t++)r(this.arr[t],t,this.arr)},r.prototype.delete=function(r){for(var t=0;t<this.arr.length;t++)if(this.arr[t]===r)return this.arr.splice(t,1),void this.prios.splice(t,1)},r}();exports.default=PriorityQueue},{}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RemovalSet=function(){function e(){this.toDelete=[],this.toDeleteSize=0,this._set=new Set}return e.prototype.add=function(e){this._set.add(e)},e.prototype.forEach=function(e){this._set.forEach(e),this.flush()},e.prototype.delete=function(e){this.toDelete.length===this.toDeleteSize?this.toDelete.push(e):this.toDelete[this.toDeleteSize]=e,this.toDeleteSize++},e.prototype.flush=function(){for(var e=0;e<this.toDelete.length;e++)e<this.toDeleteSize&&this._set.delete(this.toDelete[e]),this.toDelete[e]=void 0;this.toDeleteSize=0},e}();exports.default=RemovalSet},{}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("./utils"),ScopeChecker=function(){function e(e,t){this.namespace=e,this.isolateModule=t,this._namespace=e.filter(function(e){return"selector"!==e.type})}return e.prototype.isDirectlyInScope=function(e){var t=this.isolateModule.getNamespace(e);if(!t)return!1;if(this._namespace.length>t.length||!utils_1.isEqualNamespace(this._namespace,t.slice(0,this._namespace.length)))return!1;for(var r=this._namespace.length;r<t.length;r++)if("total"===t[r].type)return!1;return!0},e}();exports.ScopeChecker=ScopeChecker},{"./utils":30}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SymbolTree=function(){function e(e){this.mapper=e,this.tree=[void 0,{}]}return e.prototype.set=function(e,t,r){for(var o=this.tree,i=void 0!==r?r:e.length,n=0;n<i;n++){var p=this.mapper(e[n]),s=o[1][p];s||(s=[void 0,{}],o[1][p]=s),o=s}o[0]=t},e.prototype.getDefault=function(e,t,r){return this.get(e,t,r)},e.prototype.get=function(e,t,r){for(var o=this.tree,i=void 0!==r?r:e.length,n=0;n<i;n++){var p=this.mapper(e[n]),s=o[1][p];if(!s){if(!t)return;s=[void 0,{}],o[1][p]=s}o=s}return t&&!o[0]&&(o[0]=t()),o[0]},e.prototype.delete=function(e){for(var t=this.tree,r=0;r<e.length-1;r++){var o=t[1][this.mapper(e[r])];if(!o)return;t=o}delete t[1][this.mapper(e[e.length-1])]},e}();exports.default=SymbolTree},{}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=require("snabbdom/vnode"),h_1=require("snabbdom/h"),snabbdom_selector_1=require("snabbdom-selector"),utils_1=require("./utils"),VNodeWrapper=function(){function e(e){this.rootElement=e}return e.prototype.call=function(e){if(utils_1.isDocFrag(this.rootElement))return this.wrapDocFrag(null===e?[]:[e]);if(null===e)return this.wrap([]);var t=snabbdom_selector_1.selectorParser(e),r=t.tagName,o=t.id,a=snabbdom_selector_1.classNameFromVNode(e),s=e.data||{},i=s.props||{},n=i.id,p=void 0===n?o:n;return"string"==typeof p&&p.toUpperCase()===this.rootElement.id.toUpperCase()&&r.toUpperCase()===this.rootElement.tagName.toUpperCase()&&a.toUpperCase()===this.rootElement.className.toUpperCase()?e:this.wrap([e])},e.prototype.wrapDocFrag=function(e){return vnode_1.vnode("",{isolate:[]},e,void 0,this.rootElement)},e.prototype.wrap=function(e){var t=this.rootElement,r=t.tagName,o=t.id,a=t.className,s=o?"#"+o:"",i=a?"."+a.split(" ").join("."):"",n=h_1.h(""+r.toLowerCase()+s+i,{},e);return n.data=n.data||{},n.data.isolate=n.data.isolate||[],n},e}();exports.VNodeWrapper=VNodeWrapper},{"./utils":30,"snabbdom-selector":48,"snabbdom/h":52,"snabbdom/vnode":63}],22:[function(require,module,exports){"use strict";function fromEvent(e,t,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1);var i=null;return xstream_1.Stream.create({start:function(a){i=r?function(e){preventDefaultConditional(e,r),a.next(e)}:function(e){a.next(e)},e.addEventListener(t,i,{capture:n,passive:o})},stop:function(){e.removeEventListener(t,i,n),i=null}})}function matchObject(e,t){for(var n=Object.keys(e),r=n.length,o=0;o<r;o++){var i=n[o];if("object"==typeof e[i]&&"object"==typeof t[i]){if(!matchObject(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1}return!0}function preventDefaultConditional(e,t){if(t)if("boolean"==typeof t)e.preventDefault();else if(isPredicate(t))t(e)&&e.preventDefault();else{if("object"!=typeof t)throw new Error("preventDefault has to be either a boolean, predicate function or object");matchObject(t,e)&&e.preventDefault()}}function isPredicate(e){return"function"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream");exports.fromEvent=fromEvent,exports.preventDefaultConditional=preventDefaultConditional},{xstream:83}],23:[function(require,module,exports){"use strict";function isValidString(e){return"string"==typeof e&&e.length>0}function isSelector(e){return isValidString(e)&&("."===e[0]||"#"===e[0])}function createTagFunction(e){return function(t,a,r){var o=void 0!==t,i=void 0!==a,n=void 0!==r;return isSelector(t)?i&&n?h_1.h(e+t,a,r):i?h_1.h(e+t,a):h_1.h(e+t,{}):n?h_1.h(e+t,a,r):i?h_1.h(e,t,a):o?h_1.h(e,t):h_1.h(e,{})}}Object.defineProperty(exports,"__esModule",{value:!0});var h_1=require("snabbdom/h"),SVG_TAG_NAMES=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","colorProfile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotlight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missingGlyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],svg=createTagFunction("svg");SVG_TAG_NAMES.forEach(function(e){svg[e]=createTagFunction(e)});var TAG_NAMES=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","video"],exported={SVG_TAG_NAMES:SVG_TAG_NAMES,TAG_NAMES:TAG_NAMES,svg:svg,isSelector:isSelector,createTagFunction:createTagFunction};TAG_NAMES.forEach(function(e){exported[e]=createTagFunction(e)}),exports.default=exported},{"snabbdom/h":52}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var thunk_1=require("./thunk");exports.thunk=thunk_1.thunk;var MainDOMSource_1=require("./MainDOMSource");exports.MainDOMSource=MainDOMSource_1.MainDOMSource;var makeDOMDriver_1=require("./makeDOMDriver");exports.makeDOMDriver=makeDOMDriver_1.makeDOMDriver;var mockDOMSource_1=require("./mockDOMSource");exports.mockDOMSource=mockDOMSource_1.mockDOMSource,exports.MockedDOMSource=mockDOMSource_1.MockedDOMSource;var h_1=require("snabbdom/h");exports.h=h_1.h;var hyperscript_helpers_1=require("./hyperscript-helpers");exports.svg=hyperscript_helpers_1.default.svg,exports.a=hyperscript_helpers_1.default.a,exports.abbr=hyperscript_helpers_1.default.abbr,exports.address=hyperscript_helpers_1.default.address,exports.area=hyperscript_helpers_1.default.area,exports.article=hyperscript_helpers_1.default.article,exports.aside=hyperscript_helpers_1.default.aside,exports.audio=hyperscript_helpers_1.default.audio,exports.b=hyperscript_helpers_1.default.b,exports.base=hyperscript_helpers_1.default.base,exports.bdi=hyperscript_helpers_1.default.bdi,exports.bdo=hyperscript_helpers_1.default.bdo,exports.blockquote=hyperscript_helpers_1.default.blockquote,exports.body=hyperscript_helpers_1.default.body,exports.br=hyperscript_helpers_1.default.br,exports.button=hyperscript_helpers_1.default.button,exports.canvas=hyperscript_helpers_1.default.canvas,exports.caption=hyperscript_helpers_1.default.caption,exports.cite=hyperscript_helpers_1.default.cite,exports.code=hyperscript_helpers_1.default.code,exports.col=hyperscript_helpers_1.default.col,exports.colgroup=hyperscript_helpers_1.default.colgroup,exports.dd=hyperscript_helpers_1.default.dd,exports.del=hyperscript_helpers_1.default.del,exports.dfn=hyperscript_helpers_1.default.dfn,exports.dir=hyperscript_helpers_1.default.dir,exports.div=hyperscript_helpers_1.default.div,exports.dl=hyperscript_helpers_1.default.dl,exports.dt=hyperscript_helpers_1.default.dt,exports.em=hyperscript_helpers_1.default.em,exports.embed=hyperscript_helpers_1.default.embed,exports.fieldset=hyperscript_helpers_1.default.fieldset,exports.figcaption=hyperscript_helpers_1.default.figcaption,exports.figure=hyperscript_helpers_1.default.figure,exports.footer=hyperscript_helpers_1.default.footer,exports.form=hyperscript_helpers_1.default.form,exports.h1=hyperscript_helpers_1.default.h1,exports.h2=hyperscript_helpers_1.default.h2,exports.h3=hyperscript_helpers_1.default.h3,exports.h4=hyperscript_helpers_1.default.h4,exports.h5=hyperscript_helpers_1.default.h5,exports.h6=hyperscript_helpers_1.default.h6,exports.head=hyperscript_helpers_1.default.head,exports.header=hyperscript_helpers_1.default.header,exports.hgroup=hyperscript_helpers_1.default.hgroup,exports.hr=hyperscript_helpers_1.default.hr,exports.html=hyperscript_helpers_1.default.html,exports.i=hyperscript_helpers_1.default.i,exports.iframe=hyperscript_helpers_1.default.iframe,exports.img=hyperscript_helpers_1.default.img,exports.input=hyperscript_helpers_1.default.input,exports.ins=hyperscript_helpers_1.default.ins,exports.kbd=hyperscript_helpers_1.default.kbd,exports.keygen=hyperscript_helpers_1.default.keygen,exports.label=hyperscript_helpers_1.default.label,exports.legend=hyperscript_helpers_1.default.legend,exports.li=hyperscript_helpers_1.default.li,exports.link=hyperscript_helpers_1.default.link,exports.main=hyperscript_helpers_1.default.main,exports.map=hyperscript_helpers_1.default.map,exports.mark=hyperscript_helpers_1.default.mark,exports.menu=hyperscript_helpers_1.default.menu,exports.meta=hyperscript_helpers_1.default.meta,exports.nav=hyperscript_helpers_1.default.nav,exports.noscript=hyperscript_helpers_1.default.noscript,exports.object=hyperscript_helpers_1.default.object,exports.ol=hyperscript_helpers_1.default.ol,exports.optgroup=hyperscript_helpers_1.default.optgroup,exports.option=hyperscript_helpers_1.default.option,exports.p=hyperscript_helpers_1.default.p,exports.param=hyperscript_helpers_1.default.param,exports.pre=hyperscript_helpers_1.default.pre,exports.progress=hyperscript_helpers_1.default.progress,exports.q=hyperscript_helpers_1.default.q,exports.rp=hyperscript_helpers_1.default.rp,exports.rt=hyperscript_helpers_1.default.rt,exports.ruby=hyperscript_helpers_1.default.ruby,exports.s=hyperscript_helpers_1.default.s,exports.samp=hyperscript_helpers_1.default.samp,exports.script=hyperscript_helpers_1.default.script,exports.section=hyperscript_helpers_1.default.section,exports.select=hyperscript_helpers_1.default.select,exports.small=hyperscript_helpers_1.default.small,exports.source=hyperscript_helpers_1.default.source,exports.span=hyperscript_helpers_1.default.span,exports.strong=hyperscript_helpers_1.default.strong,exports.style=hyperscript_helpers_1.default.style,exports.sub=hyperscript_helpers_1.default.sub,exports.sup=hyperscript_helpers_1.default.sup,exports.table=hyperscript_helpers_1.default.table,exports.tbody=hyperscript_helpers_1.default.tbody,exports.td=hyperscript_helpers_1.default.td,exports.textarea=hyperscript_helpers_1.default.textarea,exports.tfoot=hyperscript_helpers_1.default.tfoot,exports.th=hyperscript_helpers_1.default.th,exports.thead=hyperscript_helpers_1.default.thead,exports.title=hyperscript_helpers_1.default.title,exports.tr=hyperscript_helpers_1.default.tr,exports.u=hyperscript_helpers_1.default.u,exports.ul=hyperscript_helpers_1.default.ul,exports.video=hyperscript_helpers_1.default.video},{"./MainDOMSource":16,"./hyperscript-helpers":23,"./makeDOMDriver":26,"./mockDOMSource":27,"./thunk":29,"snabbdom/h":52}],25:[function(require,module,exports){"use strict";function makeIsolateSink(t){return function(e,a){return":root"===a?e:e.map(function(e){if(!e)return e;var s=getScopeObj(a),i=__assign({},e,{data:__assign({},e.data,{isolate:e.data&&Array.isArray(e.data.isolate)?e.data.isolate:t.concat([s])})});return __assign({},i,{key:void 0!==i.key?i.key:JSON.stringify(i.data.isolate)})})}}function getScopeObj(t){return{type:utils_1.isClassOrId(t)?"sibling":"total",scope:t}}var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++){e=arguments[a];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("./utils");exports.makeIsolateSink=makeIsolateSink,exports.getScopeObj=getScopeObj},{"./utils":30}],26:[function(require,module,exports){"use strict";function makeDOMDriverInputGuard(e){if(!Array.isArray(e))throw new Error("Optional modules option must be an array for snabbdom modules")}function domDriverInputGuard(e){if(!e||"function"!=typeof e.addListener||"function"!=typeof e.fold)throw new Error("The DOM driver function expects as input a Stream of virtual DOM elements")}function dropCompletion(e){return xstream_1.default.merge(e,xstream_1.default.never())}function unwrapElementFromVNode(e){return e.elm}function reportSnabbdomError(e){(console.error||console.log)(e)}function makeDOMReady$(){return xstream_1.default.create({start:function(e){"loading"===document.readyState?document.addEventListener("readystatechange",function(){var r=document.readyState;"interactive"!==r&&"complete"!==r||(e.next(null),e.complete())}):(e.next(null),e.complete())},stop:function(){}})}function addRootScope(e){return e.data=e.data||{},e.data.isolate=[],e}function makeDOMDriver(e,r){function t(r,t){void 0===t&&(t="DOM"),domDriverInputGuard(r);var o=xstream_1.default.create(),m=i.map(function(){var r=utils_1.getValidNode(e)||document.body;return a=new VNodeWrapper_1.VNodeWrapper(r),r}),c=r.remember();c.addListener({}),l.addListener({});var s=m.map(function(e){return xstream_1.default.merge(c.endWhen(o),o).map(function(e){return a.call(e)}).startWith(addRootScope(tovnode_1.toVNode(e))).fold(d,tovnode_1.toVNode(e)).drop(1).map(unwrapElementFromVNode).startWith(e).map(function(e){return n.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),e}).compose(dropCompletion)}).flatten(),p=concat_1.default(i,l).endWhen(o).compose(sampleCombine_1.default(s)).map(function(e){return e[1]}).remember();p.addListener({error:reportSnabbdomError});var f=new EventDelegator_1.EventDelegator(p,u);return new MainDOMSource_1.MainDOMSource(p,o,[],u,f,t)}r||(r={}),utils_1.checkValidContainer(e);var o=r.modules||modules_1.default;makeDOMDriverInputGuard(o);var a,n,u=new IsolateModule_1.IsolateModule,d=snabbdom_1.init([u.createModule()].concat(o)),i=makeDOMReady$(),l=xstream_1.default.create({start:function(e){n=new MutationObserver(function(){return e.next(null)})},stop:function(){n.disconnect()}});return t}Object.defineProperty(exports,"__esModule",{value:!0})
;var snabbdom_1=require("snabbdom"),xstream_1=require("xstream"),concat_1=require("xstream/extra/concat"),sampleCombine_1=require("xstream/extra/sampleCombine"),MainDOMSource_1=require("./MainDOMSource"),tovnode_1=require("snabbdom/tovnode"),VNodeWrapper_1=require("./VNodeWrapper"),utils_1=require("./utils"),modules_1=require("./modules"),IsolateModule_1=require("./IsolateModule"),EventDelegator_1=require("./EventDelegator");exports.makeDOMDriver=makeDOMDriver},{"./EventDelegator":14,"./IsolateModule":15,"./MainDOMSource":16,"./VNodeWrapper":21,"./modules":28,"./utils":30,snabbdom:60,"snabbdom/tovnode":62,xstream:83,"xstream/extra/concat":81,"xstream/extra/sampleCombine":82}],27:[function(require,module,exports){"use strict";function mockDOMSource(e){return new MockedDOMSource(e)}Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt"),MockedDOMSource=function(){function e(e){this._mockConfig=e,e.elements?this._elements=e.elements:this._elements=adapt_1.adapt(xstream_1.default.empty())}return e.prototype.elements=function(){var e=this._elements;return e._isCycleSource="MockedDOM",e},e.prototype.element=function(){var e=this.elements().filter(function(e){return e.length>0}).map(function(e){return e[0]}).remember(),t=adapt_1.adapt(e);return t._isCycleSource="MockedDOM",t},e.prototype.events=function(e,t,r){var o=this._mockConfig[e],n=adapt_1.adapt(o||xstream_1.default.empty());return n._isCycleSource="MockedDOM",n},e.prototype.select=function(t){return new e(this._mockConfig[t]||{})},e.prototype.isolateSource=function(e,t){return e.select(".___"+t)},e.prototype.isolateSink=function(e,t){return adapt_1.adapt(xstream_1.default.fromObservable(e).map(function(e){return e.sel&&-1!==e.sel.indexOf("___"+t)?e:(e.sel+=".___"+t,e)}))},e}();exports.MockedDOMSource=MockedDOMSource,exports.mockDOMSource=mockDOMSource},{"@cycle/run/lib/adapt":31,xstream:83}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var class_1=require("snabbdom/modules/class");exports.ClassModule=class_1.default;var props_1=require("snabbdom/modules/props");exports.PropsModule=props_1.default;var attributes_1=require("snabbdom/modules/attributes");exports.AttrsModule=attributes_1.default;var style_1=require("snabbdom/modules/style");exports.StyleModule=style_1.default;var dataset_1=require("snabbdom/modules/dataset");exports.DatasetModule=dataset_1.default;var modules=[style_1.default,class_1.default,props_1.default,attributes_1.default,dataset_1.default];exports.default=modules},{"snabbdom/modules/attributes":55,"snabbdom/modules/class":56,"snabbdom/modules/dataset":57,"snabbdom/modules/props":58,"snabbdom/modules/style":59}],29:[function(require,module,exports){"use strict";function copyToThunk(t,a){a.elm=t.elm,t.data.fn=a.data.fn,t.data.args=a.data.args,t.data.isolate=a.data.isolate,a.data=t.data,a.children=t.children,a.text=t.text,a.elm=t.elm}function init(t){var a=t.data;copyToThunk(a.fn.apply(void 0,a.args),t)}function prepatch(t,a){var n,e=t.data,o=a.data,r=e.args,i=o.args;for(e.fn===o.fn&&r.length===i.length||copyToThunk(o.fn.apply(void 0,i),a),n=0;n<i.length;++n)if(r[n]!==i[n])return void copyToThunk(o.fn.apply(void 0,i),a);copyToThunk(t,a)}function thunk(t,a,n,e){return void 0===e&&(e=n,n=a,a=void 0),h_1.h(t,{key:a,hook:{init:init,prepatch:prepatch},fn:n,args:e})}Object.defineProperty(exports,"__esModule",{value:!0});var h_1=require("snabbdom/h");exports.thunk=thunk,exports.default=thunk},{"snabbdom/h":52}],30:[function(require,module,exports){"use strict";function isValidNode(e){return"object"==typeof HTMLElement?e instanceof HTMLElement||e instanceof DocumentFragment:e&&"object"==typeof e&&null!==e&&(1===e.nodeType||11===e.nodeType)&&"string"==typeof e.nodeName}function isClassOrId(e){return e.length>1&&("."===e[0]||"#"===e[0])}function isDocFrag(e){return 11===e.nodeType}function checkValidContainer(e){if("string"!=typeof e&&!isValidNode(e))throw new Error("Given container is not a DOM element neither a selector string.")}function getValidNode(e){var t="string"==typeof e?document.querySelector(e):e;if("string"==typeof e&&null===t)throw new Error("Cannot render into unknown element `"+e+"`");return t}function getSelectors(e){for(var t="",r=e.length-1;r>=0&&"selector"===e[r].type;r--)t=e[r].scope+" "+t;return t.trim()}function isEqualNamespace(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==t[r].type||e[r].scope!==t[r].scope)return!1;return!0}function makeInsert(e){return function(t,r,n){if(e.has(t)){var o=e.get(t);o.set(r,n)}else{var o=new Map;o.set(r,n),e.set(t,o)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isClassOrId=isClassOrId,exports.isDocFrag=isDocFrag,exports.checkValidContainer=checkValidContainer,exports.getValidNode=getValidNode,exports.getSelectors=getSelectors,exports.isEqualNamespace=isEqualNamespace,exports.makeInsert=makeInsert},{}],31:[function(require,module,exports){(function(global){"use strict";function getGlobal(){var t;return t="undefined"!=typeof window?window:void 0!==global?global:this,t.Cyclejs=t.Cyclejs||{},t=t.Cyclejs,t.adaptStream=t.adaptStream||function(t){return t},t}function setAdapt(t){getGlobal().adaptStream=t}function adapt(t){return getGlobal().adaptStream(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAdapt=setAdapt,exports.adapt=adapt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var isolate_1=require("./isolate"),adapt_1=require("@cycle/run/lib/adapt"),MainHTTPSource=function(){function e(e,t,i){void 0===i&&(i=[]),this._res$$=e,this._name=t,this._namespace=i,this.isolateSource=isolate_1.isolateSource,this.isolateSink=isolate_1.isolateSink}return e.prototype.filter=function(t,i){return new e(this._res$$.filter(function(e){return t(e.request)}),this._name,void 0===i?this._namespace:this._namespace.concat(i))},e.prototype.select=function(e){var t=e?this._res$$.filter(function(t){return t.request&&t.request.category===e}):this._res$$,i=adapt_1.adapt(t);return i._isCycleSource=this._name,i},e}();exports.MainHTTPSource=MainHTTPSource},{"./isolate":35,"@cycle/run/lib/adapt":36}],33:[function(require,module,exports){"use strict";function preprocessReqOptions(e){return e.withCredentials=e.withCredentials||!1,e.redirects="number"==typeof e.redirects?e.redirects:5,e.method=e.method||"get",e}function optionsToSuperagent(e){var r=preprocessReqOptions(e);if("string"!=typeof r.url)throw new Error("Please provide a `url` property in the request options.");var t=(r.method||"GET").toLowerCase(),n="delete"===t?"del":t,o=superagent[n](r.url);if("function"==typeof o.redirects&&(o=o.redirects(r.redirects)),r.type&&(o=o.type(r.type)),r.send&&(o=o.send(r.send)),r.accept&&(o=o.accept(r.accept)),r.query&&(o=o.query(r.query)),r.withCredentials&&(o=o.withCredentials()),r.agent&&(o=o.key(r.agent.key),o=o.cert(r.agent.cert)),"string"==typeof r.user&&"string"==typeof r.password&&(o=o.auth(r.user,r.password)),r.headers)for(var s in r.headers)r.headers.hasOwnProperty(s)&&(o=o.set(s,r.headers[s]));if(r.field)for(var s in r.field)r.field.hasOwnProperty(s)&&(o=o.field(s,r.field[s]));if(r.attach)for(var a=r.attach.length-1;a>=0;a--){var i=r.attach[a];o=o.attach(i.name,i.path,i.filename)}return r.responseType&&(o=o.responseType(r.responseType)),r.ok&&(o=o.ok(r.ok)),o}function createResponse$(e){var r;return xstream_1.default.create({start:function(t){try{var n=normalizeRequestInput(e);r=optionsToSuperagent(n),n.progress&&(r=r.on("progress",function(e){e.request=n,t.next(e)})),r.end(function(e,r){e?(e.response&&(e.response.request=n),t.error(e)):(r.request=n,t.next(r),t.complete())})}catch(e){t.error(e)}},stop:function(){r&&r.abort&&(r.abort(),r=null)}})}function softNormalizeRequestInput(e){var r;try{r=normalizeRequestInput(e)}catch(e){r={url:"Error",_error:e}}return r}function normalizeRequestInput(e){if("string"==typeof e)return{url:e};if("object"==typeof e)return e;throw new Error("Observable of requests given to HTTP Driver must emit either URL strings or objects with parameters.")}function requestInputToResponse$(e){var r=createResponse$(e).remember(),t=softNormalizeRequestInput(e);return t.lazy||r.addListener({next:function(){},error:function(){},complete:function(){}}),r=adapt_1.adapt(r),Object.defineProperty(r,"request",{value:t,writable:!1}),r}function makeHTTPDriver(){function e(e,r){void 0===r&&(r="HTTP");var t=e.map(requestInputToResponse$),n=new MainHTTPSource_1.MainHTTPSource(t,r,[]);return t.addListener({next:function(){},error:function(){},complete:function(){}}),n}return e}Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt"),MainHTTPSource_1=require("./MainHTTPSource"),superagent=require("superagent");exports.optionsToSuperagent=optionsToSuperagent,exports.createResponse$=createResponse$,exports.makeHTTPDriver=makeHTTPDriver},{"./MainHTTPSource":32,"@cycle/run/lib/adapt":36,superagent:65,xstream:83}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var http_driver_1=require("./http-driver");exports.makeHTTPDriver=http_driver_1.makeHTTPDriver},{"./http-driver":33}],35:[function(require,module,exports){"use strict";function arrayEqual(e,a){for(var r=0;r<a.length;r++)if(e[r]!==a[r])return!1;return!0}function isolateSource(e,a){return null===a?e:e.filter(function(r){return Array.isArray(r._namespace)&&arrayEqual(r._namespace,e._namespace.concat(a))},a)}function isolateSink(e,a){return null===a?e:adapt_1.adapt(xstream_1.default.fromObservable(e).map(function(e){return"string"==typeof e?{url:e,_namespace:[a]}:(e._namespace=e._namespace||[],e._namespace.unshift(a),e)}))}Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt");exports.isolateSource=isolateSource,exports.isolateSink=isolateSink},{"@cycle/run/lib/adapt":36,xstream:83}],36:[function(require,module,exports){arguments[4][31][0].apply(exports,arguments)},{dup:31}],37:[function(require,module,exports){(function(global){"use strict";function getGlobal(){var t;return t="undefined"!=typeof window?window:void 0!==global?global:this,t.Cyclejs=t.Cyclejs||{},t=t.Cyclejs,t.adaptStream=t.adaptStream||function(t){return t},t}function setAdapt(t){getGlobal().adaptStream=t}function adapt(t){return getGlobal().adaptStream(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAdapt=setAdapt,exports.adapt=adapt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(require,module,exports){"use strict";function setup(e,r){function n(){var e=t.run(s);return function(){e(),t.dispose()}}if("function"!=typeof e)throw new Error("First argument given to Cycle must be the 'main' function.");if("object"!=typeof r||null===r)throw new Error("Second argument given to Cycle must be an object with driver functions as properties.");if(internals_1.isObjectEmpty(r))throw new Error("Second argument given to Cycle must be an object with at least one driver function declared as a property.");var t=setupReusable(r),s=e(t.sources);return"undefined"!=typeof window&&(window.Cyclejs=window.Cyclejs||{},window.Cyclejs.sinks=s),{sinks:s,sources:t.sources,run:n}}function setupReusable(e){function r(e){return internals_1.replicateMany(e,t)}function n(){internals_1.disposeSources(o),internals_1.disposeSinkProxies(t)}if("object"!=typeof e||null===e)throw new Error("Argument given to setupReusable must be an object with driver functions as properties.");if(internals_1.isObjectEmpty(e))throw new Error("Argument given to setupReusable must be an object with at least one driver function declared as a property.");var t=internals_1.makeSinkProxies(e),s=internals_1.callDrivers(e,t),o=internals_1.adaptSources(s);return{sources:o,run:r,dispose:n}}function run(e,r){var n=setup(e,r);return"undefined"!=typeof window&&window.CyclejsDevTool_startGraphSerializer&&window.CyclejsDevTool_startGraphSerializer(n.sinks),n.run()}Object.defineProperty(exports,"__esModule",{value:!0});var internals_1=require("./internals");exports.setup=setup,exports.setupReusable=setupReusable,exports.run=run,exports.default=run},{"./internals":39}],39:[function(require,module,exports){"use strict";function makeSinkProxies(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(r[t]=xstream_1.default.create());return r}function callDrivers(e,r){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n](r[n],n),t[n]&&"object"==typeof t[n]&&(t[n]._isCycleSource=n));return t}function adaptSources(e){for(var r in e)e.hasOwnProperty(r)&&e[r]&&"function"==typeof e[r].shamefullySendNext&&(e[r]=adapt_1.adapt(e[r]));return e}function replicateMany(e,r){var t=Object.keys(e).filter(function(e){return!!r[e]}),n={},o={};t.forEach(function(e){n[e]={_n:[],_e:[]},o[e]={next:function(r){return n[e]._n.push(r)},error:function(r){return n[e]._e.push(r)},complete:function(){}}});var s=t.map(function(r){return xstream_1.default.fromObservable(e[r]).subscribe(o[r])});return t.forEach(function(e){var t=r[e],s=function(e){scheduleMicrotask(function(){return t._n(e)})},i=function(e){scheduleMicrotask(function(){(console.error||console.log)(e),t._e(e)})};n[e]._n.forEach(s),n[e]._e.forEach(i),o[e].next=s,o[e].error=i,o[e]._n=s,o[e]._e=i}),n=null,function(){s.forEach(function(e){return e.unsubscribe()})}}function disposeSinkProxies(e){Object.keys(e).forEach(function(r){return e[r]._c()})}function disposeSources(e){for(var r in e)e.hasOwnProperty(r)&&e[r]&&e[r].dispose&&e[r].dispose()}function isObjectEmpty(e){return 0===Object.keys(e).length}Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),quicktask_1=require("quicktask"),adapt_1=require("./adapt"),scheduleMicrotask=quicktask_1.default();exports.makeSinkProxies=makeSinkProxies,exports.callDrivers=callDrivers,exports.adaptSources=adaptSources,exports.replicateMany=replicateMany,exports.disposeSinkProxies=disposeSinkProxies,exports.disposeSources=disposeSources,exports.isObjectEmpty=isObjectEmpty},{"./adapt":37,quicktask:44,xstream:83}],40:[function(require,module,exports){!function(){"use strict";function e(){for(var r=[],o=0;o<arguments.length;o++){var f=arguments[o];if(f){var i=typeof f;if("string"===i||"number"===i)r.push(f);else if(Array.isArray(f))r.push(e.apply(null,f));else if("object"===i)for(var t in f)n.call(f,t)&&f[t]&&r.push(t)}}return r.join(" ")}var n={}.hasOwnProperty;void 0!==module&&module.exports?module.exports=e:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return e}):window.classNames=e}()},{}],41:[function(require,module,exports){function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}void 0!==module&&(module.exports=Emitter),Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Emitter.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,s=0;s<i.length;s++)if((r=i[s])===e||r.fn===e){i.splice(s,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i){i=i.slice(0);for(var r=0,s=i.length;r<s;++r)i[r].apply(this,e)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],42:[function(require,module,exports){(function(global){(function(){function n(n,t){return n.set(t[0],t[1]),n}function t(n,t){return n.add(t),n}function r(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function e(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function i(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function o(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function f(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function c(n,t){return!!(null==n?0:n.length)&&b(n,t,0)>-1}function a(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function l(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function s(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function h(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function p(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function _(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function v(n){return n.split("")}function g(n){return n.match(Bt)||[]}function y(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function d(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function b(n,t,r){return t===t?K(n,t,r):d(n,m,r)}function w(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function m(n){return n!==n}function x(n,t){var r=null==n?0:n.length;return r?I(n,t)/r:Sn}function j(n){return function(t){return null==t?X:t[n]}}function A(n){return function(t){return null==n?X:n[t]}}function k(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function O(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function I(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==X&&(r=r===X?i:r+i)}return r}function R(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function z(n,t){return l(t,function(t){return[t,n[t]]})}function E(n){return function(t){return n(t)}}function S(n,t){return l(t,function(t){return n[t]})}function L(n,t){return n.has(t)}function W(n,t){for(var r=-1,e=n.length;++r<e&&b(t,n[r],0)>-1;);return r}function C(n,t){for(var r=n.length;r--&&b(t,n[r],0)>-1;);return r}function U(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}function B(n){return"\\"+jr[n]}function T(n,t){return null==n?X:n[t]}function $(n){return _r.test(n)}function D(n){return vr.test(n)}function M(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function F(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function N(n,t){return function(r){return n(t(r))}}function P(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==on||(n[r]=on,i[u++]=r)}return i}function q(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function Z(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function K(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function V(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function G(n){return $(n)?J(n):Mr(n)}function H(n){return $(n)?Y(n):v(n)}function J(n){for(var t=hr.lastIndex=0;hr.test(n);)++t;return t}function Y(n){return n.match(hr)||[]}function Q(n){return n.match(pr)||[]}var X,nn=200,tn="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",rn="Expected a function",en="__lodash_hash_undefined__",on="__lodash_placeholder__",fn=1,cn=2,an=4,ln=1,sn=2,hn=1,pn=2,_n=4,vn=8,gn=16,yn=32,dn=64,bn=128,wn=256,mn=512,xn=30,jn="...",An=800,kn=16,On=1,In=2,Rn=1/0,zn=9007199254740991,En=1.7976931348623157e308,Sn=NaN,Ln=4294967295,Wn=Ln-1,Cn=Ln>>>1,Un=[["ary",bn],["bind",hn],["bindKey",pn],["curry",vn],["curryRight",gn],["flip",mn],["partial",yn],["partialRight",dn],["rearg",wn]],Bn="[object Arguments]",Tn="[object Array]",$n="[object AsyncFunction]",Dn="[object Boolean]",Mn="[object Date]",Fn="[object DOMException]",Nn="[object Error]",Pn="[object Function]",qn="[object GeneratorFunction]",Zn="[object Map]",Kn="[object Number]",Vn="[object Null]",Gn="[object Object]",Hn="[object Proxy]",Jn="[object RegExp]",Yn="[object Set]",Qn="[object String]",Xn="[object Symbol]",nt="[object Undefined]",tt="[object WeakMap]",rt="[object WeakSet]",et="[object ArrayBuffer]",ut="[object DataView]",it="[object Float32Array]",ot="[object Float64Array]",ft="[object Int8Array]",ct="[object Int16Array]",at="[object Int32Array]",lt="[object Uint8Array]",st="[object Uint8ClampedArray]",ht="[object Uint16Array]",pt="[object Uint32Array]",_t=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39);/g,dt=/[&<>"']/g,bt=RegExp(yt.source),wt=RegExp(dt.source),mt=/<%-([\s\S]+?)%>/g,xt=/<%([\s\S]+?)%>/g,jt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kt=/^\w*$/,Ot=/^\./,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/[\\^$.*+?()[\]{}|]/g,zt=RegExp(Rt.source),Et=/^\s+|\s+$/g,St=/^\s+/,Lt=/\s+$/,Wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ct=/\{\n\/\* \[wrapped with (.+)\] \*/,Ut=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tt=/\\(\\)?/g,$t=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,Mt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Nt=/^\[object .+?Constructor\]$/,Pt=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Vt=/['\n\r\u2028\u2029\\]/g,Gt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jt="["+Ht+"]",Yt="["+Gt+"]",Qt="[a-z\\xdf-\\xf6\\xf8-\\xff]",nr="\\ud83c[\\udffb-\\udfff]",tr="(?:\\ud83c[\\udde6-\\uddff]){2}",rr="[\\ud800-\\udbff][\\udc00-\\udfff]",er="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ur="(?:"+Qt+"|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])",ir="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",or="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",tr,rr].join("|")+")[\\ufe0e\\ufe0f]?"+ir+")*",fr="[\\ufe0e\\ufe0f]?"+ir+or,cr="(?:"+["[\\u2700-\\u27bf]",tr,rr].join("|")+")"+fr,ar="(?:"+["[^\\ud800-\\udfff]"+Yt+"?",Yt,tr,rr,"[\\ud800-\\udfff]"].join("|")+")",lr=RegExp("['’]","g"),sr=RegExp(Yt,"g"),hr=RegExp(nr+"(?="+nr+")|"+ar+fr,"g"),pr=RegExp([er+"?"+Qt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Jt,er,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Jt,er+ur,"$"].join("|")+")",er+"?"+ur+"+(?:['’](?:d|ll|m|re|s|t|ve))?",er+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",cr].join("|"),"g"),_r=RegExp("[\\u200d\\ud800-\\udfff"+Gt+"\\ufe0e\\ufe0f]"),vr=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yr=-1,dr={};dr[it]=dr[ot]=dr[ft]=dr[ct]=dr[at]=dr[lt]=dr[st]=dr[ht]=dr[pt]=!0,dr[Bn]=dr[Tn]=dr[et]=dr[Dn]=dr[ut]=dr[Mn]=dr[Nn]=dr[Pn]=dr[Zn]=dr[Kn]=dr[Gn]=dr[Jn]=dr[Yn]=dr[Qn]=dr[tt]=!1;var br={};br[Bn]=br[Tn]=br[et]=br[ut]=br[Dn]=br[Mn]=br[it]=br[ot]=br[ft]=br[ct]=br[at]=br[Zn]=br[Kn]=br[Gn]=br[Jn]=br[Yn]=br[Qn]=br[Xn]=br[lt]=br[st]=br[ht]=br[pt]=!0,br[Nn]=br[Pn]=br[tt]=!1;var wr={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ar=parseFloat,kr=parseInt,Or="object"==typeof global&&global&&global.Object===Object&&global,Ir="object"==typeof self&&self&&self.Object===Object&&self,Rr=Or||Ir||Function("return this")(),zr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Er=zr&&"object"==typeof module&&module&&!module.nodeType&&module,Sr=Er&&Er.exports===zr,Lr=Sr&&Or.process,Wr=function(){try{return Lr&&Lr.binding&&Lr.binding("util")}catch(n){}}(),Cr=Wr&&Wr.isArrayBuffer,Ur=Wr&&Wr.isDate,Br=Wr&&Wr.isMap,Tr=Wr&&Wr.isRegExp,$r=Wr&&Wr.isSet,Dr=Wr&&Wr.isTypedArray,Mr=j("length"),Fr=A(wr),Nr=A(mr),Pr=A(xr),qr=function v(A){function K(n){if(oc(n)&&!yh(n)&&!(n instanceof Bt)){if(n instanceof Y)return n;if(yl.call(n,"__wrapped__"))return to(n)}return new Y(n)}function J(){}function Y(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=X}function Bt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ln,this.__views__=[]}function Gt(){var n=new Bt(this.__wrapped__);return n.__actions__=Tu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tu(this.__views__),n}function Ht(){if(this.__filtered__){var n=new Bt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Jt(){var n=this.__wrapped__.value(),t=this.__dir__,r=yh(n),e=t<0,u=r?n.length:0,i=Oi(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Vl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return du(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==In)g=w;else if(!w){if(b==On)continue n;break n}}_[h++]=g}return _}function Yt(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Qt(){this.__data__=es?es(null):{},this.size=0}function Xt(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function nr(n){var t=this.__data__;if(es){var r=t[n];return r===en?X:r}return yl.call(t,n)?t[n]:X}function tr(n){var t=this.__data__;return es?t[n]!==X:yl.call(t,n)}function rr(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=es&&t===X?en:t,this}function er(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function ur(){this.__data__=[],this.size=0}function ir(n){var t=this.__data__,r=Jr(t,n);return!(r<0||(r==t.length-1?t.pop():Sl.call(t,r,1),--this.size,0))}function or(n){var t=this.__data__,r=Jr(t,n);return r<0?X:t[r][1]}function fr(n){return Jr(this.__data__,n)>-1}function cr(n,t){var r=this.__data__,e=Jr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function ar(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function hr(){this.size=0,this.__data__={hash:new Yt,map:new(Xl||er),string:new Yt}}function pr(n){var t=xi(this,n).delete(n);return this.size-=t?1:0,t}function _r(n){return xi(this,n).get(n)}function vr(n){return xi(this,n).has(n)}function wr(n,t){var r=xi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function mr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new ar;++t<r;)this.add(n[t])}function xr(n){return this.__data__.set(n,en),this}function jr(n){return this.__data__.has(n)}function Or(n){var t=this.__data__=new er(n);this.size=t.size}function Ir(){this.__data__=new er,this.size=0}function zr(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function Er(n){return this.__data__.get(n)}function Lr(n){return this.__data__.has(n)}function Wr(n,t){var r=this.__data__;if(r instanceof er){var e=r.__data__;if(!Xl||e.length<nn-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new ar(e)}return r.set(n,t),this.size=r.size,this}function Mr(n,t){var r=yh(n),e=!r&&gh(n),u=!r&&!e&&bh(n),i=!r&&!e&&!u&&Ah(n),o=r||e||u||i,f=o?R(n.length,ll):[],c=f.length;for(var a in n)!t&&!yl.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||Ci(a,c))||f.push(a);return f}function Zr(n){var t=n.length;return t?n[Xe(0,t-1)]:X}function Kr(n,t){return Yi(Tu(n),re(t,0,n.length))}function Vr(n){return Yi(Tu(n))}function Gr(n,t,r){(r===X||Kf(n[t],r))&&(r!==X||t in n)||ne(n,t,r)}function Hr(n,t,r){var e=n[t];yl.call(n,t)&&Kf(e,r)&&(r!==X||t in n)||ne(n,t,r)}function Jr(n,t){for(var r=n.length;r--;)if(Kf(n[r][0],t))return r;return-1}function Yr(n,t,r,e){return vs(n,function(n,u,i){t(e,n,r(n),i)}),e}function Qr(n,t){return n&&$u(t,Fc(t),n)}function Xr(n,t){return n&&$u(t,Nc(t),n)}function ne(n,t,r){"__proto__"==t&&Ul?Ul(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function te(n,t){for(var r=-1,e=t.length,u=el(e),i=null==n;++r<e;)u[r]=i?X:$c(n,t[r]);return u}function re(n,t,r){return n===n&&(r!==X&&(n=n<=r?n:r),t!==X&&(n=n>=t?n:t)),n}function ee(n,t,r,e,i,o){var f,c=t&fn,a=t&cn,l=t&an;if(r&&(f=i?r(n,e,i,o):r(n)),f!==X)return f;if(!ic(n))return n;var s=yh(n);if(s){if(f=zi(n),!c)return Tu(n,f)}else{var h=Is(n),p=h==Pn||h==qn;if(bh(n))return ku(n,c);if(h==Gn||h==Bn||p&&!i){if(f=a||p?{}:Ei(n),!c)return a?Mu(n,Xr(f,n)):Du(n,Qr(f,n))}else{if(!br[h])return i?n:{};f=Si(n,h,ee,c)}}o||(o=new Or);var _=o.get(n);if(_)return _
;o.set(n,f);var v=l?a?di:yi:a?Nc:Fc,g=s?X:v(n);return u(g||n,function(e,u){g&&(u=e,e=n[u]),Hr(f,u,ee(e,t,r,u,n,o))}),f}function ue(n){var t=Fc(n);return function(r){return ie(r,n,t)}}function ie(n,t,r){var e=r.length;if(null==n)return!e;for(n=cl(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===X&&!(u in n)||!i(o))return!1}return!0}function oe(n,t,r){if("function"!=typeof n)throw new sl(rn);return Es(function(){n.apply(X,r)},t)}function fe(n,t,r,e){var u=-1,i=c,o=!0,f=n.length,s=[],h=t.length;if(!f)return s;r&&(t=l(t,E(r))),e?(i=a,o=!1):t.length>=nn&&(i=L,o=!1,t=new mr(t));n:for(;++u<f;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,o&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function ce(n,t){var r=!0;return vs(n,function(n,e,u){return r=!!t(n,e,u)}),r}function ae(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===X?o===o&&!yc(o):r(o,f)))var f=o,c=i}return c}function le(n,t,r,e){var u=n.length;for(r=jc(r),r<0&&(r=-r>u?0:u+r),e=e===X||e>u?u:jc(e),e<0&&(e+=u),e=r>e?0:Ac(e);r<e;)n[r++]=t;return n}function se(n,t){var r=[];return vs(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function he(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Wi),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?he(f,t-1,r,e,u):s(u,f):e||(u[u.length]=f)}return u}function pe(n,t){return n&&ys(n,t,Fc)}function _e(n,t){return n&&ds(n,t,Fc)}function ve(n,t){return f(t,function(t){return rc(n[t])})}function ge(n,t){t=ju(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[Qi(t[r++])];return r&&r==e?n:X}function ye(n,t,r){var e=t(n);return yh(n)?e:s(e,r(n))}function de(n){return null==n?n===X?nt:Vn:Cl&&Cl in cl(n)?ki(n):Zi(n)}function be(n,t){return n>t}function we(n,t){return null!=n&&yl.call(n,t)}function me(n,t){return null!=n&&t in cl(n)}function xe(n,t,r){return n>=Vl(t,r)&&n<Kl(t,r)}function je(n,t,r){for(var e=r?a:c,u=n[0].length,i=n.length,o=i,f=el(i),s=1/0,h=[];o--;){var p=n[o];o&&t&&(p=l(p,E(t))),s=Vl(p.length,s),f[o]=!r&&(t||u>=120&&p.length>=120)?new mr(o&&p):X}p=n[0];var _=-1,v=f[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?L(v,y):e(h,y,r))){for(o=i;--o;){var d=f[o];if(!(d?L(d,y):e(n[o],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function Ae(n,t,r,e){return pe(n,function(n,u,i){t(e,r(n),u,i)}),e}function ke(n,t,e){t=ju(t,n),n=Vi(n,t);var u=null==n?n:n[Qi(mo(t))];return null==u?X:r(u,n,e)}function Oe(n){return oc(n)&&de(n)==Bn}function Ie(n){return oc(n)&&de(n)==et}function Re(n){return oc(n)&&de(n)==Mn}function ze(n,t,r,e,u){return n===t||(null==n||null==t||!oc(n)&&!oc(t)?n!==n&&t!==t:Ee(n,t,r,e,ze,u))}function Ee(n,t,r,e,u,i){var o=yh(n),f=yh(t),c=o?Tn:Is(n),a=f?Tn:Is(t);c=c==Bn?Gn:c,a=a==Bn?Gn:a;var l=c==Gn,s=a==Gn,h=c==a;if(h&&bh(n)){if(!bh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new Or),o||Ah(n)?pi(n,t,r,e,u,i):_i(n,t,c,r,e,u,i);if(!(r&ln)){var p=l&&yl.call(n,"__wrapped__"),_=s&&yl.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new Or),u(v,g,r,e,i)}}return!!h&&(i||(i=new Or),vi(n,t,r,e,u,i))}function Se(n){return oc(n)&&Is(n)==Zn}function Le(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=cl(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===X&&!(c in n))return!1}else{var s=new Or;if(e)var h=e(a,l,c,n,t,s);if(!(h===X?ze(l,a,ln|sn,e,s):h))return!1}}return!0}function We(n){return!(!ic(n)||Di(n))&&(rc(n)?jl:Nt).test(Xi(n))}function Ce(n){return oc(n)&&de(n)==Jn}function Ue(n){return oc(n)&&Is(n)==Yn}function Be(n){return oc(n)&&uc(n.length)&&!!dr[de(n)]}function Te(n){return"function"==typeof n?n:null==n?Sa:"object"==typeof n?yh(n)?Pe(n[0],n[1]):Ne(n):Da(n)}function $e(n){if(!Mi(n))return Zl(n);var t=[];for(var r in cl(n))yl.call(n,r)&&"constructor"!=r&&t.push(r);return t}function De(n){if(!ic(n))return qi(n);var t=Mi(n),r=[];for(var e in n)("constructor"!=e||!t&&yl.call(n,e))&&r.push(e);return r}function Me(n,t){return n<t}function Fe(n,t){var r=-1,e=Vf(n)?el(n.length):[];return vs(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function Ne(n){var t=ji(n);return 1==t.length&&t[0][2]?Ni(t[0][0],t[0][1]):function(r){return r===n||Le(r,n,t)}}function Pe(n,t){return Bi(n)&&Fi(t)?Ni(Qi(n),t):function(r){var e=$c(r,n);return e===X&&e===t?Mc(r,n):ze(t,e,ln|sn)}}function qe(n,t,r,e,u){n!==t&&ys(t,function(i,o){if(ic(i))u||(u=new Or),Ze(n,t,o,r,qe,e,u);else{var f=e?e(n[o],i,o+"",n,t,u):X;f===X&&(f=i),Gr(n,o,f)}},Nc)}function Ze(n,t,r,e,u,i,o){var f=n[r],c=t[r],a=o.get(c);if(a)return void Gr(n,r,a);var l=i?i(f,c,r+"",n,t,o):X,s=l===X;if(s){var h=yh(c),p=!h&&bh(c),_=!h&&!p&&Ah(c);l=c,h||p||_?yh(f)?l=f:Gf(f)?l=Tu(f):p?(s=!1,l=ku(c,!0)):_?(s=!1,l=Lu(c,!0)):l=[]:_c(c)||gh(c)?(l=f,gh(f)?l=Oc(f):(!ic(f)||e&&rc(f))&&(l=Ei(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Gr(n,r,l)}function Ke(n,t){var r=n.length;if(r)return t+=t<0?r:0,Ci(t,r)?n[t]:X}function Ve(n,t,r){var e=-1;return t=l(t.length?t:[Sa],E(mi())),O(Fe(n,function(n,r,u){return{criteria:l(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return Cu(n,t,r)})}function Ge(n,t){return He(n,t,function(t,r){return Mc(n,r)})}function He(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=ge(n,o);r(f,o)&&iu(i,ju(o,n),f)}return i}function Je(n){return function(t){return ge(t,n)}}function Ye(n,t,r,e){var u=e?w:b,i=-1,o=t.length,f=n;for(n===t&&(t=Tu(t)),r&&(f=l(n,E(r)));++i<o;)for(var c=0,a=t[i],s=r?r(a):a;(c=u(f,s,c,e))>-1;)f!==n&&Sl.call(f,c,1),Sl.call(n,c,1);return n}function Qe(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;Ci(u)?Sl.call(n,u,1):vu(n,u)}}return n}function Xe(n,t){return n+Ml(Jl()*(t-n+1))}function nu(n,t,r,e){for(var u=-1,i=Kl(Dl((t-n)/(r||1)),0),o=el(i);i--;)o[e?i:++u]=n,n+=r;return o}function tu(n,t){var r="";if(!n||t<1||t>zn)return r;do{t%2&&(r+=n),(t=Ml(t/2))&&(n+=n)}while(t);return r}function ru(n,t){return Ss(Ki(n,t,Sa),n+"")}function eu(n){return Zr(na(n))}function uu(n,t){var r=na(n);return Yi(r,re(t,0,r.length))}function iu(n,t,r,e){if(!ic(n))return n;t=ju(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=Qi(t[u]),a=r;if(u!=o){var l=f[c];(a=e?e(l,c,f):X)===X&&(a=ic(l)?l:Ci(t[u+1])?[]:{})}Hr(f,c,a),f=f[c]}return n}function ou(n){return Yi(na(n))}function fu(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=el(u);++e<u;)i[e]=n[e+t];return i}function cu(n,t){var r;return vs(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function au(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&u<=Cn){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!yc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return lu(n,t,Sa,r)}function lu(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!==t,f=null===t,c=yc(t),a=t===X;u<i;){var l=Ml((u+i)/2),s=r(n[l]),h=s!==X,p=null===s,_=s===s,v=yc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Vl(i,Wn)}function su(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!Kf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function hu(n){return"number"==typeof n?n:yc(n)?Sn:+n}function pu(n){if("string"==typeof n)return n;if(yh(n))return l(n,pu)+"";if(yc(n))return ps?ps.call(n):"";var t=n+"";return"0"==t&&1/n==-Rn?"-0":t}function _u(n,t,r){var e=-1,u=c,i=n.length,o=!0,f=[],l=f;if(r)o=!1,u=a;else if(i>=nn){var s=t?null:js(n);if(s)return q(s);o=!1,u=L,l=new mr}else l=t?[]:f;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,o&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;t&&l.push(p),f.push(h)}else u(l,p,r)||(l!==f&&l.push(p),f.push(h))}return f}function vu(n,t){return t=ju(t,n),null==(n=Vi(n,t))||delete n[Qi(mo(t))]}function gu(n,t,r,e){return iu(n,t,r(ge(n,t)),e)}function yu(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?fu(n,e?0:i,e?i+1:u):fu(n,e?i+1:0,e?u:i)}function du(n,t){var r=n;return r instanceof Bt&&(r=r.value()),h(t,function(n,t){return t.func.apply(t.thisArg,s([n],t.args))},r)}function bu(n,t,r){var e=n.length;if(e<2)return e?_u(n[0]):[];for(var u=-1,i=el(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=fe(i[u]||o,n[f],t,r));return _u(he(i,1),t,r)}function wu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){var f=e<i?t[e]:X;r(o,n[e],f)}return o}function mu(n){return Gf(n)?n:[]}function xu(n){return"function"==typeof n?n:Sa}function ju(n,t){return yh(n)?n:Bi(n,t)?[n]:Ls(Rc(n))}function Au(n,t,r){var e=n.length;return r=r===X?e:r,!t&&r>=e?n:fu(n,t,r)}function ku(n,t){if(t)return n.slice();var r=n.length,e=Il?Il(r):new n.constructor(r);return n.copy(e),e}function Ou(n){var t=new n.constructor(n.byteLength);return new Ol(t).set(new Ol(n)),t}function Iu(n,t){var r=t?Ou(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}function Ru(t,r,e){return h(r?e(F(t),fn):F(t),n,new t.constructor)}function zu(n){var t=new n.constructor(n.source,Dt.exec(n));return t.lastIndex=n.lastIndex,t}function Eu(n,r,e){return h(r?e(q(n),fn):q(n),t,new n.constructor)}function Su(n){return hs?cl(hs.call(n)):{}}function Lu(n,t){var r=t?Ou(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Wu(n,t){if(n!==t){var r=n!==X,e=null===n,u=n===n,i=yc(n),o=t!==X,f=null===t,c=t===t,a=yc(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Cu(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Wu(u[e],i[e]);if(c)return e>=f?c:c*("desc"==r[e]?-1:1)}return n.index-t.index}function Uu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Kl(i-o,0),l=el(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function Bu(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Kl(i-f,0),s=el(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Tu(n,t){var r=-1,e=n.length;for(t||(t=el(e));++r<e;)t[r]=n[r];return t}function $u(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):X;c===X&&(c=n[f]),u?ne(r,f,c):Hr(r,f,c)}return r}function Du(n,t){return $u(n,ks(n),t)}function Mu(n,t){return $u(n,Os(n),t)}function Fu(n,t){return function(r,u){var i=yh(r)?e:Yr,o=t?t():{};return i(r,n,mi(u,2),o)}}function Nu(n){return ru(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:X,o=u>2?r[2]:X;for(i=n.length>3&&"function"==typeof i?(u--,i):X,o&&Ui(r[0],r[1],o)&&(i=u<3?X:i,u=1),t=cl(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function Pu(n,t){return function(r,e){if(null==r)return r;if(!Vf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=cl(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function qu(n){return function(t,r,e){for(var u=-1,i=cl(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(!1===r(i[c],c,i))break}return t}}function Zu(n,t,r){function e(){return(this&&this!==Rr&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&hn,i=Gu(n);return e}function Ku(n){return function(t){t=Rc(t);var r=$(t)?H(t):X,e=r?r[0]:t.charAt(0),u=r?Au(r,1).join(""):t.slice(1);return e[n]()+u}}function Vu(n){return function(t){return h(Oa(oa(t).replace(lr,"")),n,"")}}function Gu(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=_s(n.prototype),e=n.apply(r,t);return ic(e)?e:r}}function Hu(n,t,e){function u(){for(var o=arguments.length,f=el(o),c=o,a=wi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:P(f,a);return(o-=l.length)<e?oi(n,t,Qu,u.placeholder,X,f,l,X,X,e-o):r(this&&this!==Rr&&this instanceof u?i:n,this,f)}var i=Gu(n);return u}function Ju(n){return function(t,r,e){var u=cl(t);if(!Vf(t)){var i=mi(r,3);t=Fc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:X}}function Yu(n){return gi(function(t){var r=t.length,e=r,u=Y.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new sl(rn);if(u&&!o&&"wrapper"==bi(i))var o=new Y([],!0)}for(e=o?e:r;++e<r;){i=t[e];var f=bi(i),c="wrapper"==f?As(i):X;o=c&&$i(c[0])&&c[1]==(bn|vn|yn|wn)&&!c[4].length&&1==c[9]?o[bi(c[0])].apply(o,c[3]):1==i.length&&$i(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&yh(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Qu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=el(y),b=y;b--;)d[b]=arguments[b];if(_)var w=wi(l),m=U(d,w);if(e&&(d=Uu(d,e,u,_)),i&&(d=Bu(d,i,o,_)),y-=m,_&&y<a){var x=P(d,w);return oi(n,t,Qu,l.placeholder,r,d,x,f,c,a-y)}var j=h?r:this,A=p?j[n]:n;return y=d.length,f?d=Gi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==Rr&&this instanceof l&&(A=g||Gu(A)),A.apply(j,d)}var s=t&bn,h=t&hn,p=t&pn,_=t&(vn|gn),v=t&mn,g=p?X:Gu(n);return l}function Xu(n,t){return function(r,e){return Ae(r,n,t(e),{})}}function ni(n,t){return function(r,e){var u;if(r===X&&e===X)return t;if(r!==X&&(u=r),e!==X){if(u===X)return e;"string"==typeof r||"string"==typeof e?(r=pu(r),e=pu(e)):(r=hu(r),e=hu(e)),u=n(r,e)}return u}}function ti(n){return gi(function(t){return t=l(t,E(mi())),ru(function(e){var u=this;return n(t,function(n){return r(n,u,e)})})})}function ri(n,t){t=t===X?" ":pu(t);var r=t.length;if(r<2)return r?tu(t,n):t;var e=tu(t,Dl(n/G(t)));return $(t)?Au(H(e),0,n).join(""):e.slice(0,n)}function ei(n,t,e,u){function i(){for(var t=-1,c=arguments.length,a=-1,l=u.length,s=el(l+c),h=this&&this!==Rr&&this instanceof i?f:n;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++t];return r(h,o?e:this,s)}var o=t&hn,f=Gu(n);return i}function ui(n){return function(t,r,e){return e&&"number"!=typeof e&&Ui(t,r,e)&&(r=e=X),t=xc(t),r===X?(r=t,t=0):r=xc(r),e=e===X?t<r?1:-1:xc(e),nu(t,r,e,n)}}function ii(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=kc(t),r=kc(r)),n(t,r)}}function oi(n,t,r,e,u,i,o,f,c,a){var l=t&vn,s=l?o:X,h=l?X:o,p=l?i:X,_=l?X:i;t|=l?yn:dn,(t&=~(l?dn:yn))&_n||(t&=~(hn|pn));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(X,v);return $i(n)&&zs(g,v),g.placeholder=e,Hi(g,n,t)}function fi(n){var t=fl[n];return function(n,r){if(n=kc(n),r=null==r?0:Vl(jc(r),292)){var e=(Rc(n)+"e").split("e");return e=(Rc(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ci(n){return function(t){var r=Is(t);return r==Zn?F(t):r==Yn?Z(t):z(t,n(t))}}function ai(n,t,r,e,u,i,o,f){var c=t&pn;if(!c&&"function"!=typeof n)throw new sl(rn);var a=e?e.length:0;if(a||(t&=~(yn|dn),e=u=X),o=o===X?o:Kl(jc(o),0),f=f===X?f:jc(f),a-=u?u.length:0,t&dn){var l=e,s=u;e=u=X}var h=c?X:As(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&Pi(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===X?c?0:n.length:Kl(p[9]-a,0),!f&&t&(vn|gn)&&(t&=~(vn|gn)),t&&t!=hn)_=t==vn||t==gn?Hu(n,t,f):t!=yn&&t!=(hn|yn)||u.length?Qu.apply(X,p):ei(n,t,r,e);else var _=Zu(n,t,r);return Hi((h?bs:zs)(_,p),n,t)}function li(n,t,r,e){return n===X||Kf(n,_l[r])&&!yl.call(e,r)?t:n}function si(n,t,r,e,u,i){return ic(n)&&ic(t)&&(i.set(t,n),qe(n,t,X,si,i),i.delete(t)),n}function hi(n){return _c(n)?X:n}function pi(n,t,r,e,u,i){var o=r&ln,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n);if(a&&i.get(t))return a==t;var l=-1,s=!0,h=r&sn?new mr:X;for(i.set(n,t),i.set(t,n);++l<f;){var p=n[l],v=t[l];if(e)var g=o?e(v,p,l,t,n,i):e(p,v,l,n,t,i);if(g!==X){if(g)continue;s=!1;break}if(h){if(!_(t,function(n,t){if(!L(h,t)&&(p===n||u(p,n,r,e,i)))return h.push(t)})){s=!1;break}}else if(p!==v&&!u(p,v,r,e,i)){s=!1;break}}return i.delete(n),i.delete(t),s}function _i(n,t,r,e,u,i,o){switch(r){case ut:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case et:return!(n.byteLength!=t.byteLength||!i(new Ol(n),new Ol(t)));case Dn:case Mn:case Kn:return Kf(+n,+t);case Nn:return n.name==t.name&&n.message==t.message;case Jn:case Qn:return n==t+"";case Zn:var f=F;case Yn:var c=e&ln;if(f||(f=q),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=sn,o.set(n,t);var l=pi(f(n),f(t),e,u,i,o);return o.delete(n),l;case Xn:if(hs)return hs.call(n)==hs.call(t)}return!1}function vi(n,t,r,e,u,i){var o=r&ln,f=yi(n),c=f.length;if(c!=yi(t).length&&!o)return!1;for(var a=c;a--;){var l=f[a];if(!(o?l in t:yl.call(t,l)))return!1}var s=i.get(n);if(s&&i.get(t))return s==t;var h=!0;i.set(n,t),i.set(t,n);for(var p=o;++a<c;){l=f[a];var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(!(g===X?_===v||u(_,v,r,e,i):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=n.constructor,d=t.constructor;y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d)&&(h=!1)}return i.delete(n),i.delete(t),h}function gi(n){return Ss(Ki(n,X,ho),n+"")}function yi(n){return ye(n,Fc,ks)}function di(n){return ye(n,Nc,Os)}function bi(n){for(var t=n.name+"",r=is[t],e=yl.call(is,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function wi(n){return(yl.call(K,"placeholder")?K:n).placeholder}function mi(){var n=K.iteratee||La;return n=n===La?Te:n,arguments.length?n(arguments[0],arguments[1]):n}function xi(n,t){var r=n.__data__;return Ti(t)?r["string"==typeof t?"string":"hash"]:r.map}function ji(n){for(var t=Fc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Fi(u)]}return t}function Ai(n,t){var r=T(n,t);return We(r)?r:X}function ki(n){var t=yl.call(n,Cl),r=n[Cl];try{n[Cl]=X;var e=!0}catch(n){}var u=wl.call(n);return e&&(t?n[Cl]=r:delete n[Cl]),u}function Oi(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Vl(t,n+o);break;case"takeRight":n=Kl(n,t-o)}}return{start:n,end:t}}function Ii(n){var t=n.match(Ct);return t?t[1].split(Ut):[]}function Ri(n,t,r){t=ju(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=Qi(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&uc(u)&&Ci(o,u)&&(yh(n)||gh(n))}function zi(n){var t=n.length,r=n.constructor(t);return t&&"string"==typeof n[0]&&yl.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Ei(n){return"function"!=typeof n.constructor||Mi(n)?{}:_s(Rl(n))}function Si(n,t,r,e){var u=n.constructor;switch(t){case et:return Ou(n);case Dn:case Mn:return new u(+n);case ut:return Iu(n,e);case it:case ot:case ft:case ct:case at:case lt:case st:case ht:case pt:return Lu(n,e);case Zn:return Ru(n,e,r);case Kn:case Qn:return new u(n);case Jn:return zu(n);case Yn:return Eu(n,e,r);case Xn:return Su(n)}}function Li(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Wt,"{\n/* [wrapped with "+t+"] */\n")}function Wi(n){return yh(n)||gh(n)||!!(Ll&&n&&n[Ll])}function Ci(n,t){return!!(t=null==t?zn:t)&&("number"==typeof n||qt.test(n))&&n>-1&&n%1==0&&n<t}function Ui(n,t,r){if(!ic(r))return!1;var e=typeof t;return!!("number"==e?Vf(r)&&Ci(t,r.length):"string"==e&&t in r)&&Kf(r[t],n)}function Bi(n,t){if(yh(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!yc(n))||kt.test(n)||!At.test(n)||null!=t&&n in cl(t)}function Ti(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function $i(n){var t=bi(n),r=K[t];if("function"!=typeof r||!(t in Bt.prototype))return!1;if(n===r)return!0;var e=As(r);return!!e&&n===e[0]}function Di(n){return!!bl&&bl in n}function Mi(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||_l)}function Fi(n){return n===n&&!ic(n)}function Ni(n,t){return function(r){return null!=r&&r[n]===t&&(t!==X||n in cl(r))}}function Pi(n,t){var r=n[1],e=t[1],u=r|e,i=u<(hn|pn|bn),o=e==bn&&r==vn||e==bn&&r==wn&&n[7].length<=t[8]||e==(bn|wn)&&t[7].length<=t[8]&&r==vn;if(!i&&!o)return n;e&hn&&(n[2]=t[2],u|=r&hn?0:_n);var f=t[3];if(f){var c=n[3];n[3]=c?Uu(c,f,t[4]):f,n[4]=c?P(n[3],on):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Bu(c,f,t[6]):f,n[6]=c?P(n[5],on):t[6]),f=t[7],f&&(n[7]=f),e&bn&&(n[8]=null==n[8]?t[8]:Vl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function qi(n){var t=[];if(null!=n)for(var r in cl(n))t.push(r);return t}function Zi(n){return wl.call(n)}function Ki(n,t,e){return t=Kl(t===X?n.length-1:t,0),function(){for(var u=arguments,i=-1,o=Kl(u.length-t,0),f=el(o);++i<o;)f[i]=u[t+i];i=-1;for(var c=el(t+1);++i<t;)c[i]=u[i];return c[t]=e(f),r(n,this,c)}}function Vi(n,t){return t.length<2?n:ge(n,fu(t,0,-1))}function Gi(n,t){for(var r=n.length,e=Vl(t.length,r),u=Tu(n);e--;){var i=t[e];n[e]=Ci(i,r)?u[i]:X}return n}function Hi(n,t,r){var e=t+"";return Ss(n,Li(e,no(Ii(e),r)))}function Ji(n){var t=0,r=0;return function(){var e=Gl(),u=kn-(e-r);if(r=e,u>0){if(++t>=An)return arguments[0]}else t=0;return n.apply(X,arguments)}}function Yi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===X?e:t;++r<t;){var i=Xe(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function Qi(n){if("string"==typeof n||yc(n))return n;var t=n+"";return"0"==t&&1/n==-Rn?"-0":t}function Xi(n){if(null!=n){try{return gl.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function no(n,t){return u(Un,function(r){var e="_."+r[0];t&r[1]&&!c(n,e)&&n.push(e)}),n.sort()}function to(n){if(n instanceof Bt)return n.clone();var t=new Y(n.__wrapped__,n.__chain__);return t.__actions__=Tu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function ro(n,t,r){t=(r?Ui(n,t,r):t===X)?1:Kl(jc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=el(Dl(e/t));u<e;)o[i++]=fu(n,u,u+=t);return o}function eo(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function uo(){var n=arguments.length;if(!n)return[];for(var t=el(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return s(yh(r)?Tu(r):[r],he(t,1))}function io(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:jc(t),fu(n,t<0?0:t,e)):[]}function oo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:jc(t),t=e-t,fu(n,0,t<0?0:t)):[]}function fo(n,t){return n&&n.length?yu(n,mi(t,3),!0,!0):[]}function co(n,t){return n&&n.length?yu(n,mi(t,3),!0):[]}function ao(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&Ui(n,t,r)&&(r=0,e=u),le(n,t,r,e)):[]}function lo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:jc(r);return u<0&&(u=Kl(e+u,0)),d(n,mi(t,3),u)}function so(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==X&&(u=jc(r),u=r<0?Kl(e+u,0):Vl(u,e-1)),d(n,mi(t,3),u,!0)}function ho(n){return(null==n?0:n.length)?he(n,1):[]}function po(n){return(null==n?0:n.length)?he(n,Rn):[]}function _o(n,t){return(null==n?0:n.length)?(t=t===X?1:jc(t),he(n,t)):[]}function vo(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function go(n){return n&&n.length?n[0]:X}function yo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:jc(r);return u<0&&(u=Kl(e+u,0)),b(n,t,u)}function bo(n){return(null==n?0:n.length)?fu(n,0,-1):[]}function wo(n,t){return null==n?"":ql.call(n,t)}function mo(n){var t=null==n?0:n.length;return t?n[t-1]:X}function xo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==X&&(u=jc(r),u=u<0?Kl(e+u,0):Vl(u,e-1)),t===t?V(n,t,u):d(n,m,u,!0)}function jo(n,t){return n&&n.length?Ke(n,jc(t)):X}function Ao(n,t){return n&&n.length&&t&&t.length?Ye(n,t):n}function ko(n,t,r){return n&&n.length&&t&&t.length?Ye(n,t,mi(r,2)):n}function Oo(n,t,r){return n&&n.length&&t&&t.length?Ye(n,t,X,r):n}function Io(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=mi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return Qe(n,u),r}function Ro(n){return null==n?n:Yl.call(n)}function zo(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Ui(n,t,r)?(t=0,r=e):(t=null==t?0:jc(t),r=r===X?e:jc(r)),fu(n,t,r)):[]}function Eo(n,t){return au(n,t)}function So(n,t,r){return lu(n,t,mi(r,2))}function Lo(n,t){var r=null==n?0:n.length;if(r){var e=au(n,t);if(e<r&&Kf(n[e],t))return e}return-1}function Wo(n,t){return au(n,t,!0)}function Co(n,t,r){return lu(n,t,mi(r,2),!0)}function Uo(n,t){if(null==n?0:n.length){var r=au(n,t,!0)-1;if(Kf(n[r],t))return r}return-1}function Bo(n){return n&&n.length?su(n):[]}function To(n,t){return n&&n.length?su(n,mi(t,2)):[]}function $o(n){var t=null==n?0:n.length;return t?fu(n,1,t):[]}function Do(n,t,r){return n&&n.length?(t=r||t===X?1:jc(t),fu(n,0,t<0?0:t)):[]}function Mo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:jc(t),t=e-t,fu(n,t<0?0:t,e)):[]}function Fo(n,t){return n&&n.length?yu(n,mi(t,3),!1,!0):[]}function No(n,t){return n&&n.length?yu(n,mi(t,3)):[]}function Po(n){return n&&n.length?_u(n):[]}function qo(n,t){return n&&n.length?_u(n,mi(t,2)):[]}function Zo(n,t){return t="function"==typeof t?t:X,n&&n.length?_u(n,X,t):[]}function Ko(n){if(!n||!n.length)return[];var t=0;return n=f(n,function(n){if(Gf(n))return t=Kl(n.length,t),!0}),R(t,function(t){return l(n,j(t))})}function Vo(n,t){if(!n||!n.length)return[];var e=Ko(n);return null==t?e:l(e,function(n){return r(t,X,n)})}function Go(n,t){return wu(n||[],t||[],Hr)}function Ho(n,t){return wu(n||[],t||[],iu)}function Jo(n){var t=K(n);return t.__chain__=!0,t}function Yo(n,t){return t(n),n}function Qo(n,t){return t(n)}function Xo(){return Jo(this)}function nf(){return new Y(this.value(),this.__chain__)}function tf(){this.__values__===X&&(this.__values__=mc(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?X:this.__values__[this.__index__++]}}function rf(){return this}function ef(n){for(var t,r=this;r instanceof J;){var e=to(r);e.__index__=0,e.__values__=X,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function uf(){var n=this.__wrapped__;if(n instanceof Bt){var t=n;return this.__actions__.length&&(t=new Bt(this)),t=t.reverse(),t.__actions__.push({func:Qo,args:[Ro],thisArg:X}),new Y(t,this.__chain__)}return this.thru(Ro)}function of(){return du(this.__wrapped__,this.__actions__)}function ff(n,t,r){var e=yh(n)?o:ce;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function cf(n,t){return(yh(n)?f:se)(n,mi(t,3))}function af(n,t){return he(vf(n,t),1)}function lf(n,t){return he(vf(n,t),Rn)}function sf(n,t,r){return r=r===X?1:jc(r),he(vf(n,t),r)}function hf(n,t){return(yh(n)?u:vs)(n,mi(t,3))}function pf(n,t){return(yh(n)?i:gs)(n,mi(t,3))}function _f(n,t,r,e){n=Vf(n)?n:na(n),r=r&&!e?jc(r):0;var u=n.length;return r<0&&(r=Kl(u+r,0)),gc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&b(n,t,r)>-1}function vf(n,t){return(yh(n)?l:Fe)(n,mi(t,3))}function gf(n,t,r,e){return null==n?[]:(yh(t)||(t=null==t?[]:[t]),r=e?X:r,yh(r)||(r=null==r?[]:[r]),Ve(n,t,r))}function yf(n,t,r){var e=yh(n)?h:k,u=arguments.length<3;return e(n,mi(t,4),r,u,vs)}function df(n,t,r){var e=yh(n)?p:k,u=arguments.length<3;return e(n,mi(t,4),r,u,gs)}function bf(n,t){return(yh(n)?f:se)(n,Wf(mi(t,3)))}function wf(n){return(yh(n)?Zr:eu)(n)}function mf(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:jc(t),(yh(n)?Kr:uu)(n,t)}function xf(n){return(yh(n)?Vr:ou)(n)}function jf(n){if(null==n)return 0;if(Vf(n))return gc(n)?G(n):n.length;var t=Is(n);return t==Zn||t==Yn?n.size:$e(n).length}function Af(n,t,r){var e=yh(n)?_:cu;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function kf(n,t){if("function"!=typeof t)throw new sl(rn);return n=jc(n),function(){if(--n<1)return t.apply(this,arguments)}}function Of(n,t,r){return t=r?X:t,t=n&&null==t?n.length:t,ai(n,bn,X,X,X,X,t)}function If(n,t){var r;if("function"!=typeof t)throw new sl(rn);return n=jc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=X),r}}function Rf(n,t,r){t=r?X:t;var e=ai(n,vn,X,X,X,X,X,t);return e.placeholder=Rf.placeholder,e}function zf(n,t,r){t=r?X:t;var e=ai(n,gn,X,X,X,X,X,t);return e.placeholder=zf.placeholder,e}function Ef(n,t,r){function e(t){var r=h,e=p;return h=p=X,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Es(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Vl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===X||r>=t||r<0||w&&e>=_}function f(){var n=ih();if(o(n))return c(n);g=Es(f,i(n))}function c(n){return g=X,m&&h?e(n):(h=p=X,v)}function a(){g!==X&&xs(g),d=0,h=y=p=g=X}function l(){return g===X?v:c(ih())}function s(){var n=ih(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===X)return u(y);if(w)return g=Es(f,t),e(y)}return g===X&&(g=Es(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new sl(rn);return t=kc(t)||0,ic(r)&&(b=!!r.leading,w="maxWait"in r,_=w?Kl(kc(r.maxWait)||0,t):_,m="trailing"in r?!!r.trailing:m),s.cancel=a,s.flush=l,s}function Sf(n){return ai(n,mn)}function Lf(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new sl(rn);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Lf.Cache||ar),r}function Wf(n){if("function"!=typeof n)throw new sl(rn);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Cf(n){return If(2,n)}function Uf(n,t){if("function"!=typeof n)throw new sl(rn);return t=t===X?t:jc(t),ru(n,t)}function Bf(n,t){if("function"!=typeof n)throw new sl(rn);return t=null==t?0:Kl(jc(t),0),ru(function(e){var u=e[t],i=Au(e,0,t);return u&&s(i,u),r(n,this,i)})}function Tf(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new sl(rn);return ic(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Ef(n,t,{leading:e,maxWait:t,trailing:u})}function $f(n){return Of(n,1)}function Df(n,t){return sh(xu(t),n)}function Mf(){if(!arguments.length)return[];var n=arguments[0];return yh(n)?n:[n]}function Ff(n){return ee(n,an)}function Nf(n,t){return t="function"==typeof t?t:X,ee(n,an,t)}function Pf(n){return ee(n,fn|an)}function qf(n,t){return t="function"==typeof t?t:X,ee(n,fn|an,t)}function Zf(n,t){return null==t||ie(n,t,Fc(t))}function Kf(n,t){return n===t||n!==n&&t!==t}function Vf(n){return null!=n&&uc(n.length)&&!rc(n)}function Gf(n){return oc(n)&&Vf(n)}function Hf(n){return!0===n||!1===n||oc(n)&&de(n)==Dn}function Jf(n){return oc(n)&&1===n.nodeType&&!_c(n)}function Yf(n){if(null==n)return!0;if(Vf(n)&&(yh(n)||"string"==typeof n||"function"==typeof n.splice||bh(n)||Ah(n)||gh(n)))return!n.length;var t=Is(n);if(t==Zn||t==Yn)return!n.size;if(Mi(n))return!$e(n).length;for(var r in n)if(yl.call(n,r))return!1;return!0}function Qf(n,t){return ze(n,t)}function Xf(n,t,r){r="function"==typeof r?r:X;var e=r?r(n,t):X;return e===X?ze(n,t,X,r):!!e}function nc(n){if(!oc(n))return!1;var t=de(n);return t==Nn||t==Fn||"string"==typeof n.message&&"string"==typeof n.name&&!_c(n)}function tc(n){return"number"==typeof n&&Pl(n)}function rc(n){if(!ic(n))return!1;var t=de(n);return t==Pn||t==qn||t==$n||t==Hn}function ec(n){return"number"==typeof n&&n==jc(n)}function uc(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=zn}function ic(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function oc(n){return null!=n&&"object"==typeof n}function fc(n,t){return n===t||Le(n,t,ji(t))}function cc(n,t,r){return r="function"==typeof r?r:X,Le(n,t,ji(t),r)}function ac(n){return pc(n)&&n!=+n}function lc(n){if(Rs(n))throw new il(tn);return We(n)}function sc(n){return null===n}function hc(n){return null==n}function pc(n){return"number"==typeof n||oc(n)&&de(n)==Kn}function _c(n){if(!oc(n)||de(n)!=Gn)return!1;var t=Rl(n);if(null===t)return!0;var r=yl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&gl.call(r)==ml}function vc(n){return ec(n)&&n>=-zn&&n<=zn}function gc(n){return"string"==typeof n||!yh(n)&&oc(n)&&de(n)==Qn}function yc(n){return"symbol"==typeof n||oc(n)&&de(n)==Xn}function dc(n){return n===X}function bc(n){return oc(n)&&Is(n)==tt}function wc(n){return oc(n)&&de(n)==rt}function mc(n){if(!n)return[];if(Vf(n))return gc(n)?H(n):Tu(n)
;if(Wl&&n[Wl])return M(n[Wl]());var t=Is(n);return(t==Zn?F:t==Yn?q:na)(n)}function xc(n){return n?(n=kc(n))===Rn||n===-Rn?(n<0?-1:1)*En:n===n?n:0:0===n?n:0}function jc(n){var t=xc(n),r=t%1;return t===t?r?t-r:t:0}function Ac(n){return n?re(jc(n),0,Ln):0}function kc(n){if("number"==typeof n)return n;if(yc(n))return Sn;if(ic(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=ic(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(Et,"");var r=Ft.test(n);return r||Pt.test(n)?kr(n.slice(2),r?2:8):Mt.test(n)?Sn:+n}function Oc(n){return $u(n,Nc(n))}function Ic(n){return n?re(jc(n),-zn,zn):0===n?n:0}function Rc(n){return null==n?"":pu(n)}function zc(n,t){var r=_s(n);return null==t?r:Qr(r,t)}function Ec(n,t){return y(n,mi(t,3),pe)}function Sc(n,t){return y(n,mi(t,3),_e)}function Lc(n,t){return null==n?n:ys(n,mi(t,3),Nc)}function Wc(n,t){return null==n?n:ds(n,mi(t,3),Nc)}function Cc(n,t){return n&&pe(n,mi(t,3))}function Uc(n,t){return n&&_e(n,mi(t,3))}function Bc(n){return null==n?[]:ve(n,Fc(n))}function Tc(n){return null==n?[]:ve(n,Nc(n))}function $c(n,t,r){var e=null==n?X:ge(n,t);return e===X?r:e}function Dc(n,t){return null!=n&&Ri(n,t,we)}function Mc(n,t){return null!=n&&Ri(n,t,me)}function Fc(n){return Vf(n)?Mr(n):$e(n)}function Nc(n){return Vf(n)?Mr(n,!0):De(n)}function Pc(n,t){var r={};return t=mi(t,3),pe(n,function(n,e,u){ne(r,t(n,e,u),n)}),r}function qc(n,t){var r={};return t=mi(t,3),pe(n,function(n,e,u){ne(r,e,t(n,e,u))}),r}function Zc(n,t){return Kc(n,Wf(mi(t)))}function Kc(n,t){if(null==n)return{};var r=l(di(n),function(n){return[n]});return t=mi(t),He(n,r,function(n,r){return t(n,r[0])})}function Vc(n,t,r){t=ju(t,n);var e=-1,u=t.length;for(u||(u=1,n=X);++e<u;){var i=null==n?X:n[Qi(t[e])];i===X&&(e=u,i=r),n=rc(i)?i.call(n):i}return n}function Gc(n,t,r){return null==n?n:iu(n,t,r)}function Hc(n,t,r,e){return e="function"==typeof e?e:X,null==n?n:iu(n,t,r,e)}function Jc(n,t,r){var e=yh(n),i=e||bh(n)||Ah(n);if(t=mi(t,4),null==r){var o=n&&n.constructor;r=i?e?new o:[]:ic(n)&&rc(o)?_s(Rl(n)):{}}return(i?u:pe)(n,function(n,e,u){return t(r,n,e,u)}),r}function Yc(n,t){return null==n||vu(n,t)}function Qc(n,t,r){return null==n?n:gu(n,t,xu(r))}function Xc(n,t,r,e){return e="function"==typeof e?e:X,null==n?n:gu(n,t,xu(r),e)}function na(n){return null==n?[]:S(n,Fc(n))}function ta(n){return null==n?[]:S(n,Nc(n))}function ra(n,t,r){return r===X&&(r=t,t=X),r!==X&&(r=kc(r),r=r===r?r:0),t!==X&&(t=kc(t),t=t===t?t:0),re(kc(n),t,r)}function ea(n,t,r){return t=xc(t),r===X?(r=t,t=0):r=xc(r),n=kc(n),xe(n,t,r)}function ua(n,t,r){if(r&&"boolean"!=typeof r&&Ui(n,t,r)&&(t=r=X),r===X&&("boolean"==typeof t?(r=t,t=X):"boolean"==typeof n&&(r=n,n=X)),n===X&&t===X?(n=0,t=1):(n=xc(n),t===X?(t=n,n=0):t=xc(t)),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=Jl();return Vl(n+u*(t-n+Ar("1e-"+((u+"").length-1))),t)}return Xe(n,t)}function ia(n){return Jh(Rc(n).toLowerCase())}function oa(n){return(n=Rc(n))&&n.replace(Zt,Fr).replace(sr,"")}function fa(n,t,r){n=Rc(n),t=pu(t);var e=n.length;r=r===X?e:re(jc(r),0,e);var u=r;return(r-=t.length)>=0&&n.slice(r,u)==t}function ca(n){return n=Rc(n),n&&wt.test(n)?n.replace(dt,Nr):n}function aa(n){return n=Rc(n),n&&zt.test(n)?n.replace(Rt,"\\$&"):n}function la(n,t,r){n=Rc(n),t=jc(t);var e=t?G(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return ri(Ml(u),r)+n+ri(Dl(u),r)}function sa(n,t,r){n=Rc(n),t=jc(t);var e=t?G(n):0;return t&&e<t?n+ri(t-e,r):n}function ha(n,t,r){n=Rc(n),t=jc(t);var e=t?G(n):0;return t&&e<t?ri(t-e,r)+n:n}function pa(n,t,r){return r||null==t?t=0:t&&(t=+t),Hl(Rc(n).replace(St,""),t||0)}function _a(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:jc(t),tu(Rc(n),t)}function va(){var n=arguments,t=Rc(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function ga(n,t,r){return r&&"number"!=typeof r&&Ui(n,t,r)&&(t=r=X),(r=r===X?Ln:r>>>0)?(n=Rc(n),n&&("string"==typeof t||null!=t&&!xh(t))&&!(t=pu(t))&&$(n)?Au(H(n),0,r):n.split(t,r)):[]}function ya(n,t,r){return n=Rc(n),r=null==r?0:re(jc(r),0,n.length),t=pu(t),n.slice(r,r+t.length)==t}function da(n,t,r){var e=K.templateSettings;r&&Ui(n,t,r)&&(t=X),n=Rc(n),t=zh({},t,e,li);var u,i,o=zh({},t.imports,e.imports,li),f=Fc(o),c=S(o,f),a=0,l=t.interpolate||Kt,s="__p += '",h=al((t.escape||Kt).source+"|"+l.source+"|"+(l===jt?$t:Kt).source+"|"+(t.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++yr+"]")+"\n";n.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(Vt,B),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),a=c+t.length,t}),s+="';\n";var _=t.variable;_||(s="with (obj) {\n"+s+"\n}\n"),s=(i?s.replace(_t,""):s).replace(vt,"$1").replace(gt,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var v=Yh(function(){return ol(f,p+"return "+s).apply(X,c)});if(v.source=s,nc(v))throw v;return v}function ba(n){return Rc(n).toLowerCase()}function wa(n){return Rc(n).toUpperCase()}function ma(n,t,r){if((n=Rc(n))&&(r||t===X))return n.replace(Et,"");if(!n||!(t=pu(t)))return n;var e=H(n),u=H(t);return Au(e,W(e,u),C(e,u)+1).join("")}function xa(n,t,r){if((n=Rc(n))&&(r||t===X))return n.replace(Lt,"");if(!n||!(t=pu(t)))return n;var e=H(n);return Au(e,0,C(e,H(t))+1).join("")}function ja(n,t,r){if((n=Rc(n))&&(r||t===X))return n.replace(St,"");if(!n||!(t=pu(t)))return n;var e=H(n);return Au(e,W(e,H(t))).join("")}function Aa(n,t){var r=xn,e=jn;if(ic(t)){var u="separator"in t?t.separator:u;r="length"in t?jc(t.length):r,e="omission"in t?pu(t.omission):e}n=Rc(n);var i=n.length;if($(n)){var o=H(n);i=o.length}if(r>=i)return n;var f=r-G(e);if(f<1)return e;var c=o?Au(o,0,f).join(""):n.slice(0,f);if(u===X)return c+e;if(o&&(f+=c.length-f),xh(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=al(u.source,Rc(Dt.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;c=c.slice(0,s===X?f:s)}}else if(n.indexOf(pu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function ka(n){return n=Rc(n),n&&bt.test(n)?n.replace(yt,Pr):n}function Oa(n,t,r){return n=Rc(n),t=r?X:t,t===X?D(n)?Q(n):g(n):n.match(t)||[]}function Ia(n){var t=null==n?0:n.length,e=mi();return n=t?l(n,function(n){if("function"!=typeof n[1])throw new sl(rn);return[e(n[0]),n[1]]}):[],ru(function(e){for(var u=-1;++u<t;){var i=n[u];if(r(i[0],this,e))return r(i[1],this,e)}})}function Ra(n){return ue(ee(n,fn))}function za(n){return function(){return n}}function Ea(n,t){return null==n||n!==n?t:n}function Sa(n){return n}function La(n){return Te("function"==typeof n?n:ee(n,fn))}function Wa(n){return Ne(ee(n,fn))}function Ca(n,t){return Pe(n,ee(t,fn))}function Ua(n,t,r){var e=Fc(t),i=ve(t,e);null!=r||ic(t)&&(i.length||!e.length)||(r=t,t=n,n=this,i=ve(t,Fc(t)));var o=!(ic(r)&&"chain"in r&&!r.chain),f=rc(n);return u(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Tu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,s([this.value()],arguments))})}),n}function Ba(){return Rr._===this&&(Rr._=xl),this}function Ta(){}function $a(n){return n=jc(n),ru(function(t){return Ke(t,n)})}function Da(n){return Bi(n)?j(Qi(n)):Je(n)}function Ma(n){return function(t){return null==n?X:ge(n,t)}}function Fa(){return[]}function Na(){return!1}function Pa(){return{}}function qa(){return""}function Za(){return!0}function Ka(n,t){if((n=jc(n))<1||n>zn)return[];var r=Ln,e=Vl(n,Ln);t=mi(t),n-=Ln;for(var u=R(e,t);++r<n;)t(r);return u}function Va(n){return yh(n)?l(n,Qi):yc(n)?[n]:Tu(Ls(Rc(n)))}function Ga(n){var t=++dl;return Rc(n)+t}function Ha(n){return n&&n.length?ae(n,Sa,be):X}function Ja(n,t){return n&&n.length?ae(n,mi(t,2),be):X}function Ya(n){return x(n,Sa)}function Qa(n,t){return x(n,mi(t,2))}function Xa(n){return n&&n.length?ae(n,Sa,Me):X}function nl(n,t){return n&&n.length?ae(n,mi(t,2),Me):X}function tl(n){return n&&n.length?I(n,Sa):0}function rl(n,t){return n&&n.length?I(n,mi(t,2)):0}A=null==A?Rr:qr.defaults(Rr.Object(),A,qr.pick(Rr,gr));var el=A.Array,ul=A.Date,il=A.Error,ol=A.Function,fl=A.Math,cl=A.Object,al=A.RegExp,ll=A.String,sl=A.TypeError,hl=el.prototype,pl=ol.prototype,_l=cl.prototype,vl=A["__core-js_shared__"],gl=pl.toString,yl=_l.hasOwnProperty,dl=0,bl=function(){var n=/[^.]+$/.exec(vl&&vl.keys&&vl.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),wl=_l.toString,ml=gl.call(cl),xl=Rr._,jl=al("^"+gl.call(yl).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Al=Sr?A.Buffer:X,kl=A.Symbol,Ol=A.Uint8Array,Il=Al?Al.allocUnsafe:X,Rl=N(cl.getPrototypeOf,cl),zl=cl.create,El=_l.propertyIsEnumerable,Sl=hl.splice,Ll=kl?kl.isConcatSpreadable:X,Wl=kl?kl.iterator:X,Cl=kl?kl.toStringTag:X,Ul=function(){try{var n=Ai(cl,"defineProperty");return n({},"",{}),n}catch(n){}}(),Bl=A.clearTimeout!==Rr.clearTimeout&&A.clearTimeout,Tl=ul&&ul.now!==Rr.Date.now&&ul.now,$l=A.setTimeout!==Rr.setTimeout&&A.setTimeout,Dl=fl.ceil,Ml=fl.floor,Fl=cl.getOwnPropertySymbols,Nl=Al?Al.isBuffer:X,Pl=A.isFinite,ql=hl.join,Zl=N(cl.keys,cl),Kl=fl.max,Vl=fl.min,Gl=ul.now,Hl=A.parseInt,Jl=fl.random,Yl=hl.reverse,Ql=Ai(A,"DataView"),Xl=Ai(A,"Map"),ns=Ai(A,"Promise"),ts=Ai(A,"Set"),rs=Ai(A,"WeakMap"),es=Ai(cl,"create"),us=rs&&new rs,is={},os=Xi(Ql),fs=Xi(Xl),cs=Xi(ns),as=Xi(ts),ls=Xi(rs),ss=kl?kl.prototype:X,hs=ss?ss.valueOf:X,ps=ss?ss.toString:X,_s=function(){function n(){}return function(t){if(!ic(t))return{};if(zl)return zl(t);n.prototype=t;var r=new n;return n.prototype=X,r}}();K.templateSettings={escape:mt,evaluate:xt,interpolate:jt,variable:"",imports:{_:K}},K.prototype=J.prototype,K.prototype.constructor=K,Y.prototype=_s(J.prototype),Y.prototype.constructor=Y,Bt.prototype=_s(J.prototype),Bt.prototype.constructor=Bt,Yt.prototype.clear=Qt,Yt.prototype.delete=Xt,Yt.prototype.get=nr,Yt.prototype.has=tr,Yt.prototype.set=rr,er.prototype.clear=ur,er.prototype.delete=ir,er.prototype.get=or,er.prototype.has=fr,er.prototype.set=cr,ar.prototype.clear=hr,ar.prototype.delete=pr,ar.prototype.get=_r,ar.prototype.has=vr,ar.prototype.set=wr,mr.prototype.add=mr.prototype.push=xr,mr.prototype.has=jr,Or.prototype.clear=Ir,Or.prototype.delete=zr,Or.prototype.get=Er,Or.prototype.has=Lr,Or.prototype.set=Wr;var vs=Pu(pe),gs=Pu(_e,!0),ys=qu(),ds=qu(!0),bs=us?function(n,t){return us.set(n,t),n}:Sa,ws=Ul?function(n,t){return Ul(n,"toString",{configurable:!0,enumerable:!1,value:za(t),writable:!0})}:Sa,ms=ru,xs=Bl||function(n){return Rr.clearTimeout(n)},js=ts&&1/q(new ts([,-0]))[1]==Rn?function(n){return new ts(n)}:Ta,As=us?function(n){return us.get(n)}:Ta,ks=Fl?function(n){return null==n?[]:(n=cl(n),f(Fl(n),function(t){return El.call(n,t)}))}:Fa,Os=Fl?function(n){for(var t=[];n;)s(t,ks(n)),n=Rl(n);return t}:Fa,Is=de;(Ql&&Is(new Ql(new ArrayBuffer(1)))!=ut||Xl&&Is(new Xl)!=Zn||ns&&"[object Promise]"!=Is(ns.resolve())||ts&&Is(new ts)!=Yn||rs&&Is(new rs)!=tt)&&(Is=function(n){var t=de(n),r=t==Gn?n.constructor:X,e=r?Xi(r):"";if(e)switch(e){case os:return ut;case fs:return Zn;case cs:return"[object Promise]";case as:return Yn;case ls:return tt}return t});var Rs=vl?rc:Na,zs=Ji(bs),Es=$l||function(n,t){return Rr.setTimeout(n,t)},Ss=Ji(ws),Ls=function(n){var t=Lf(n,function(n){return 500===r.size&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return Ot.test(n)&&t.push(""),n.replace(It,function(n,r,e,u){t.push(e?u.replace(Tt,"$1"):r||n)}),t}),Ws=ru(function(n,t){return Gf(n)?fe(n,he(t,1,Gf,!0)):[]}),Cs=ru(function(n,t){var r=mo(t);return Gf(r)&&(r=X),Gf(n)?fe(n,he(t,1,Gf,!0),mi(r,2)):[]}),Us=ru(function(n,t){var r=mo(t);return Gf(r)&&(r=X),Gf(n)?fe(n,he(t,1,Gf,!0),X,r):[]}),Bs=ru(function(n){var t=l(n,mu);return t.length&&t[0]===n[0]?je(t):[]}),Ts=ru(function(n){var t=mo(n),r=l(n,mu);return t===mo(r)?t=X:r.pop(),r.length&&r[0]===n[0]?je(r,mi(t,2)):[]}),$s=ru(function(n){var t=mo(n),r=l(n,mu);return t="function"==typeof t?t:X,t&&r.pop(),r.length&&r[0]===n[0]?je(r,X,t):[]}),Ds=ru(Ao),Ms=gi(function(n,t){var r=null==n?0:n.length,e=te(n,t);return Qe(n,l(t,function(n){return Ci(n,r)?+n:n}).sort(Wu)),e}),Fs=ru(function(n){return _u(he(n,1,Gf,!0))}),Ns=ru(function(n){var t=mo(n);return Gf(t)&&(t=X),_u(he(n,1,Gf,!0),mi(t,2))}),Ps=ru(function(n){var t=mo(n);return t="function"==typeof t?t:X,_u(he(n,1,Gf,!0),X,t)}),qs=ru(function(n,t){return Gf(n)?fe(n,t):[]}),Zs=ru(function(n){return bu(f(n,Gf))}),Ks=ru(function(n){var t=mo(n);return Gf(t)&&(t=X),bu(f(n,Gf),mi(t,2))}),Vs=ru(function(n){var t=mo(n);return t="function"==typeof t?t:X,bu(f(n,Gf),X,t)}),Gs=ru(Ko),Hs=ru(function(n){var t=n.length,r=t>1?n[t-1]:X;return r="function"==typeof r?(n.pop(),r):X,Vo(n,r)}),Js=gi(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return te(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Bt&&Ci(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:Qo,args:[u],thisArg:X}),new Y(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(X),n})):this.thru(u)}),Ys=Fu(function(n,t,r){yl.call(n,r)?++n[r]:ne(n,r,1)}),Qs=Ju(lo),Xs=Ju(so),nh=Fu(function(n,t,r){yl.call(n,r)?n[r].push(t):ne(n,r,[t])}),th=ru(function(n,t,e){var u=-1,i="function"==typeof t,o=Vf(n)?el(n.length):[];return vs(n,function(n){o[++u]=i?r(t,n,e):ke(n,t,e)}),o}),rh=Fu(function(n,t,r){ne(n,r,t)}),eh=Fu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),uh=ru(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ui(n,t[0],t[1])?t=[]:r>2&&Ui(t[0],t[1],t[2])&&(t=[t[0]]),Ve(n,he(t,1),[])}),ih=Tl||function(){return Rr.Date.now()},oh=ru(function(n,t,r){var e=hn;if(r.length){var u=P(r,wi(oh));e|=yn}return ai(n,e,t,r,u)}),fh=ru(function(n,t,r){var e=hn|pn;if(r.length){var u=P(r,wi(fh));e|=yn}return ai(t,e,n,r,u)}),ch=ru(function(n,t){return oe(n,1,t)}),ah=ru(function(n,t,r){return oe(n,kc(t)||0,r)});Lf.Cache=ar;var lh=ms(function(n,t){t=1==t.length&&yh(t[0])?l(t[0],E(mi())):l(he(t,1),E(mi()));var e=t.length;return ru(function(u){for(var i=-1,o=Vl(u.length,e);++i<o;)u[i]=t[i].call(this,u[i]);return r(n,this,u)})}),sh=ru(function(n,t){var r=P(t,wi(sh));return ai(n,yn,X,t,r)}),hh=ru(function(n,t){var r=P(t,wi(hh));return ai(n,dn,X,t,r)}),ph=gi(function(n,t){return ai(n,wn,X,X,X,t)}),_h=ii(be),vh=ii(function(n,t){return n>=t}),gh=Oe(function(){return arguments}())?Oe:function(n){return oc(n)&&yl.call(n,"callee")&&!El.call(n,"callee")},yh=el.isArray,dh=Cr?E(Cr):Ie,bh=Nl||Na,wh=Ur?E(Ur):Re,mh=Br?E(Br):Se,xh=Tr?E(Tr):Ce,jh=$r?E($r):Ue,Ah=Dr?E(Dr):Be,kh=ii(Me),Oh=ii(function(n,t){return n<=t}),Ih=Nu(function(n,t){if(Mi(t)||Vf(t))return void $u(t,Fc(t),n);for(var r in t)yl.call(t,r)&&Hr(n,r,t[r])}),Rh=Nu(function(n,t){$u(t,Nc(t),n)}),zh=Nu(function(n,t,r,e){$u(t,Nc(t),n,e)}),Eh=Nu(function(n,t,r,e){$u(t,Fc(t),n,e)}),Sh=gi(te),Lh=ru(function(n){return n.push(X,li),r(zh,X,n)}),Wh=ru(function(n){return n.push(X,si),r($h,X,n)}),Ch=Xu(function(n,t,r){n[t]=r},za(Sa)),Uh=Xu(function(n,t,r){yl.call(n,t)?n[t].push(r):n[t]=[r]},mi),Bh=ru(ke),Th=Nu(function(n,t,r){qe(n,t,r)}),$h=Nu(function(n,t,r,e){qe(n,t,r,e)}),Dh=gi(function(n,t){var r={};if(null==n)return r;var e=!1;t=l(t,function(t){return t=ju(t,n),e||(e=t.length>1),t}),$u(n,di(n),r),e&&(r=ee(r,fn|cn|an,hi));for(var u=t.length;u--;)vu(r,t[u]);return r}),Mh=gi(function(n,t){return null==n?{}:Ge(n,t)}),Fh=ci(Fc),Nh=ci(Nc),Ph=Vu(function(n,t,r){return t=t.toLowerCase(),n+(r?ia(t):t)}),qh=Vu(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Zh=Vu(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Kh=Ku("toLowerCase"),Vh=Vu(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Gh=Vu(function(n,t,r){return n+(r?" ":"")+Jh(t)}),Hh=Vu(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Jh=Ku("toUpperCase"),Yh=ru(function(n,t){try{return r(n,X,t)}catch(n){return nc(n)?n:new il(n)}}),Qh=gi(function(n,t){return u(t,function(t){t=Qi(t),ne(n,t,oh(n[t],n))}),n}),Xh=Yu(),np=Yu(!0),tp=ru(function(n,t){return function(r){return ke(r,n,t)}}),rp=ru(function(n,t){return function(r){return ke(n,r,t)}}),ep=ti(l),up=ti(o),ip=ti(_),op=ui(),fp=ui(!0),cp=ni(function(n,t){return n+t},0),ap=fi("ceil"),lp=ni(function(n,t){return n/t},1),sp=fi("floor"),hp=ni(function(n,t){return n*t},1),pp=fi("round"),_p=ni(function(n,t){return n-t},0);return K.after=kf,K.ary=Of,K.assign=Ih,K.assignIn=Rh,K.assignInWith=zh,K.assignWith=Eh,K.at=Sh,K.before=If,K.bind=oh,K.bindAll=Qh,K.bindKey=fh,K.castArray=Mf,K.chain=Jo,K.chunk=ro,K.compact=eo,K.concat=uo,K.cond=Ia,K.conforms=Ra,K.constant=za,K.countBy=Ys,K.create=zc,K.curry=Rf,K.curryRight=zf,K.debounce=Ef,K.defaults=Lh,K.defaultsDeep=Wh,K.defer=ch,K.delay=ah,K.difference=Ws,K.differenceBy=Cs,K.differenceWith=Us,K.drop=io,K.dropRight=oo,K.dropRightWhile=fo,K.dropWhile=co,K.fill=ao,K.filter=cf,K.flatMap=af,K.flatMapDeep=lf,K.flatMapDepth=sf,K.flatten=ho,K.flattenDeep=po,K.flattenDepth=_o,K.flip=Sf,K.flow=Xh,K.flowRight=np,K.fromPairs=vo,K.functions=Bc,K.functionsIn=Tc,K.groupBy=nh,K.initial=bo,K.intersection=Bs,K.intersectionBy=Ts,K.intersectionWith=$s,K.invert=Ch,K.invertBy=Uh,K.invokeMap=th,K.iteratee=La,K.keyBy=rh,K.keys=Fc,K.keysIn=Nc,K.map=vf,K.mapKeys=Pc,K.mapValues=qc,K.matches=Wa,K.matchesProperty=Ca,K.memoize=Lf,K.merge=Th,K.mergeWith=$h,K.method=tp,K.methodOf=rp,K.mixin=Ua,K.negate=Wf,K.nthArg=$a,K.omit=Dh,K.omitBy=Zc,K.once=Cf,K.orderBy=gf,K.over=ep,K.overArgs=lh,K.overEvery=up,K.overSome=ip,K.partial=sh,K.partialRight=hh,K.partition=eh,K.pick=Mh,K.pickBy=Kc,K.property=Da,K.propertyOf=Ma,K.pull=Ds,K.pullAll=Ao,K.pullAllBy=ko,K.pullAllWith=Oo,K.pullAt=Ms,K.range=op,K.rangeRight=fp,K.rearg=ph,K.reject=bf,K.remove=Io,K.rest=Uf,K.reverse=Ro,K.sampleSize=mf,K.set=Gc,K.setWith=Hc,K.shuffle=xf,K.slice=zo,K.sortBy=uh,K.sortedUniq=Bo,K.sortedUniqBy=To,K.split=ga,K.spread=Bf,K.tail=$o,K.take=Do,K.takeRight=Mo,K.takeRightWhile=Fo,K.takeWhile=No,K.tap=Yo,K.throttle=Tf,K.thru=Qo,K.toArray=mc,K.toPairs=Fh,K.toPairsIn=Nh,K.toPath=Va,K.toPlainObject=Oc,K.transform=Jc,K.unary=$f,K.union=Fs,K.unionBy=Ns,K.unionWith=Ps,K.uniq=Po,K.uniqBy=qo,K.uniqWith=Zo,K.unset=Yc,K.unzip=Ko,K.unzipWith=Vo,K.update=Qc,K.updateWith=Xc,K.values=na,K.valuesIn=ta,K.without=qs,K.words=Oa,K.wrap=Df,K.xor=Zs,K.xorBy=Ks,K.xorWith=Vs,K.zip=Gs,K.zipObject=Go,K.zipObjectDeep=Ho,K.zipWith=Hs,K.entries=Fh,K.entriesIn=Nh,K.extend=Rh,K.extendWith=zh,Ua(K,K),K.add=cp,K.attempt=Yh,K.camelCase=Ph,K.capitalize=ia,K.ceil=ap,K.clamp=ra,K.clone=Ff,K.cloneDeep=Pf,K.cloneDeepWith=qf,K.cloneWith=Nf,K.conformsTo=Zf,K.deburr=oa,K.defaultTo=Ea,K.divide=lp,K.endsWith=fa,K.eq=Kf,K.escape=ca,K.escapeRegExp=aa,K.every=ff,K.find=Qs,K.findIndex=lo,K.findKey=Ec,K.findLast=Xs,K.findLastIndex=so,K.findLastKey=Sc,K.floor=sp,K.forEach=hf,K.forEachRight=pf,K.forIn=Lc,K.forInRight=Wc,K.forOwn=Cc,K.forOwnRight=Uc,K.get=$c,K.gt=_h,K.gte=vh,K.has=Dc,K.hasIn=Mc,K.head=go,K.identity=Sa,K.includes=_f,K.indexOf=yo,K.inRange=ea,K.invoke=Bh,K.isArguments=gh,K.isArray=yh,K.isArrayBuffer=dh,K.isArrayLike=Vf,K.isArrayLikeObject=Gf,K.isBoolean=Hf,K.isBuffer=bh,K.isDate=wh,K.isElement=Jf,K.isEmpty=Yf,K.isEqual=Qf,K.isEqualWith=Xf,K.isError=nc,K.isFinite=tc,K.isFunction=rc,K.isInteger=ec,K.isLength=uc,K.isMap=mh,K.isMatch=fc,K.isMatchWith=cc,K.isNaN=ac,K.isNative=lc,K.isNil=hc,K.isNull=sc,K.isNumber=pc,K.isObject=ic,K.isObjectLike=oc,K.isPlainObject=_c,K.isRegExp=xh,K.isSafeInteger=vc,K.isSet=jh,K.isString=gc,K.isSymbol=yc,K.isTypedArray=Ah,K.isUndefined=dc,K.isWeakMap=bc,K.isWeakSet=wc,K.join=wo,K.kebabCase=qh,K.last=mo,K.lastIndexOf=xo,K.lowerCase=Zh,K.lowerFirst=Kh,K.lt=kh,K.lte=Oh,K.max=Ha,K.maxBy=Ja,K.mean=Ya,K.meanBy=Qa,K.min=Xa,K.minBy=nl,K.stubArray=Fa,K.stubFalse=Na,K.stubObject=Pa,K.stubString=qa,K.stubTrue=Za,K.multiply=hp,K.nth=jo,K.noConflict=Ba,K.noop=Ta,K.now=ih,K.pad=la,K.padEnd=sa,K.padStart=ha,K.parseInt=pa,K.random=ua,K.reduce=yf,K.reduceRight=df,K.repeat=_a,K.replace=va,K.result=Vc,K.round=pp,K.runInContext=v,K.sample=wf,K.size=jf,K.snakeCase=Vh,K.some=Af,K.sortedIndex=Eo,K.sortedIndexBy=So,K.sortedIndexOf=Lo,K.sortedLastIndex=Wo,K.sortedLastIndexBy=Co,K.sortedLastIndexOf=Uo,K.startCase=Gh,K.startsWith=ya,K.subtract=_p,K.sum=tl,K.sumBy=rl,K.template=da,K.times=Ka,K.toFinite=xc,K.toInteger=jc,K.toLength=Ac,K.toLower=ba,K.toNumber=kc,K.toSafeInteger=Ic,K.toString=Rc,K.toUpper=wa,K.trim=ma,K.trimEnd=xa,K.trimStart=ja,K.truncate=Aa,K.unescape=ka,K.uniqueId=Ga,K.upperCase=Hh,K.upperFirst=Jh,K.each=hf,K.eachRight=pf,K.first=go,Ua(K,function(){var n={};return pe(K,function(t,r){yl.call(K.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),K.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){K[n].placeholder=K}),u(["drop","take"],function(n,t){Bt.prototype[n]=function(r){r=r===X?1:Kl(jc(r),0);var e=this.__filtered__&&!t?new Bt(this):this.clone();return e.__filtered__?e.__takeCount__=Vl(r,e.__takeCount__):e.__views__.push({size:Vl(r,Ln),type:n+(e.__dir__<0?"Right":"")}),e},Bt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),u(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==On||3==r;Bt.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:mi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),u(["head","last"],function(n,t){var r="take"+(t?"Right":"");Bt.prototype[n]=function(){return this[r](1).value()[0]}}),u(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Bt.prototype[n]=function(){return this.__filtered__?new Bt(this):this[r](1)}}),Bt.prototype.compact=function(){return this.filter(Sa)},Bt.prototype.find=function(n){return this.filter(n).head()},Bt.prototype.findLast=function(n){return this.reverse().find(n)},Bt.prototype.invokeMap=ru(function(n,t){return"function"==typeof n?new Bt(this):this.map(function(r){return ke(r,n,t)})}),Bt.prototype.reject=function(n){return this.filter(Wf(mi(n)))},Bt.prototype.slice=function(n,t){n=jc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Bt(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==X&&(t=jc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Bt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Bt.prototype.toArray=function(){return this.take(Ln)},pe(Bt.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=K[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(K.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Bt,c=o[0],a=f||yh(t),l=function(n){var t=u.apply(K,s([n],o));return e&&h?t[0]:t};a&&r&&"function"==typeof c&&1!=c.length&&(f=a=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&a){t=v?t:new Bt(this);var g=n.apply(t,o);return g.__actions__.push({func:Qo,args:[l],thisArg:X}),new Y(g,h)}return _&&v?n.apply(this,o):(g=this.thru(l),_?e?g.value()[0]:g.value():g)})}),u(["pop","push","shift","sort","splice","unshift"],function(n){var t=hl[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);K.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(yh(u)?u:[],n)}return this[r](function(r){return t.apply(yh(r)?r:[],n)})}}),pe(Bt.prototype,function(n,t){var r=K[t];if(r){var e=r.name+"";(is[e]||(is[e]=[])).push({name:t,func:r})}}),is[Qu(X,pn).name]=[{name:"wrapper",func:X}],Bt.prototype.clone=Gt,Bt.prototype.reverse=Ht,Bt.prototype.value=Jt,K.prototype.at=Js,K.prototype.chain=Xo,K.prototype.commit=nf,K.prototype.next=tf,K.prototype.plant=ef,K.prototype.reverse=uf,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=of,K.prototype.first=K.prototype.head,Wl&&(K.prototype[Wl]=rf),K}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Rr._=qr,define(function(){return qr})):Er?((Er.exports=qr)._=qr,zr._=qr):Rr._=qr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],43:[function(require,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],44:[function(require,module,exports){(function(process,setImmediate){"use strict";function microtask(){if("undefined"!=typeof MutationObserver){var e=document.createTextNode(""),t=[],r=0;return new MutationObserver(function(){for(;t.length;)t.shift()()}).observe(e,{characterData:!0}),function(n){t.push(n),e.data=r=1-r}}return void 0!==setImmediate?setImmediate:void 0!==process?process.nextTick:setTimeout}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=microtask}).call(this,require("_process"),require("timers").setImmediate)},{_process:43,timers:76}],45:[function(require,module,exports){"use strict";function classNameFromVNode(e){var r=selectorParser_1.selectorParser(e).className,s=void 0===r?"":r;if(!e.data)return s;var a=e.data,t=a.class,o=a.props;return t&&(s+=" "+Object.keys(t).filter(function(e){return t[e]}).join(" ")),o&&o.className&&(s+=" "+o.className),s&&s.trim()}Object.defineProperty(exports,"__esModule",{value:!0});var selectorParser_1=require("./selectorParser");exports.classNameFromVNode=classNameFromVNode},{"./selectorParser":51}],46:[function(require,module,exports){"use strict";function curry2(r){return function(e,t){switch(arguments.length){case 0:return r;case 1:return function(t){return r(e,t)};default:return r(e,t)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.curry2=curry2},{}],47:[function(require,module,exports){"use strict";function findMatches(e,r){return r?(traverseVNode(r,addParent),query_1.querySelector(e,r)):[]}function traverseVNode(e,r){function t(e,a,n){for(var d=e.children&&e.children.length||0,o=0;o<d;++o){var i=e.children;i&&i[o]&&"string"!=typeof i[o]&&t(i[o],!1,e)}r(e,a,a?void 0:n)}t(e,!0)}function addParent(e,r,t){r||(e.data||(e.data={}),e.data[parent_symbol_1.default]||Object.defineProperty(e.data,parent_symbol_1.default,{value:t}))}Object.defineProperty(exports,"__esModule",{value:!0});var query_1=require("./query"),parent_symbol_1=require("./parent-symbol");exports.findMatches=findMatches},{"./parent-symbol":49,"./query":50}],48:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var curry2_1=require("./curry2"),findMatches_1=require("./findMatches");exports.select=curry2_1.curry2(findMatches_1.findMatches);var selectorParser_1=require("./selectorParser");exports.selectorParser=selectorParser_1.selectorParser;var classNameFromVNode_1=require("./classNameFromVNode");exports.classNameFromVNode=classNameFromVNode_1.classNameFromVNode},{"./classNameFromVNode":45,"./curry2":46,"./findMatches":47,"./selectorParser":51}],49:[function(require,module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var root;root="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:Function("return this")();var parentSymbol,Symbol=root.Symbol;parentSymbol="function"==typeof Symbol?Symbol("parent"):"@@snabbdom-selector-parent",exports.default=parentSymbol}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(require,module,exports){"use strict";function customMatches(e,r){var t=r.data,a=matches.bind(null,e);if(t&&t.fn){var s=void 0;return s=Array.isArray(t.args)?t.fn.apply(null,t.args):t.args?t.fn.call(null,t.args):t.fn(),!!a(s)&&s}return a(r)}Object.defineProperty(exports,"__esModule",{value:!0});var tree_selector_1=require("tree-selector"),selectorParser_1=require("./selectorParser"),classNameFromVNode_1=require("./classNameFromVNode"),parent_symbol_1=require("./parent-symbol"),options={tag:function(e){return selectorParser_1.selectorParser(e).tagName},className:function(e){return classNameFromVNode_1.classNameFromVNode(e)},id:function(e){return selectorParser_1.selectorParser(e).id||""},children:function(e){return e.children||[]},parent:function(e){return e.data[parent_symbol_1.default]||e},contents:function(e){return e.text||""},attr:function(e,r){if(e.data){var t=e.data,a=t.attrs,s=void 0===a?{}:a,o=t.props,n=void 0===o?{}:o,c=t.dataset,l=void 0===c?{}:c;if(s[r])return s[r];if(n[r])return n[r];if(0===r.indexOf("data-")&&l[r.slice(5)])return l[r.slice(5)]}}},matches=tree_selector_1.createMatches(options);exports.querySelector=tree_selector_1.createQuerySelector(options,customMatches)},{"./classNameFromVNode":45,"./parent-symbol":49,"./selectorParser":51,"tree-selector":77}],51:[function(require,module,exports){"use strict";function selectorParser(e){if(!e.sel)return{tagName:"",id:"",className:""};var r=e.sel,s=r.indexOf("#"),t=r.indexOf(".",s),a=s>0?s:r.length,l=t>0?t:r.length;return{tagName:-1!==s||-1!==t?r.slice(0,Math.min(a,l)):r,id:a<l?r.slice(a+1,l):void 0,className:t>0?r.slice(l+1).replace(/\./g," "):void 0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectorParser=selectorParser},{}],52:[function(require,module,exports){"use strict";function addNS(i,e,r){if(i.ns="http://www.w3.org/2000/svg","foreignObject"!==r&&void 0!==e)for(var d=0;d<e.length;++d){var o=e[d].data;void 0!==o&&addNS(o,e[d].children,e[d].sel)}}function h(i,e,r){var d,o,v,t={};if(void 0!==r?(t=e,is.array(r)?d=r:is.primitive(r)?o=r:r&&r.sel&&(d=[r])):void 0!==e&&(is.array(e)?d=e:is.primitive(e)?o=e:e&&e.sel?d=[e]:t=e),void 0!==d)for(v=0;v<d.length;++v)is.primitive(d[v])&&(d[v]=vnode_1.vnode(void 0,void 0,void 0,d[v],void 0))
;return"s"!==i[0]||"v"!==i[1]||"g"!==i[2]||3!==i.length&&"."!==i[3]&&"#"!==i[3]||addNS(t,d,i),vnode_1.vnode(i,t,d,o,void 0)}Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=require("./vnode"),is=require("./is");exports.h=h,exports.default=h},{"./is":54,"./vnode":63}],53:[function(require,module,exports){"use strict";function createElement(e){return document.createElement(e)}function createElementNS(e,t){return document.createElementNS(e,t)}function createTextNode(e){return document.createTextNode(e)}function createComment(e){return document.createComment(e)}function insertBefore(e,t,n){e.insertBefore(t,n)}function removeChild(e,t){e.removeChild(t)}function appendChild(e,t){e.appendChild(t)}function parentNode(e){return e.parentNode}function nextSibling(e){return e.nextSibling}function tagName(e){return e.tagName}function setTextContent(e,t){e.textContent=t}function getTextContent(e){return e.textContent}function isElement(e){return 1===e.nodeType}function isText(e){return 3===e.nodeType}function isComment(e){return 8===e.nodeType}Object.defineProperty(exports,"__esModule",{value:!0}),exports.htmlDomApi={createElement:createElement,createElementNS:createElementNS,createTextNode:createTextNode,createComment:createComment,insertBefore:insertBefore,removeChild:removeChild,appendChild:appendChild,parentNode:parentNode,nextSibling:nextSibling,tagName:tagName,setTextContent:setTextContent,getTextContent:getTextContent,isElement:isElement,isText:isText,isComment:isComment},exports.default=exports.htmlDomApi},{}],54:[function(require,module,exports){"use strict";function primitive(r){return"string"==typeof r||"number"==typeof r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.array=Array.isArray,exports.primitive=primitive},{}],55:[function(require,module,exports){"use strict";function updateAttrs(t,e){var r,a=e.elm,o=t.data.attrs,s=e.data.attrs;if((o||s)&&o!==s){o=o||{},s=s||{};for(r in s){var u=s[r];o[r]!==u&&(!0===u?a.setAttribute(r,""):!1===u?a.removeAttribute(r):r.charCodeAt(0)!==xChar?a.setAttribute(r,u):r.charCodeAt(3)===colonChar?a.setAttributeNS(xmlNS,r,u):r.charCodeAt(5)===colonChar?a.setAttributeNS(xlinkNS,r,u):a.setAttribute(r,u))}for(r in o)r in s||a.removeAttribute(r)}}Object.defineProperty(exports,"__esModule",{value:!0});var xlinkNS="http://www.w3.org/1999/xlink",xmlNS="http://www.w3.org/XML/1998/namespace",colonChar=58,xChar=120;exports.attributesModule={create:updateAttrs,update:updateAttrs},exports.default=exports.attributesModule},{}],56:[function(require,module,exports){"use strict";function updateClass(s,e){var a,t,l=e.elm,d=s.data.class,o=e.data.class;if((d||o)&&d!==o){d=d||{},o=o||{};for(t in d)o[t]||l.classList.remove(t);for(t in o)(a=o[t])!==d[t]&&l.classList[a?"add":"remove"](t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.classModule={create:updateClass,update:updateClass},exports.default=exports.classModule},{}],57:[function(require,module,exports){"use strict";function updateDataset(e,t){var a,r=t.elm,d=e.data.dataset,s=t.data.dataset;if((d||s)&&d!==s){d=d||{},s=s||{};var o=r.dataset;for(a in d)s[a]||(o?a in o&&delete o[a]:r.removeAttribute("data-"+a.replace(CAPS_REGEX,"-$&").toLowerCase()));for(a in s)d[a]!==s[a]&&(o?o[a]=s[a]:r.setAttribute("data-"+a.replace(CAPS_REGEX,"-$&").toLowerCase(),s[a]))}}Object.defineProperty(exports,"__esModule",{value:!0});var CAPS_REGEX=/[A-Z]/g;exports.datasetModule={create:updateDataset,update:updateDataset},exports.default=exports.datasetModule},{}],58:[function(require,module,exports){"use strict";function updateProps(e,p){var o,r,t=p.elm,s=e.data.props,a=p.data.props;if((s||a)&&s!==a){s=s||{},a=a||{};for(o in s)a[o]||delete t[o];for(o in a)r=a[o],s[o]===r||"value"===o&&t[o]===r||(t[o]=r)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.propsModule={create:updateProps,update:updateProps},exports.default=exports.propsModule},{}],59:[function(require,module,exports){"use strict";function setNextFrame(e,t,r){nextFrame(function(){e[t]=r})}function updateStyle(e,t){var r,o,l=t.elm,a=e.data.style,n=t.data.style;if((a||n)&&a!==n){a=a||{},n=n||{};var d="delayed"in a;for(o in a)n[o]||("-"===o[0]&&"-"===o[1]?l.style.removeProperty(o):l.style[o]="");for(o in n)if(r=n[o],"delayed"===o&&n.delayed)for(var y in n.delayed)r=n.delayed[y],d&&r===a.delayed[y]||setNextFrame(l.style,y,r);else"remove"!==o&&r!==a[o]&&("-"===o[0]&&"-"===o[1]?l.style.setProperty(o,r):l.style[o]=r)}}function applyDestroyStyle(e){var t,r,o=e.elm,l=e.data.style;if(l&&(t=l.destroy))for(r in t)o.style[r]=t[r]}function applyRemoveStyle(e,t){var r=e.data.style;if(!r||!r.remove)return void t();reflowForced||(getComputedStyle(document.body).transform,reflowForced=!0);var o,l,a=e.elm,n=0,d=r.remove,y=0,i=[];for(o in d)i.push(o),a.style[o]=d[o];l=getComputedStyle(a);for(var f=l["transition-property"].split(", ");n<f.length;++n)-1!==i.indexOf(f[n])&&y++;a.addEventListener("transitionend",function(e){e.target===a&&--y,0===y&&t()})}function forceReflow(){reflowForced=!1}Object.defineProperty(exports,"__esModule",{value:!0});var raf="undefined"!=typeof window&&window.requestAnimationFrame.bind(window)||setTimeout,nextFrame=function(e){raf(function(){raf(e)})},reflowForced=!1;exports.styleModule={pre:forceReflow,create:updateStyle,update:updateStyle,destroy:applyDestroyStyle,remove:applyRemoveStyle},exports.default=exports.styleModule},{}],60:[function(require,module,exports){"use strict";function isUndef(e){return void 0===e}function isDef(e){return void 0!==e}function sameVnode(e,t){return e.key===t.key&&e.sel===t.sel}function isVnode(e){return void 0!==e.sel}function createKeyToOldIdx(e,t,i){var n,o,r,l={};for(n=t;n<=i;++n)null!=(r=e[n])&&void 0!==(o=r.key)&&(l[o]=n);return l}function init(e,t){function i(e){var t=e.id?"#"+e.id:"",i=e.className?"."+e.className.split(" ").join("."):"";return vnode_1.default(m.tagName(e).toLowerCase()+t+i,{},[],void 0,e)}function n(e,t){return function(){if(0==--t){var i=m.parentNode(e);m.removeChild(i,e)}}}function o(e,t){var i,n=e.data;void 0!==n&&isDef(i=n.hook)&&isDef(i=i.init)&&(i(e),n=e.data);var r=e.children,l=e.sel;if("!"===l)isUndef(e.text)&&(e.text=""),e.elm=m.createComment(e.text);else if(void 0!==l){var s=l.indexOf("#"),d=l.indexOf(".",s),f=s>0?s:l.length,a=d>0?d:l.length,u=-1!==s||-1!==d?l.slice(0,Math.min(f,a)):l,v=e.elm=isDef(n)&&isDef(i=n.ns)?m.createElementNS(i,u):m.createElement(u);for(f<a&&v.setAttribute("id",l.slice(f+1,a)),d>0&&v.setAttribute("class",l.slice(a+1).replace(/\./g," ")),i=0;i<h.create.length;++i)h.create[i](emptyNode,e);if(is.array(r))for(i=0;i<r.length;++i){var c=r[i];null!=c&&m.appendChild(v,o(c,t))}else is.primitive(e.text)&&m.appendChild(v,m.createTextNode(e.text));i=e.data.hook,isDef(i)&&(i.create&&i.create(emptyNode,e),i.insert&&t.push(e))}else e.elm=m.createTextNode(e.text);return e.elm}function r(e,t,i,n,r,l){for(;n<=r;++n){var s=i[n];null!=s&&m.insertBefore(e,o(s,l),t)}}function l(e){var t,i,n=e.data;if(void 0!==n){for(isDef(t=n.hook)&&isDef(t=t.destroy)&&t(e),t=0;t<h.destroy.length;++t)h.destroy[t](e);if(void 0!==e.children)for(i=0;i<e.children.length;++i)null!=(t=e.children[i])&&"string"!=typeof t&&l(t)}}function s(e,t,i,o){for(;i<=o;++i){var r=void 0,s=void 0,d=void 0,f=t[i];if(null!=f)if(isDef(f.sel)){for(l(f),s=h.remove.length+1,d=n(f.elm,s),r=0;r<h.remove.length;++r)h.remove[r](f,d);isDef(r=f.data)&&isDef(r=r.hook)&&isDef(r=r.remove)?r(f,d):d()}else m.removeChild(e,f.elm)}}function d(e,t,i,n){for(var l,d,a,u,h=0,v=0,c=t.length-1,p=t[0],x=t[c],D=i.length-1,g=i[0],k=i[D];h<=c&&v<=D;)null==p?p=t[++h]:null==x?x=t[--c]:null==g?g=i[++v]:null==k?k=i[--D]:sameVnode(p,g)?(f(p,g,n),p=t[++h],g=i[++v]):sameVnode(x,k)?(f(x,k,n),x=t[--c],k=i[--D]):sameVnode(p,k)?(f(p,k,n),m.insertBefore(e,p.elm,m.nextSibling(x.elm)),p=t[++h],k=i[--D]):sameVnode(x,g)?(f(x,g,n),m.insertBefore(e,x.elm,p.elm),x=t[--c],g=i[++v]):(void 0===l&&(l=createKeyToOldIdx(t,h,c)),d=l[g.key],isUndef(d)?(m.insertBefore(e,o(g,n),p.elm),g=i[++v]):(a=t[d],a.sel!==g.sel?m.insertBefore(e,o(g,n),p.elm):(f(a,g,n),t[d]=void 0,m.insertBefore(e,a.elm,p.elm)),g=i[++v]));(h<=c||v<=D)&&(h>c?(u=null==i[D+1]?null:i[D+1].elm,r(e,u,i,v,D,n)):s(e,t,h,c))}function f(e,t,i){var n,o;isDef(n=t.data)&&isDef(o=n.hook)&&isDef(n=o.prepatch)&&n(e,t);var l=t.elm=e.elm,f=e.children,a=t.children;if(e!==t){if(void 0!==t.data){for(n=0;n<h.update.length;++n)h.update[n](e,t);n=t.data.hook,isDef(n)&&isDef(n=n.update)&&n(e,t)}isUndef(t.text)?isDef(f)&&isDef(a)?f!==a&&d(l,f,a,i):isDef(a)?(isDef(e.text)&&m.setTextContent(l,""),r(l,null,a,0,a.length-1,i)):isDef(f)?s(l,f,0,f.length-1):isDef(e.text)&&m.setTextContent(l,""):e.text!==t.text&&(isDef(f)&&s(l,f,0,f.length-1),m.setTextContent(l,t.text)),isDef(o)&&isDef(n=o.postpatch)&&n(e,t)}}var a,u,h={},m=void 0!==t?t:htmldomapi_1.default;for(a=0;a<hooks.length;++a)for(h[hooks[a]]=[],u=0;u<e.length;++u){var v=e[u][hooks[a]];void 0!==v&&h[hooks[a]].push(v)}return function(e,t){var n,r,l,d=[];for(n=0;n<h.pre.length;++n)h.pre[n]();for(isVnode(e)||(e=i(e)),sameVnode(e,t)?f(e,t,d):(r=e.elm,l=m.parentNode(r),o(t,d),null!==l&&(m.insertBefore(l,t.elm,m.nextSibling(r)),s(l,[e],0,0))),n=0;n<d.length;++n)d[n].data.hook.insert(d[n]);for(n=0;n<h.post.length;++n)h.post[n]();return t}}Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=require("./vnode"),is=require("./is"),htmldomapi_1=require("./htmldomapi"),emptyNode=vnode_1.default("",{},[],void 0,void 0),hooks=["create","update","remove","destroy","pre","post"],h_1=require("./h");exports.h=h_1.h;var thunk_1=require("./thunk");exports.thunk=thunk_1.thunk,exports.init=init},{"./h":52,"./htmldomapi":53,"./is":54,"./thunk":61,"./vnode":63}],61:[function(require,module,exports){"use strict";function copyToThunk(t,a){a.elm=t.elm,t.data.fn=a.data.fn,t.data.args=a.data.args,a.data=t.data,a.children=t.children,a.text=t.text,a.elm=t.elm}function init(t){var a=t.data;copyToThunk(a.fn.apply(void 0,a.args),t)}function prepatch(t,a){var n,e=t.data,o=a.data,r=e.args,i=o.args;if(e.fn!==o.fn||r.length!==i.length)return void copyToThunk(o.fn.apply(void 0,i),a);for(n=0;n<i.length;++n)if(r[n]!==i[n])return void copyToThunk(o.fn.apply(void 0,i),a);copyToThunk(t,a)}Object.defineProperty(exports,"__esModule",{value:!0});var h_1=require("./h");exports.thunk=function(t,a,n,e){return void 0===e&&(e=n,n=a,a=void 0),h_1.h(t,{key:a,hook:{init:init,prepatch:prepatch},fn:n,args:e})},exports.default=exports.thunk},{"./h":52}],62:[function(require,module,exports){"use strict";function toVNode(e,t){var o,d=void 0!==t?t:htmldomapi_1.default;if(d.isElement(e)){var i,r=e.id?"#"+e.id:"",a=e.getAttribute("class"),n=a?"."+a.split(" ").join("."):"",l=d.tagName(e).toLowerCase()+r+n,s={},u=[],v=void 0,f=void 0,m=e.attributes,p=e.childNodes;for(v=0,f=m.length;v<f;v++)"id"!==(i=m[v].nodeName)&&"class"!==i&&(s[i]=m[v].nodeValue);for(v=0,f=p.length;v<f;v++)u.push(toVNode(p[v],t));return vnode_1.default(l,{attrs:s},u,void 0,e)}return d.isText(e)?(o=d.getTextContent(e),vnode_1.default(void 0,void 0,void 0,o,e)):d.isComment(e)?(o=d.getTextContent(e),vnode_1.default("!",{},[],o,e)):vnode_1.default("",{},[],void 0,e)}Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=require("./vnode"),htmldomapi_1=require("./htmldomapi");exports.toVNode=toVNode,exports.default=toVNode},{"./htmldomapi":53,"./vnode":63}],63:[function(require,module,exports){"use strict";function vnode(e,t,o,d,n){return{sel:e,data:t,children:o,text:d,elm:n,key:void 0===t?void 0:t.key}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vnode=vnode,exports.default=vnode},{}],64:[function(require,module,exports){function Agent(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){Agent.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),Agent.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},module.exports=Agent},{}],65:[function(require,module,exports){function noop(){}function serialize(e){if(!isObject(e))return e;var t=[];for(var r in e)pushEncodedKeyValuePair(t,r,e[r]);return t.join("&")}function pushEncodedKeyValuePair(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){pushEncodedKeyValuePair(e,t,r)});else if(isObject(r))for(var s in r)pushEncodedKeyValuePair(e,t+"["+s+"]",r[s]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function parseString(e){for(var t,r,s={},n=e.split("&"),o=0,i=n.length;o<i;++o)t=n[o],r=t.indexOf("="),-1==r?s[decodeURIComponent(t)]="":s[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return s}function parseHeader(e){for(var t,r,s,n,o=e.split(/\r?\n/),i={},u=0,a=o.length;u<a;++u)r=o[u],-1!==(t=r.indexOf(":"))&&(s=r.slice(0,t).toLowerCase(),n=trim(r.slice(t+1)),i[s]=n);return i}function isJSON(e){return/[\/+]json($|[^-\w])/.test(e)}function Response(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function Request(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new Response(r)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",t);var s;try{r._isResponseOK(t)||(s=new Error(t.statusText||"Unsuccessful HTTP response"))}catch(e){s=e}s?(s.original=e,s.response=t,s.status=t.status,r.callback(s,t)):r.callback(null,t)})}function del(e,t,r){var s=request("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s}var root;"undefined"!=typeof window?root=window:"undefined"!=typeof self?root=self:(console.warn("Using browser-only version of superagent in non-browser environment"),root=this);var Emitter=require("component-emitter"),RequestBase=require("./request-base"),isObject=require("./is-object"),ResponseBase=require("./response-base"),Agent=require("./agent-base"),request=exports=module.exports=function(e,t){return"function"==typeof t?new exports.Request("GET",e).end(t):1==arguments.length?new exports.Request("GET",e):new exports.Request(e,t)};exports.Request=Request,request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var trim="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},ResponseBase(Response.prototype),Response.prototype._parseBody=function(e){var t=request.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&isJSON(this.type)&&(t=request.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},Response.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,s="cannot "+t+" "+r+" ("+this.status+")",n=new Error(s);return n.status=this.status,n.method=t,n.url=r,n},request.Response=Response,Emitter(Request.prototype),RequestBase(Request.prototype),Request.prototype.type=function(e){return this.set("Content-Type",request.types[e]||e),this},Request.prototype.accept=function(e){return this.set("Accept",request.types[e]||e),this},Request.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var s=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,s)},Request.prototype.query=function(e){return"string"!=typeof e&&(e=serialize(e)),e&&this._query.push(e),this},Request.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},Request.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},Request.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},Request.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||noop,this._finalizeQueryString(),this._end()},Request.prototype._end=function(){var e=this,t=this.xhr=request.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var s;try{s=t.status}catch(e){s=0}if(!s){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var s=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.onprogress=s.bind(null,"download"),t.upload&&(t.upload.onprogress=s.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var n=this._header["content-type"],o=this._serializer||request.serialize[n?n.split(";")[0]:""];!o&&isJSON(n)&&(o=request.serialize["application/json"]),o&&(r=o(r))}for(var i in this.header)null!=this.header[i]&&this.header.hasOwnProperty(i)&&t.setRequestHeader(i,this.header[i]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==r?r:null),this},request.agent=function(){return new Agent},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){Agent.prototype[e.toLowerCase()]=function(t,r){var s=new request.Request(e,t);return this._setDefaults(s),r&&s.end(r),s}}),Agent.prototype.del=Agent.prototype.delete,request.get=function(e,t,r){var s=request("GET",e);return"function"==typeof t&&(r=t,t=null),t&&s.query(t),r&&s.end(r),s},request.head=function(e,t,r){var s=request("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&s.query(t),r&&s.end(r),s},request.options=function(e,t,r){var s=request("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.del=del,request.delete=del,request.patch=function(e,t,r){var s=request("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.post=function(e,t,r){var s=request("POST",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.put=function(e,t,r){var s=request("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s}},{"./agent-base":64,"./is-object":66,"./request-base":67,"./response-base":68,"component-emitter":41}],66:[function(require,module,exports){"use strict";function isObject(t){return null!==t&&"object"==typeof t}module.exports=isObject},{}],67:[function(require,module,exports){"use strict";function RequestBase(t){if(t)return mixin(t)}function mixin(t){for(var e in RequestBase.prototype)t[e]=RequestBase.prototype[e];return t}var isObject=require("./is-object");module.exports=RequestBase,RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},RequestBase.prototype.parse=function(t){return this._parser=t,this},RequestBase.prototype.responseType=function(t){return this._responseType=t,this},RequestBase.prototype.serialize=function(t){return this._serializer=t,this},RequestBase.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},RequestBase.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var ERROR_CODES=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];RequestBase.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var s=this._retryCallback(t,e);if(!0===s)return!0;if(!1===s)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~ERROR_CODES.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},RequestBase.prototype.then=function(t,e){if(!this._fullfilledPromise){var s=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){s.end(function(s,i){s?e(s):t(i)})})}return this._fullfilledPromise.then(t,e)},RequestBase.prototype.catch=function(t){return this.then(void 0,t)},RequestBase.prototype.use=function(t){return t(this),this},RequestBase.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},RequestBase.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},RequestBase.prototype.get=function(t){return this._header[t.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(t,e){if(isObject(t)){for(var s in t)this.set(s,t[s]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},RequestBase.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},RequestBase.prototype.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),isObject(t)){for(var s in t)this.field(s,t[s]);return this}if(Array.isArray(e)){for(var i in e)this.field(t,e[i]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},RequestBase.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},RequestBase.prototype._auth=function(t,e,s,i){switch(s.type){case"basic":this.set("Authorization","Basic "+i(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},RequestBase.prototype.withCredentials=function(t){return void 0==t&&(t=!0),this._withCredentials=t,this},RequestBase.prototype.redirects=function(t){return this._maxRedirects=t,this},RequestBase.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(t){var e=isObject(t),s=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&isObject(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(s||this.type("form"),s=this._header["content-type"],this._data="application/x-www-form-urlencoded"==s?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(s||this.type("json"),this)},RequestBase.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},RequestBase.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var s=this.url.substring(e+1).split("&");"function"==typeof this._sort?s.sort(this._sort):s.sort(),this.url=this.url.substring(0,e)+"?"+s.join("&")}}},RequestBase.prototype._appendQueryString=function(){console.trace("Unsupported")},RequestBase.prototype._timeoutError=function(t,e,s){if(!this._aborted){var i=new Error(t+e+"ms exceeded");i.timeout=e,i.code="ECONNABORTED",i.errno=s,this.timedout=!0,this.abort(),this.callback(i)}},RequestBase.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":66}],68:[function(require,module,exports){"use strict";function ResponseBase(t){if(t)return mixin(t)}function mixin(t){for(var s in ResponseBase.prototype)t[s]=ResponseBase.prototype[s];return t}var utils=require("./utils");module.exports=ResponseBase,ResponseBase.prototype.get=function(t){return this.header[t.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(t){var s=t["content-type"]||"";this.type=utils.type(s);var e=utils.params(s);for(var i in e)this[i]=e[i];this.links={};try{t.link&&(this.links=utils.parseLinks(t.link))}catch(t){}},ResponseBase.prototype._setStatusProperties=function(t){var s=t/100|0;this.status=this.statusCode=t,this.statusType=s,this.info=1==s,this.ok=2==s,this.redirect=3==s,this.clientError=4==s,this.serverError=5==s,this.error=(4==s||5==s)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},{"./utils":69}],69:[function(require,module,exports){"use strict";exports.type=function(e){return e.split(/ *; */).shift()},exports.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},exports.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},exports.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},{}],70:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.format=void 0;var _date=require("./utils/date"),_locales=require("./locales.js"),format=function(e,t,r){var a=(0,_date.diffSec)(e,r);return(0,_date.formatDiff)(a,(0,_locales.getLocale)(t))};exports.format=format},{"./locales.js":72,"./utils/date":74}],71:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"format",{enumerable:!0,get:function(){return _format.format}}),Object.defineProperty(exports,"render",{enumerable:!0,get:function(){return _realtime.render}}),Object.defineProperty(exports,"cancel",{enumerable:!0,get:function(){return _realtime.cancel}}),Object.defineProperty(exports,"register",{enumerable:!0,get:function(){return _locales.register}}),exports.version=void 0;var _format=require("./format"),_realtime=require("./realtime"),_locales=require("./locales");exports.version="4.0.0-beta.2"},{"./format":70,"./locales":72,"./realtime":73}],72:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLocale=exports.register=void 0;var EN="second_minute_hour_day_week_month_year".split("_"),ZH="秒_分钟_小时_天_周_个月_年".split("_"),zh_CN=function(e,t){if(0===t)return["刚刚","片刻后"];var r=ZH[parseInt(t/2)];return["".concat(e," ").concat(r,"前"),"".concat(e," ").concat(r,"后")]},en_US=function(e,t){if(0===t)return["just now","right now"];var r=EN[parseInt(t/2)];return e>1&&(r+="s"),["".concat(e," ").concat(r," ago"),"in ".concat(e," ").concat(r)]},Locales={en_US:en_US,zh_CN:zh_CN},register=function(e,t){Locales[e]=t};exports.register=register;var getLocale=function(e){return Locales[e]||en_US};exports.getLocale=getLocale},{}],73:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=exports.cancel=void 0;var _dom=require("./utils/dom"),_date=require("./utils/date"),_locales=require("./locales"),TimerPool={},clear=function(e){clearTimeout(e),delete TimerPool[e]},run=function e(r,t,o,a){clear((0,_dom.getTimerId)(r));var i=(0,_date.diffSec)(t,a);r.innerHTML=(0,_date.formatDiff)(i,o);var l=setTimeout(function(){e(r,t,o,a)},1e3*(0,_date.nextInterval)(i),2147483647);TimerPool[l]=0,(0,_dom.saveTimerId)(r,l)},cancel=function(e){if(e)clear((0,_dom.getTimerId)(e));else for(var r in TimerPool)clear(r)};exports.cancel=cancel;var render=function(e,r,t){void 0===e.length&&(e=[e]);for(var o,a=0;a<e.length;a++){o=e[a];var i=(0,_dom.getDateAttribute)(o),l=(0,_locales.getLocale)(r);run(o,i,l,t)}return e};exports.render=render},{"./locales":72,"./utils/date":74,"./utils/dom":75}],74:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),
exports.nextInterval=exports.diffSec=exports.formatDiff=exports.toDate=exports.toInt=void 0;var SEC_ARRAY=[60,60,24,7,365/7/12,12],toInt=function(t){return parseInt(t)};exports.toInt=toInt;var toDate=function(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(toInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t))};exports.toDate=toDate;var formatDiff=function(t,e){for(var r=0,a=t<0?1:0,n=t=Math.abs(t);t>=SEC_ARRAY[r]&&r<SEC_ARRAY.length;r++)t/=SEC_ARRAY[r];return t=toInt(t),r*=2,t>(0===r?9:1)&&(r+=1),e(t,r,n)[a].replace("%s",t)};exports.formatDiff=formatDiff;var diffSec=function(t,e){return((e=e?toDate(e):new Date)-toDate(t))/1e3};exports.diffSec=diffSec;var nextInterval=function(t){for(var e=1,r=0,a=Math.abs(t);t>=SEC_ARRAY[r]&&r<SEC_ARRAY.length;r++)t/=SEC_ARRAY[r],e*=SEC_ARRAY[r];return a%=e,a=a?e-a:e,Math.ceil(a)};exports.nextInterval=nextInterval},{}],75:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTimerId=exports.saveTimerId=exports.getDateAttribute=void 0;var getAttribute=function(t,e){return t.getAttribute?t.getAttribute(e):t.attr?t.attr(e):void 0},getDateAttribute=function(t){return getAttribute(t,"datetime")};exports.getDateAttribute=getDateAttribute;var saveTimerId=function(t,e){return t.setAttribute?t.setAttribute("timeago-tid",e):t.attr?t.attr("timeago-tid",e):void 0};exports.saveTimerId=saveTimerId;var getTimerId=function(t){return getAttribute(t,"timeago-tid")};exports.getTimerId=getTimerId},{}],76:[function(require,module,exports){(function(setImmediate,clearImmediate){function Timeout(e,t){this._id=e,this._clearFn=t}var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]}}).call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":43,timers:76}],77:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}(require("./selectorParser"));var matches_1=require("./matches");exports.createMatches=matches_1.createMatches;var querySelector_1=require("./querySelector");exports.createQuerySelector=querySelector_1.createQuerySelector},{"./matches":78,"./querySelector":79,"./selectorParser":80}],78:[function(require,module,exports){"use strict";function createMatches(e){return function(r,t){var n="object"==typeof r?r:selectorParser_1.parseSelector(r),i=n.tag,a=n.id,s=n.classList,f=n.attributes,o=n.nextSelector,c=n.pseudos;if(void 0!==o)throw new Error("matches can only process selectors that target a single element");if(!t)return!1;if(i&&i.toLowerCase()!==e.tag(t).toLowerCase())return!1;if(a&&a!==e.id(t))return!1;for(var u=e.className(t).split(" "),l=0;l<s.length;l++)if(-1===u.indexOf(s[l]))return!1;for(var d in f){var h=e.attr(t,d),p=f[d][0],v=f[d][1];if(void 0===h)return!1;if("has"===p)return!0;if("exact"===p&&h!==v)return!1;if("exact"!==p){if("string"!=typeof v)throw new Error("All non-string values have to be an exact match");if("startsWith"===p&&!h.startsWith(v))return!1;if("endsWith"===p&&!h.endsWith(v))return!1;if("contains"===p&&-1===h.indexOf(v))return!1;if("whitespace"===p&&-1===h.split(" ").indexOf(v))return!1;if("dash"===p&&-1===h.split("-").indexOf(v))return!1}}for(var l=0;l<c.length;l++){var x=c[l],p=x[0],g=x[1];if("contains"===p&&g!==e.contents(t))return!1;if("empty"===p&&(e.contents(t)||0!==e.children(t).length))return!1;if("root"===p&&void 0!==e.parent(t))return!1;if(-1!==p.indexOf("child")){if(!e.parent(t))return!1;var O=e.children(e.parent(t));if("first-child"===p&&0!==O.indexOf(t))return!1;if("last-child"===p&&O.indexOf(t)!==O.length-1)return!1;if("nth-child"===p){var w=/([\+-]?)(\d*)(n?)(\+\d+)?/,m=w.exec(g).slice(1),y=O.indexOf(t);m[0]||(m[0]="+");var b=m[1]?parseInt(m[0]+m[1]):void 0,M=parseInt(m[3]||"0");if(b&&"n"===m[2]&&y%b!==M)return!1;if(!b&&m[2]&&("+"===m[0]&&y-M<0||"-"===m[0]&&y-M>=0))return!1;if(!m[2]&&b&&y!==b-1)return!1}}}return!0}}Object.defineProperty(exports,"__esModule",{value:!0});var selectorParser_1=require("./selectorParser");exports.createMatches=createMatches},{"./selectorParser":80}],79:[function(require,module,exports){"use strict";function createQuerySelector(e,r){function t(r,n,o){if(!o)return[];var u=c(r,o),i=u?"object"==typeof u?[u]:[o]:[];if(0===n)return i;var a=e.children(o).filter(function(e){return"string"!=typeof e}).map(function(e){return t(r,n-1,e)}).reduce(function(e,r){return e.concat(r)},[]);return i.concat(a)}function n(r,t,n){if(!n||void 0===e.parent(n))return[];for(var o=[],u=e.children(e.parent(n)),i=u.indexOf(n)+1;i<u.length;i++)if("string"!=typeof u[i]){var a=c(r,u[i]);if(a&&("object"==typeof a?o.push(a):o.push(u[i])),t)break}return o}var c=r||matches_1.createMatches(e);return function(e,r){if(!r)return[];var c="object"==typeof e?e:selectorParser_1.parseSelector(e),o=[r],u=c,i="subtree",a=void 0;do{!function(){if(a=u.nextSelector,u.nextSelector=void 0,"subtree"===i||"child"===i){var e="subtree"===i?1/0:1;o=o.map(function(r){return t(u,e,r)}).reduce(function(e,r){return e.concat(r)},[])}else{var r="nextSibling"===i;o=o.map(function(e){return n(u,r,e)}).reduce(function(e,r){return e.concat(r)},[])}a&&(u=a[1],i=a[0])}()}while(void 0!==a);return o}}Object.defineProperty(exports,"__esModule",{value:!0});var selectorParser_1=require("./selectorParser"),matches_1=require("./matches");exports.createQuerySelector=createQuerySelector},{"./matches":78,"./selectorParser":80}],80:[function(require,module,exports){"use strict";function parseSelector(t){var e=t.trim(),r=new RegExp(TAG,"y"),n=r.exec(e)[0],s=new RegExp(TOKENS,"y");s.lastIndex=r.lastIndex;for(var i=[],a=void 0,o=void 0,c=-1;s.lastIndex<e.length;){var u=s.exec(e);if(!u&&void 0===o)throw new Error("Parse error, invalid selector");if(u&&combinatorRegex.test(u[0]))o=combinatorRegex.exec(u[0])[0],c=s.lastIndex;else{if(void 0!==o){a=[getCombinator(o),parseSelector(e.substring(c))];break}i.push(u[0])}}var l=i.filter(function(t){return t.startsWith(".")}).map(function(t){return t.substring(1)}),f=i.filter(function(t){return t.startsWith("#")}).map(function(t){return t.substring(1)});if(f.length>1)throw new Error("Invalid selector, only one id is allowed");var E=new RegExp("("+IDENT+")"+SPACE+"("+OP+")?"+SPACE+"("+VALUE+")?"),d=i.filter(function(t){return t.startsWith("[")}).map(function(t){return E.exec(t).slice(1,4)}).map(function(t){var e=t[0],r=t[1],n=t[2];return s={},s[e]=[getOp(r),n?parseAttrValue(n):n],s;var s}).reduce(function(t,e){return __assign({},t,e)},{}),S=i.filter(function(t){return t.startsWith(":")}).map(function(t){return postProcessPseudos(t.substring(1))});return{id:f[0]||"",tag:n,classList:l,attributes:d,nextSelector:a,pseudos:S}}function parseAttrValue(t){if(t.startsWith('"'))return t.slice(1,-1);if("true"===t)return!0;if("false"===t)return!1;var e=parseFloat(t);return isNaN(e)?t:e}function postProcessPseudos(t){if("first-child"===t||"last-child"===t||"root"===t||"empty"===t)return[t,void 0];if(t.startsWith("contains"))return["contains",t.slice(10,-2)];var e=t.slice(10,-1);return"even"===e&&(e="2n"),"odd"===e&&(e="2n+1"),["nth-child",e]}function getOp(t){switch(t){case"=":return"exact";case"^=":return"startsWith";case"$=":return"endsWith";case"*=":return"contains";case"~=":return"whitespace";case"|=":return"dash";default:return"has"}}function getCombinator(t){switch(t.trim()){case">":return"child";case"+":return"nextSibling";case"~":return"sibling";default:return"subtree"}}var __assign=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var IDENT="[\\w-]+",SPACE="[ \t]*",VALUE="[^\\]]+",CLASS="(?:\\."+IDENT+")",ID="(?:#"+IDENT+")",OP="(?:=|\\$=|\\^=|\\*=|~=|\\|=)",ATTR="(?:\\["+SPACE+IDENT+SPACE+"(?:"+OP+SPACE+VALUE+SPACE+")?\\])",CHILD="(?:"+SPACE+"(>)"+SPACE+")",NEXT_SIBLING="(?:"+SPACE+"(\\+)"+SPACE+")",SIBLING="(?:"+SPACE+"(~)"+SPACE+")",COMBINATOR="(?:(?:[ \t]+)|"+CHILD+"|"+NEXT_SIBLING+"|"+SIBLING+")",TAG="(:?"+IDENT+")?",TOKENS=CLASS+"|"+ID+"|"+ATTR+'|:(?:first-child|last-child|nth-child\\((?:even|odd|\\d*(?:-?n(?:\\+\\d+)?)?)\\)|empty|root|contains\\("[^"]*"\\))|'+COMBINATOR,combinatorRegex=new RegExp("^"+COMBINATOR+"$");exports.parseSelector=parseSelector},{}],81:[function(require,module,exports){"use strict";function concat(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new index_1.Stream(new ConcatProducer(t))}Object.defineProperty(exports,"__esModule",{value:!0});var index_1=require("../index"),ConcatProducer=function(){function t(t){this.streams=t,this.type="concat",this.out=null,this.i=0}return t.prototype._start=function(t){this.out=t,this.streams[this.i]._add(this)},t.prototype._stop=function(){var t=this.streams;this.i<t.length&&t[this.i]._remove(this),this.i=0,this.out=null},t.prototype._n=function(t){var i=this.out;i&&i._n(t)},t.prototype._e=function(t){var i=this.out;i&&i._e(t)},t.prototype._c=function(){var t=this.out;if(t){var i=this.streams;i[this.i]._remove(this),++this.i<i.length?i[this.i]._add(this):t._c()}},t}();exports.default=concat},{"../index":83}],82:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var index_1=require("../index"),NO={},SampleCombineListener=function(){function t(t,e){this.i=t,this.p=e,e.ils[t]=this}return t.prototype._n=function(t){var e=this.p;e.out!==NO&&e.up(t,this.i)},t.prototype._e=function(t){this.p._e(t)},t.prototype._c=function(){this.p.down(this.i,this)},t}();exports.SampleCombineListener=SampleCombineListener;var SampleCombineOperator=function(){function t(t,e){this.type="sampleCombine",this.ins=t,this.others=e,this.out=NO,this.ils=[],this.Nn=0,this.vals=[]}return t.prototype._start=function(t){this.out=t;for(var e=this.others,i=this.Nn=e.length,o=this.vals=new Array(i),n=0;n<i;n++)o[n]=NO,e[n]._add(new SampleCombineListener(n,this));this.ins._add(this)},t.prototype._stop=function(){var t=this.others,e=t.length,i=this.ils;this.ins._remove(this);for(var o=0;o<e;o++)t[o]._remove(i[o]);this.out=NO,this.vals=[],this.ils=[]},t.prototype._n=function(t){var e=this.out;e!==NO&&(this.Nn>0||e._n([t].concat(this.vals)))},t.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t.prototype.up=function(t,e){var i=this.vals[e];this.Nn>0&&i===NO&&this.Nn--,this.vals[e]=t},t.prototype.down=function(t,e){this.others[t]._remove(e)},t}();exports.SampleCombineOperator=SampleCombineOperator;var sampleCombine;sampleCombine=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return new index_1.Stream(new SampleCombineOperator(e,t))}},exports.default=sampleCombine},{"../index":83}],83:[function(require,module,exports){"use strict";function noop(){}function cp(t){for(var o=t.length,i=Array(o),n=0;n<o;++n)i[n]=t[n];return i}function and(t,o){return function(i){return t(i)&&o(i)}}function _try(t,o,i){try{return t.f(o)}catch(t){return i._e(t),NO}}function internalizeProducer(t){t._start=function(t){t.next=t._n,t.error=t._e,t.complete=t._c,this.start(t)},t._stop=t.stop}var __extends=this&&this.__extends||function(){var t=function(o,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])})(o,i)};return function(o,i){function n(){this.constructor=o}t(o,i),o.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var symbol_observable_1=require("symbol-observable"),NO={};exports.NO=NO;var NO_IL={_n:noop,_e:noop,_c:noop};exports.NO_IL=NO_IL;var StreamSub=function(){function t(t,o){this._stream=t,this._listener=o}return t.prototype.unsubscribe=function(){this._stream._remove(this._listener)},t}(),Observer=function(){function t(t){this._listener=t}return t.prototype.next=function(t){this._listener._n(t)},t.prototype.error=function(t){this._listener._e(t)},t.prototype.complete=function(){this._listener._c()},t}(),FromObservable=function(){function t(t){this.type="fromObservable",this.ins=t,this.active=!1}return t.prototype._start=function(t){this.out=t,this.active=!0,this._sub=this.ins.subscribe(new Observer(t)),this.active||this._sub.unsubscribe()},t.prototype._stop=function(){this._sub&&this._sub.unsubscribe(),this.active=!1},t}(),Merge=function(){function t(t){this.type="merge",this.insArr=t,this.out=NO,this.ac=0}return t.prototype._start=function(t){this.out=t;var o=this.insArr,i=o.length;this.ac=i;for(var n=0;n<i;n++)o[n]._add(this)},t.prototype._stop=function(){for(var t=this.insArr,o=t.length,i=0;i<o;i++)t[i]._remove(this);this.out=NO},t.prototype._n=function(t){var o=this.out;o!==NO&&o._n(t)},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){if(--this.ac<=0){var t=this.out;if(t===NO)return;t._c()}},t}(),CombineListener=function(){function t(t,o,i){this.i=t,this.out=o,this.p=i,i.ils.push(this)}return t.prototype._n=function(t){var o=this.p,i=this.out;if(i!==NO&&o.up(t,this.i)){for(var n=o.vals,e=n.length,r=Array(e),s=0;s<e;++s)r[s]=n[s];i._n(r)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.p;t.out!==NO&&0==--t.Nc&&t.out._c()},t}(),Combine=function(){function t(t){this.type="combine",this.insArr=t,this.out=NO,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return t.prototype.up=function(t,o){var i=this.vals[o],n=this.Nn?i===NO?--this.Nn:this.Nn:0;return this.vals[o]=t,0===n},t.prototype._start=function(t){this.out=t;var o=this.insArr,i=this.Nc=this.Nn=o.length,n=this.vals=new Array(i);if(0===i)t._n([]),t._c();else for(var e=0;e<i;e++)n[e]=NO,o[e]._add(new CombineListener(e,t,this))},t.prototype._stop=function(){for(var t=this.insArr,o=t.length,i=this.ils,n=0;n<o;n++)t[n]._remove(i[n]);this.out=NO,this.ils=[],this.vals=[]},t}(),FromArray=function(){function t(t){this.type="fromArray",this.a=t}return t.prototype._start=function(t){for(var o=this.a,i=0,n=o.length;i<n;i++)t._n(o[i]);t._c()},t.prototype._stop=function(){},t}(),FromPromise=function(){function t(t){this.type="fromPromise",this.on=!1,this.p=t}return t.prototype._start=function(t){var o=this;this.on=!0,this.p.then(function(i){o.on&&(t._n(i),t._c())},function(o){t._e(o)}).then(noop,function(t){setTimeout(function(){throw t})})},t.prototype._stop=function(){this.on=!1},t}(),Periodic=function(){function t(t){this.type="periodic",this.period=t,this.intervalID=-1,this.i=0}return t.prototype._start=function(t){function o(){t._n(i.i++)}var i=this;this.intervalID=setInterval(o,this.period)},t.prototype._stop=function(){-1!==this.intervalID&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},t}(),Debug=function(){function t(t,o){this.type="debug",this.ins=t,this.out=NO,this.s=noop,this.l="","string"==typeof o?this.l=o:"function"==typeof o&&(this.s=o)}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=this.s,n=this.l;if(i!==noop)try{i(t)}catch(t){o._e(t)}else n?console.log(n+":",t):console.log(t);o._n(t)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),Drop=function(){function t(t,o){this.type="drop",this.ins=o,this.out=NO,this.max=t,this.dropped=0}return t.prototype._start=function(t){this.out=t,this.dropped=0,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;o!==NO&&this.dropped++>=this.max&&o._n(t)},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),EndWhenListener=function(){function t(t,o){this.out=t,this.op=o}return t.prototype._n=function(){this.op.end()},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.end()},t}(),EndWhen=function(){function t(t,o){this.type="endWhen",this.ins=o,this.out=NO,this.o=t,this.oil=NO_IL}return t.prototype._start=function(t){this.out=t,this.o._add(this.oil=new EndWhenListener(t,this)),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=NO,this.oil=NO_IL},t.prototype.end=function(){var t=this.out;t!==NO&&t._c()},t.prototype._n=function(t){var o=this.out;o!==NO&&o._n(t)},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){this.end()},t}(),Filter=function(){function t(t,o){this.type="filter",this.ins=o,this.out=NO,this.f=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=_try(this,t,o);i!==NO&&i&&o._n(t)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),FlattenListener=function(){function t(t,o){this.out=t,this.op=o}return t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.inner=NO,this.op.less()},t}(),Flatten=function(){function t(t){this.type="flatten",this.ins=t,this.out=NO,this.open=!0,this.inner=NO,this.il=NO_IL}return t.prototype._start=function(t){this.out=t,this.open=!0,this.inner=NO,this.il=NO_IL,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.inner!==NO&&this.inner._remove(this.il),this.out=NO,this.open=!0,this.inner=NO,this.il=NO_IL},t.prototype.less=function(){var t=this.out;t!==NO&&(this.open||this.inner!==NO||t._c())},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=this,n=i.inner,e=i.il;n!==NO&&e!==NO_IL&&n._remove(e),(this.inner=t)._add(this.il=new FlattenListener(o,this))}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){this.open=!1,this.less()},t}(),Fold=function(){function t(t,o,i){var n=this;this.type="fold",this.ins=i,this.out=NO,this.f=function(o){return t(n.acc,o)},this.acc=this.seed=o}return t.prototype._start=function(t){this.out=t,this.acc=this.seed,t._n(this.acc),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO,this.acc=this.seed},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=_try(this,t,o);i!==NO&&o._n(this.acc=i)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),Last=function(){function t(t){this.type="last",this.ins=t,this.out=NO,this.has=!1,this.val=NO}return t.prototype._start=function(t){this.out=t,this.has=!1,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO,this.val=NO},t.prototype._n=function(t){this.has=!0,this.val=t},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&(this.has?(t._n(this.val),t._c()):t._e(new Error("last() failed because input stream completed")))},t}(),MapOp=function(){function t(t,o){this.type="map",this.ins=o,this.out=NO,this.f=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=_try(this,t,o);i!==NO&&o._n(i)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),Remember=function(){function t(t){this.type="remember",this.ins=t,this.out=NO}return t.prototype._start=function(t){this.out=t,this.ins._add(t)},t.prototype._stop=function(){this.ins._remove(this.out),this.out=NO},t}(),ReplaceError=function(){function t(t,o){this.type="replaceError",this.ins=o,this.out=NO,this.f=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;o!==NO&&o._n(t)},t.prototype._e=function(t){var o=this.out;if(o!==NO)try{this.ins._remove(this),(this.ins=this.f(t))._add(this)}catch(t){o._e(t)}},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),StartWith=function(){function t(t,o){this.type="startWith",this.ins=t,this.out=NO,this.val=o}return t.prototype._start=function(t){this.out=t,this.out._n(this.val),this.ins._add(t)},t.prototype._stop=function(){this.ins._remove(this.out),this.out=NO},t}(),Take=function(){function t(t,o){this.type="take",this.ins=o,this.out=NO,this.max=t,this.taken=0}return t.prototype._start=function(t){this.out=t,this.taken=0,this.max<=0?t._c():this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=++this.taken;i<this.max?o._n(t):i===this.max&&(o._n(t),o._c())}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),Stream=function(){function t(t){this._prod=t||NO,this._ils=[],this._stopID=NO,this._dl=NO,this._d=!1,this._target=NO,this._err=NO}return t.prototype._n=function(t){var o=this._ils,i=o.length;if(this._d&&this._dl._n(t),1==i)o[0]._n(t);else{if(0==i)return;for(var n=cp(o),e=0;e<i;e++)n[e]._n(t)}},t.prototype._e=function(t){if(this._err===NO){this._err=t;var o=this._ils,i=o.length;if(this._x(),this._d&&this._dl._e(t),1==i)o[0]._e(t);else{if(0==i)return;for(var n=cp(o),e=0;e<i;e++)n[e]._e(t)}if(!this._d&&0==i)throw this._err}},t.prototype._c=function(){var t=this._ils,o=t.length;if(this._x(),this._d&&this._dl._c(),1==o)t[0]._c();else{if(0==o)return;for(var i=cp(t),n=0;n<o;n++)i[n]._c()}},t.prototype._x=function(){0!==this._ils.length&&(this._prod!==NO&&this._prod._stop(),this._err=NO,this._ils=[])},t.prototype._stopNow=function(){this._prod._stop(),this._err=NO,this._stopID=NO},t.prototype._add=function(t){var o=this._target;if(o!==NO)return o._add(t);var i=this._ils;if(i.push(t),!(i.length>1))if(this._stopID!==NO)clearTimeout(this._stopID),this._stopID=NO;else{var n=this._prod;n!==NO&&n._start(this)}},t.prototype._remove=function(t){var o=this,i=this._target;if(i!==NO)return i._remove(t);var n=this._ils,e=n.indexOf(t);e>-1&&(n.splice(e,1),this._prod!==NO&&n.length<=0?(this._err=NO,this._stopID=setTimeout(function(){return o._stopNow()})):1===n.length&&this._pruneCycles())},t.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},t.prototype._hasNoSinks=function(t,o){if(-1!==o.indexOf(t))return!0;if(t.out===this)return!0;if(t.out&&t.out!==NO)return this._hasNoSinks(t.out,o.concat(t));if(t._ils){for(var i=0,n=t._ils.length;i<n;i++)if(!this._hasNoSinks(t._ils[i],o.concat(t)))return!1;return!0}return!1},t.prototype.ctor=function(){return this instanceof MemoryStream?MemoryStream:t},t.prototype.addListener=function(t){t._n=t.next||noop,t._e=t.error||noop,t._c=t.complete||noop,this._add(t)},t.prototype.removeListener=function(t){this._remove(t)},t.prototype.subscribe=function(t){return this.addListener(t),new StreamSub(this,t)},t.prototype[symbol_observable_1.default]=function(){return this},t.create=function(o){if(o){if("function"!=typeof o.start||"function"!=typeof o.stop)throw new Error("producer requires both start and stop functions");internalizeProducer(o)}return new t(o)},t.createWithMemory=function(t){return t&&internalizeProducer(t),new MemoryStream(t)},t.never=function(){return new t({_start:noop,_stop:noop})},t.empty=function(){return new t({_start:function(t){t._c()},_stop:noop})},t.throw=function(o){return new t({_start:function(t){t._e(o)},_stop:noop})},t.from=function(o){if("function"==typeof o[symbol_observable_1.default])return t.fromObservable(o);if("function"==typeof o.then)return t.fromPromise(o);if(Array.isArray(o))return t.fromArray(o);throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")},t.of=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return t.fromArray(o)},t.fromArray=function(o){return new t(new FromArray(o))},t.fromPromise=function(o){return new t(new FromPromise(o))},t.fromObservable=function(o){if(o.endWhen)return o;var i="function"==typeof o[symbol_observable_1.default]?o[symbol_observable_1.default]():o;return new t(new FromObservable(i))},t.periodic=function(o){return new t(new Periodic(o))},t.prototype._map=function(t){return new(this.ctor())(new MapOp(t,this))},t.prototype.map=function(t){return this._map(t)},t.prototype.mapTo=function(t){var o=this.map(function(){return t});return o._prod.type="mapTo",o},t.prototype.filter=function(o){var i=this._prod;return new t(i instanceof Filter?new Filter(and(i.f,o),i.ins):new Filter(o,this))},t.prototype.take=function(t){return new(this.ctor())(new Take(t,this))},t.prototype.drop=function(o){return new t(new Drop(o,this))},t.prototype.last=function(){return new t(new Last(this))},t.prototype.startWith=function(t){return new MemoryStream(new StartWith(this,t))},t.prototype.endWhen=function(t){return new(this.ctor())(new EndWhen(t,this))},t.prototype.fold=function(t,o){return new MemoryStream(new Fold(t,o,this))},t.prototype.replaceError=function(t){return new(this.ctor())(new ReplaceError(t,this))},t.prototype.flatten=function(){return new t(new Flatten(this))},t.prototype.compose=function(t){return t(this)},t.prototype.remember=function(){return new MemoryStream(new Remember(this))},t.prototype.debug=function(t){return new(this.ctor())(new Debug(this,t))},t.prototype.imitate=function(t){if(t instanceof MemoryStream)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=t;for(var o=this._ils,i=o.length,n=0;n<i;n++)t._add(o[n]);this._ils=[]},t.prototype.shamefullySendNext=function(t){this._n(t)},t.prototype.shamefullySendError=function(t){this._e(t)},t.prototype.shamefullySendComplete=function(){this._c()},t.prototype.setDebugListener=function(t){t?(this._d=!0,t._n=t.next||noop,t._e=t.error||noop,t._c=t.complete||noop,this._dl=t):(this._d=!1,this._dl=NO)},t.merge=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return new t(new Merge(o))},t.combine=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return new t(new Combine(o))},t}();exports.Stream=Stream;var MemoryStream=function(t){function o(o){var i=t.call(this,o)||this;return i._has=!1,i}return __extends(o,t),o.prototype._n=function(o){this._v=o,this._has=!0,t.prototype._n.call(this,o)},o.prototype._add=function(t){var o=this._target;if(o!==NO)return o._add(t);var i=this._ils;if(i.push(t),i.length>1)return void(this._has&&t._n(this._v));if(this._stopID!==NO)this._has&&t._n(this._v),clearTimeout(this._stopID),this._stopID=NO;else if(this._has)t._n(this._v);else{var n=this._prod;n!==NO&&n._start(this)}},o.prototype._stopNow=function(){this._has=!1,t.prototype._stopNow.call(this)},o.prototype._x=function(){this._has=!1,t.prototype._x.call(this)},o.prototype.map=function(t){return this._map(t)},o.prototype.mapTo=function(o){return t.prototype.mapTo.call(this,o)},o.prototype.take=function(o){return t.prototype.take.call(this,o)},o.prototype.endWhen=function(o){return t.prototype.endWhen.call(this,o)},o.prototype.replaceError=function(o){return t.prototype.replaceError.call(this,o)},o.prototype.remember=function(){return this},o.prototype.debug=function(o){return t.prototype.debug.call(this,o)},o}(Stream);exports.MemoryStream=MemoryStream;var xs=Stream;exports.default=xs},{"symbol-observable":84}],84:[function(require,module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var root,_ponyfill=require("./ponyfill.js"),_ponyfill2=function(e){return e&&e.__esModule?e:{default:e}}(_ponyfill);root="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:void 0!==module?module:Function("return this")();var result=(0,_ponyfill2.default)(root);exports.default=result}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill.js":85}],85:[function(require,module,exports){"use strict";function symbolObservablePonyfill(e){var b,l=e.Symbol;return"function"==typeof l?l.observable?b=l.observable:(b=l("observable"),l.observable=b):b="@@observable",b}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=symbolObservablePonyfill},{}]},{},[2]);
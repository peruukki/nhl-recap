!function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],a=!0,n=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(n)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function main(e){return function(t){var r=t.DOM,a=t.HTTP,n=getApiUrl();return{DOM:view(model(intent(r,a),e)),HTTP:_xstream.default.of({url:n})}}}function getApiUrl(){return"".concat("https://nhl-score-api.herokuapp.com","/api/scores/latest")}function intent(e,t){var r=t.select().map(function(e){return e.replaceError(function(e){return _xstream.default.of({error:e})})}).flatten().map(function(e){if(e.error)return e;var t=JSON.parse(e.text);return t.games.length>0?{success:t}:{error:{message:"No latest scores available.",expected:!0}}}),a=r.filter(function(e){return e.success}).map(function(e){return e.success}),n=e.select(".button--play").events("click").mapTo(!0),o=e.select(".button--pause").events("click").mapTo(!1);return{successApiResponse$:a,isPlaying$:_xstream.default.merge(n,o),playbackHasStarted$:n.take(1),status$:r.filter(function(e){return e.error}).map(function(e){return e.error.expected?e.error.message:"Failed to fetch latest scores: ".concat(e.error.message,".")})}}function model(e,t){var r={date:{},games:[]},a=e.successApiResponse$.startWith(r),n=(0,_clock.default)({scores$:e.successApiResponse$.map(function(e){return e.games}),isPlaying$:e.isPlaying$,props$:_xstream.default.of({interval:20})}),o=n.clock$.filter(function(e){return!!e.update}).map(function(e){return e.update});o.addListener({next:function(e){switch(e.type){case _constants.GAME_UPDATE_END:t.stopGameHighlight(e.gameIndex);break;case _constants.GAME_UPDATE_GOAL:t.highlightGoal(e.classModifier,e.gameIndex);break;case _constants.GAME_UPDATE_START:t.highlightGame(e.gameIndex);break;default:throw new Error("Unknown game update type ".concat(e.type))}}});var s=a.filter(function(e){return e.games.length>0}).map(function(e){return Array.from({length:e.games.length},function(){return[]})}),i=o.filter(function(e){return e.type===_constants.GAME_UPDATE_GOAL}),c=s.map(function(e){return i.fold(function(e,t){return[].concat(_toConsumableArray(e.slice(0,t.gameIndex)),[e[t.gameIndex].concat(t.goal)],_toConsumableArray(e.slice(t.gameIndex+1)))},e)}).flatten(),l=(0,_gameDisplays.default)(n.clock$,a);return _xstream.default.combine(a,c.startWith([]),e.isPlaying$.startWith(!1),e.status$.startWith("Fetching latest scores..."),n.DOM.startWith((0,_dom.span)(".clock")),n.clock$.startWith(null),l.startWith([])).map(function(e){var t=_slicedToArray(e,7),r=t[0];return{scores:r,currentGoals:t[1],isPlaying:t[2],status:t[3],clockVtree:t[4],clock:t[5],gameDisplays:t[6],gameCount:r.games.length}})}function view(e){return e.map(function(e){var t=e.scores,r=e.currentGoals,a=e.isPlaying,n=e.status,o=e.clockVtree,s=e.clock,i=e.gameDisplays,c=e.gameCount;return(0,_dom.div)([(0,_dom.header)(".header",renderHeader({clockVtree:o,clock:s,gameCount:c,isPlaying:a,date:t.date})),(0,_dom.section)(".score-panel",renderScores({games:t.games,currentGoals:r,status:n,gameDisplays:i}))])})}function renderHeader(e){var t,r=!e.clock,a=!(!e.clock||!e.clock.end||e.clock.period),n=e.isPlaying?"pause":"play",o=(0,_classnames.default)((t={".button":!0},_defineProperty(t,".button--".concat(n),e.gameCount>0),_defineProperty(t,".expand--".concat(e.gameCount),e.gameCount>0&&r),_defineProperty(t,".button--hidden",a),t)).replace(/\s/g,""),s=r&&!!e.date;return(0,_dom.div)(".header__container",[(0,_dom.h1)(".header__title",[(0,_dom.span)(".all-caps","NHL")," Recap"]),(0,_dom.button)(o),s?renderDate(e.date):e.clockVtree])}function renderScores(e){var t=(0,_utils.getGameAnimationIndexes)(e.games.length),r=(0,_classnames.default)({".score-list":!0,".score-list--single-game":1===e.games.length}).replace(/\s/g,"");return e.games.length>0?(0,_dom.div)(r,e.games.map(function(r,a){return(0,_game.default)(e.gameDisplays[a],r,e.currentGoals[a]||[],t[a])})):(0,_dom.div)(".status.fade-in",[e.status||"No scores available."])}function renderDate(e){return(0,_dom.span)(".date.fade-in-slow",e.pretty)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=main;var _dom=require("@cycle/dom"),_xstream=_interopRequireDefault(require("xstream")),_classnames=_interopRequireDefault(require("classnames")),_constants=require("../events/constants"),_gameDisplays=_interopRequireDefault(require("../events/game-displays")),_utils=require("../utils/utils"),_clock=_interopRequireDefault(require("./clock")),_game=_interopRequireDefault(require("./game"))},{"../events/constants":4,"../events/game-displays":5,"../utils/utils":13,"./clock":2,"./game":3,"@cycle/dom":26,classnames:41,xstream:96}],2:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],t=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(e){o=!0,i=e}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function Clock(e){var r=model(intent(e));return{DOM:view(r),clock$:r}}function intent(e){return{scores$:e.scores$,isPlaying$:e.isPlaying$,props$:e.props$}}function model(e){var r=e.props$.map(function(e){return _xstream.default.periodic(e.interval)}).flatten(),n=e.scores$.map(function(e){return(0,_gameEvents.default)(e)}),t=_xstream.default.combine(e.isPlaying$,r).filter(function(e){return _slicedToArray(e,1)[0]}).fold(function(e){return e+1},-1).drop(1),o=_xstream.default.combine(n,t).filter(function(e){var r=_slicedToArray(e,2),n=r[0];return r[1]>=n.length});return _xstream.default.combine(n,t).endWhen(o).map(function(e){var r=_slicedToArray(e,2);return r[0][r[1]]}).filter(function(e){return!e.pause})}function view(e){return e.map(function(e){var r=e?renderTime(e):"",n=r||e.period===_constants.PERIOD_SHOOTOUT&&!e.end?".fade-in-fast":"";return(0,_dom.span)(".clock".concat(n),[(0,_dom.span)(".clock__period",e?renderPeriod(e):""),r?(0,_dom.span)(".clock__time",r):""])})}function renderPeriod(e){return e.start?(0,_dom.span)(".fade-in","Starting..."):e.end?e.period?(0,_dom.span)(".fade-in",renderPeriodEnd(e.period)):(0,_dom.span)(".fade-in-fast",e.inProgress?"In progress":"Final"):renderPeriodNumber(e.period)}function renderPeriodEnd(e){return"End of ".concat(renderPeriodNumber(e))}function renderPeriodNumber(e){switch(e){case _constants.PERIOD_OVERTIME:case 4:case"4":return"OT";case _constants.PERIOD_SHOOTOUT:return"SO";case 1:case"1":return"1st";case 2:case"2":return"2nd";case 3:case"3":return"3rd";default:return"".concat(e-3,"OT")}}function renderTime(e){if(isNaN(e.minute)&&isNaN(e.second))return"";var r=void 0!==e.tenthOfASecond;return(r?"":"".concat(e.minute,":"))+(e.second>=10||r?e.second:"0".concat(e.second))+(r?".".concat(e.tenthOfASecond):"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Clock,exports.renderPeriodNumber=renderPeriodNumber,exports.renderTime=renderTime;var _xstream=_interopRequireDefault(require("xstream")),_dom=require("@cycle/dom"),_gameEvents=_interopRequireDefault(require("../events/game-events")),_constants=require("../events/constants")},{"../events/constants":4,"../events/game-events":6,"@cycle/dom":26,xstream:96}],3:[function(require,module,exports){"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function renderGame(e,t,r,n){var a=t.status,o=t.startTime,s=t.teams,i=t.preGameStats,_=void 0===i?{}:i,d=t.currentStats,l=void 0===d?{}:d,c=t.errors,u=_lodash.default.last(r),m=r.filter(function(e){return e.team===s.away.abbreviation}),g=r.filter(function(e){return e.team===s.home.abbreviation}),f=u?u.period:null,p=[_constants.GAME_DISPLAY_PRE_GAME,_constants.GAME_DISPLAY_POST_GAME_IN_PROGRESS].includes(e),S=e===_constants.GAME_DISPLAY_POST_GAME_FINISHED,v=S,P=e!==_constants.GAME_DISPLAY_PRE_GAME,y=[_constants.GAME_DISPLAY_PRE_GAME,_constants.GAME_DISPLAY_IN_PROGRESS,_constants.GAME_DISPLAY_POST_GAME_IN_PROGRESS].includes(e),h=e===_constants.GAME_DISPLAY_PRE_GAME,A=p?_:S?l:{},E=getPlayoffSeriesWins(s,m,g,_.playoffSeries,v);return(0,_dom.div)(".game-container",[(0,_dom.div)(".game.expand--".concat(n),{class:_defineProperty({},"game--".concat(e),!0)},[renderScorePanel(s,m,g,f,h),renderInfoPanel(p,S,P,y,o,s,A,a,!!E,u),E?renderSeriesWins(E,_.playoffSeries.round,v):null,c?renderErrors(c):null])])}function getPlayoffSeriesWins(e,t,r,n,a){return n?a?getPlayoffSeriesWinsAfterGame(n.wins,e,t,r):n.wins:null}function getPlayoffSeriesWinsAfterGame(e,t,r,n){var a=r.length>n.length?_defineProperty({},t.away.abbreviation,e[t.away.abbreviation]+1):_defineProperty({},t.home.abbreviation,e[t.home.abbreviation]+1);return _lodash.default.merge({},e,a)}function renderScorePanel(e,t,r,n,a){var o=a?".team-panel__team-score--hidden":".fade-in",s=a?"":".fade-in";return(0,_dom.div)(".game__score-panel",[(0,_dom.div)(".team-panel.team-panel--away",[renderLogo(e.away.id,"away"),(0,_dom.span)(".team-panel__team-name",e.away.abbreviation),(0,_dom.span)(".team-panel__team-score".concat(o),[t.length])]),(0,_dom.div)(".team-panel__delimiter".concat(s),a?"at":renderDelimiter(n)),(0,_dom.div)(".team-panel.team-panel--home",[(0,_dom.span)(".team-panel__team-score".concat(o),[r.length]),(0,_dom.span)(".team-panel__team-name",e.home.abbreviation),renderLogo(e.home.id,"home")])])}function renderLogo(e,t){return(0,_dom.span)(".team-logo",[(0,_logos.renderTeamLogo)(e,"team-logo__image team-logo__image--".concat(t," team-logo__image--").concat(e))])}function renderDelimiter(e){return e===_constants.PERIOD_OVERTIME||e===_constants.PERIOD_SHOOTOUT||e>3?(0,_dom.span)(".team-panel__delimiter-period",e===_constants.PERIOD_SHOOTOUT?"SO":"OT"):""}function renderInfoPanel(e,t,r,n,a,o,s,i,_,d){var l=_?".game__info-panel--playoff":"";return(0,_dom.div)(".game__info-panel".concat(l),[r?renderLatestGoal(d):null,n?(0,_dom.div)(".game-description.fade-in",renderGameStatus(i,a)):null,e||t?renderGameStats(o,n||t,t,_,s):null])}function renderGameStats(e,t,r,n,a){var o=t?".fade-in":"",s=r?".game-stats--after-game":"";return(0,_dom.div)(".game-stats".concat(s).concat(o),[renderTeamStats(e,a.standings,"Div. rank",getDivisionRankRating,renderDivisionRank),renderTeamStats(e,a.standings,"NHL rank",getLeagueRankRating,renderLeagueRank),renderTeamStats(e,a.records,"Point-%",renderWinPercentage,renderWinPercentage),renderTeamStats(e,a.records,"Record",renderWinPercentage,renderRecord),renderTeamStats(e,a.streaks,"Streak",getStreakRating,renderStreak)])}function renderTeamStats(e,t,r,n,a){var o=getHighlightClassNames(".team-stats__value",e,t,n);return(0,_dom.div)(".team-stats",[(0,_dom.span)("".concat(".team-stats__value").concat(".team-stats__value","--away").concat(o.away),t?a(t[e.away.abbreviation]):""),(0,_dom.span)(".team-stats__label",t?r:""),(0,_dom.span)("".concat(".team-stats__value").concat(".team-stats__value","--home").concat(o.home),t?a(t[e.home.abbreviation]):"")])}function getHighlightClassNames(e,t,r,n){if(!r)return{away:"",home:""};var a=n(r[t.away.abbreviation]),o=n(r[t.home.abbreviation]);return a>o?{away:"".concat(e,"--highlight"),home:""}:o>a?{away:"",home:"".concat(e,"--highlight")}:{away:"",home:""}}function getPointPercentage(e){var t=e.wins,r=e.losses,n=e.ot,a=void 0===n?0:n;return(2*t+a)/(2*(t+r+a))}function getStreakRating(e){return e?e.count*getStreakMultiplier(e.type):0}function getStreakMultiplier(e){switch(e){case"WINS":return 1;case"LOSSES":return-1;default:return 0}}function getDivisionRankRating(e){var t=e.divisionRank;return-parseInt(t,10)}function getLeagueRankRating(e){var t=e.leagueRank;return-parseInt(t,10)}function renderWinPercentage(e){var t=getPointPercentage(e);if(isNaN(t))return"-";var r=t<1?1:0;return t.toFixed(3).slice(r)}function renderRecord(e){var t=e.wins,r=e.losses,n=e.ot;return void 0!==n?[t,delimiter,r,delimiter,n]:[t,delimiter,r]}function renderStreak(e){return e?"".concat(e.count," ").concat(renderStreakType(e)):"-"}function renderStreakType(e){switch(e.type){case"WINS":return"W";case"LOSSES":return"L";case"OT":return"OT L";default:return""}}function renderDivisionRank(e){return e.divisionRank||""}function renderLeagueRank(e){return e.leagueRank||""}function renderLatestGoal(e){return(0,_dom.div)(".latest-goal",[(0,_dom.div)(".latest-goal__time",e?renderLatestGoalTime(e):""),(0,_dom.div)(".latest-goal__scorer",e?renderLatestGoalScorer(e):""),(0,_dom.div)(".latest-goal__assists",e?renderLatestGoalAssists(e):"")])}function renderSeriesWins(e,t,r){var n=r?".fade-in":"";return(0,_dom.div)(".game__series-wins".concat(n),getSeriesWinsDescription(e,t))}function getSeriesWinsDescription(e,t){var r=_lodash.default.map(e,function(e,t){return{team:t,wins:e}}),n=_lodash.default.sortBy(r,"wins"),a=_lodash.default.last(n),o=_lodash.default.first(n);if(a.wins===o.wins)return["Series ",(0,_dom.span)(".series-wins__tied","tied")," ",(0,_dom.span)(".series-wins__tied-count",String(a.wins)),(0,_dom.span)(".series-wins__delimiter","–"),(0,_dom.span)(".series-wins__tied-count",String(o.wins))];var s=0===t?3:4;return[(0,_dom.span)(".series-wins__leading-team",a.team),a.wins===s?" wins ":" leads ",(0,_dom.span)(".series-wins__leading-count",String(a.wins)),(0,_dom.span)(".series-wins__delimiter","–"),(0,_dom.span)(".series-wins__trailing-count",String(o.wins))]}function renderErrors(e){return(0,_dom.div)(".game__errors",e.map(getErrorText))}function getErrorText(e){var t=e.error,r=e.details,n=void 0===r?{}:r;switch(t){case _constants.ERROR_MISSING_ALL_GOALS:return"Missing all goal data";case _constants.ERROR_SCORE_AND_GOAL_COUNT_MISMATCH:var a=n.goalCount,o=n.scoreCount,s=Math.abs(a-o),i=1===s?"":"s";return a<o?"Missing ".concat(s," goal").concat(i," from data"):"".concat(s," too many goals in data");default:return"Unknown error ".concat(t)}}function renderGameStatus(e,t){switch(e.state){case _constants.GAME_STATE_IN_PROGRESS:return renderCurrentProgress(e.progress);case _constants.GAME_STATE_NOT_STARTED:return"Starts ".concat(new Date(t)-new Date>0?(0,_timeago.format)(t):"soon");case _constants.GAME_STATE_POSTPONED:return"Postponed";default:return"Finished"}}function renderCurrentProgress(e){if(!e||!e.currentPeriodOrdinal)return"In progress";var t=renderCurrentProgressTime(e);return["".concat("In progress",":"),(0,_dom.span)(".game-description__value",t)]}function renderCurrentProgressTime(e){return"END"===e.currentPeriodTimeRemaining.pretty?"End of ".concat(e.currentPeriodOrdinal):e.currentPeriodOrdinal===_constants.PERIOD_SHOOTOUT?"In shootout":"".concat(e.currentPeriodOrdinal," ").concat(e.currentPeriodTimeRemaining.pretty)}function renderLatestGoalTime(e){var t=(0,_clock.renderPeriodNumber)(e.period),r=(0,_clock.renderTime)({minute:e.min,second:e.sec});return[(0,_dom.span)("".concat(t," ").concat(r)),(0,_dom.span)(".latest-goal__team",e.team),e.strength?(0,_dom.span)(".latest-goal__strength",e.strength):null,e.emptyNet?(0,_dom.span)(".latest-goal__empty-net","EN"):null]}function renderLatestGoalScorer(e){var t=e.scorer,r=t.player,n=t.seasonTotal,a=(0,_utils.truncatePlayerName)(r);return n?[(0,_dom.span)(".latest-goal__scorer","".concat(a," ")),(0,_dom.span)(".latest-goal__goal-count","(".concat(n,")"))]:(0,_dom.span)(".latest-goal__scorer",a)}function renderLatestGoalAssists(e){return e.assists?0===e.assists.length?(0,_dom.span)(".latest-goal__assists-label","Unassisted"):[(0,_dom.div)(".latest-goal__assists-label","Assists:")].concat(_toConsumableArray(e.assists.map(function(e){return(0,_dom.div)(".latest-goal__assist",[(0,_dom.span)(".latest-goal__assister","".concat((0,_utils.truncatePlayerName)(e.player)," ")),(0,_dom.span)(".latest-goal__assist-count","(".concat(e.seasonTotal,")"))])}))):""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=renderGame,exports.renderLatestGoalTime=renderLatestGoalTime,exports.renderLatestGoalScorer=renderLatestGoalScorer,exports.renderLatestGoalAssists=renderLatestGoalAssists,exports.delimiter=void 0;var _dom=require("@cycle/dom"),_lodash=function(e){return e&&e.__esModule?e:{default:e}}(require("lodash")),_timeago=require("timeago.js"),_constants=require("../events/constants"),_logos=require("../utils/logos"),_utils=require("../utils/utils"),_clock=require("./clock"),delimiter=(0,_dom.span)(".team-stats__delimiter",["-"]);exports.delimiter=delimiter},{"../events/constants":4,"../utils/logos":12,"../utils/utils":13,"./clock":2,"@cycle/dom":26,lodash:48,"timeago.js":82}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PLAYBACK_FINISHED=exports.PLAYBACK_IN_PROGRESS=exports.PERIOD_SHOOTOUT=exports.PERIOD_OVERTIME=exports.GAME_UPDATE_END=exports.GAME_UPDATE_GOAL=exports.GAME_UPDATE_START=exports.GAME_STATE_POSTPONED=exports.GAME_STATE_NOT_STARTED=exports.GAME_STATE_IN_PROGRESS=exports.GAME_STATE_FINISHED=exports.GAME_DISPLAY_POST_GAME_IN_PROGRESS=exports.GAME_DISPLAY_POST_GAME_FINISHED=exports.GAME_DISPLAY_IN_PROGRESS=exports.GAME_DISPLAY_PLAYBACK=exports.GAME_DISPLAY_PRE_GAME=exports.ERROR_SCORE_AND_GOAL_COUNT_MISMATCH=exports.ERROR_MISSING_ALL_GOALS=void 0;exports.ERROR_MISSING_ALL_GOALS="MISSING-ALL-GOALS";exports.ERROR_SCORE_AND_GOAL_COUNT_MISMATCH="SCORE-AND-GOAL-COUNT-MISMATCH";exports.GAME_DISPLAY_PRE_GAME="GAME_DISPLAY_PRE_GAME";exports.GAME_DISPLAY_PLAYBACK="GAME_DISPLAY_PLAYBACK";exports.GAME_DISPLAY_IN_PROGRESS="GAME_DISPLAY_IN_PROGRESS";exports.GAME_DISPLAY_POST_GAME_FINISHED="GAME_DISPLAY_POST_GAME_FINISHED";exports.GAME_DISPLAY_POST_GAME_IN_PROGRESS="GAME_DISPLAY_POST_GAME_IN_PROGRESS";exports.GAME_STATE_FINISHED="FINAL";exports.GAME_STATE_IN_PROGRESS="LIVE";exports.GAME_STATE_NOT_STARTED="PREVIEW";exports.GAME_STATE_POSTPONED="POSTPONED";exports.GAME_UPDATE_START="START";exports.GAME_UPDATE_GOAL="GOAL";exports.GAME_UPDATE_END="END";exports.PERIOD_OVERTIME="OT";exports.PERIOD_SHOOTOUT="SO";exports.PLAYBACK_IN_PROGRESS="PLAYBACK_IN_PROGRESS";exports.PLAYBACK_FINISHED="PLAYBACK_FINISHED"},{}],5:[function(require,module,exports){"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,s=!1,a=void 0;try{for(var o,_=t[Symbol.iterator]();!(n=(o=_.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){s=!0,a=t}finally{try{n||null==_.return||_.return()}finally{if(s)throw a}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function getGameDisplays$(t,e){var r=e.filter(function(t){return t.games.length>0}).map(function(t){return Array.from({length:t.games.length},function(){return _constants.GAME_DISPLAY_PRE_GAME})}),n=_xstream.default.combine(e,t).map(function(t){var e=_slicedToArray(t,2),r=e[0],n=e[1],s=n.end&&!n.period?_constants.PLAYBACK_FINISHED:_constants.PLAYBACK_IN_PROGRESS;return r.games.map(function(t){return(0,_utils.hasGameStarted)(t.status.state)?s===_constants.PLAYBACK_IN_PROGRESS&&(0,_utils.isGameInProgress)(t.status.state)&&(0,_utils.hasClockPassedCurrentProgress)(n,t.status)?_constants.GAME_DISPLAY_IN_PROGRESS:s===_constants.PLAYBACK_FINISHED?(0,_utils.hasGameFinished)(t.status.state)?_constants.GAME_DISPLAY_POST_GAME_FINISHED:_constants.GAME_DISPLAY_POST_GAME_IN_PROGRESS:_constants.GAME_DISPLAY_PLAYBACK:_constants.GAME_DISPLAY_PRE_GAME})});return _xstream.default.merge(r,n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getGameDisplays$;var _xstream=function(t){return t&&t.__esModule?t:{default:t}}(require("xstream")),_constants=require("./constants"),_utils=require("./utils")},{"./constants":4,"./utils":9,xstream:96}],6:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(r,!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function gameEvents(e){var t=getClockEndTime(e),r=getAllPeriodEvents(e,t,100),n=t.inProgress?_lodash.default.dropRight(r,1):r,o=n.map(function(e){return appendDelay(getPeriodEndElement(e.period),150)}),a=r.map(function(e){return e.events}),i=_lodash.default.chain().zip(a,o).flatten().filter(_lodash.default.identity).value();return _lodash.default.concat.apply(_lodash.default,[appendDelay(getGamesStartElement(),50)].concat(_toConsumableArray(i),[getGamesEndElement(t.inProgress)]))}function appendDelay(e,t){return[e].concat(_toConsumableArray(_lodash.default.times(t,_utils.getPauseElement)))}function getPeriodEndElement(e){return{period:e,end:!0}}function getGamesStartElement(){return{start:!0}}function getGamesEndElement(e){return e?{end:!0,inProgress:e}:{end:!0}}function getAllPeriodEvents(e,t,r){var n=getAllGoalsSorted(e);return getRegularPeriodClocks(t,n,r).concat(getOvertimeClock(t,n,r)).concat(getShootoutClock(t,n,r)).filter(_lodash.default.identity)}function getRegularPeriodClocks(e,t,r){var n=getPartialPeriodNumber(e),o=n?n-1:getLastFullPeriodNumber(e),a=_lodash.default.range(1,o+1).map(function(e){return{period:e,events:(0,_periodEvents.default)(e,20,null,t,r)}});if(n){var i={period:n,events:(0,_periodEvents.default)(n,20,e,t,r)};return a.concat(i)}return a}function getPartialPeriodNumber(e){return isNaN(e.period)||hasLastPeriodEnded(e)?null:e.period}function getLastFullPeriodNumber(e){return!isNaN(e.period)&&hasLastPeriodEnded(e)?e.period:3}function hasLastPeriodEnded(e){return void 0===e.minute}function getOvertimeClock(e,t,r){if(e.period!==_constants.PERIOD_SHOOTOUT&&e.period!==_constants.PERIOD_OVERTIME)return null;var n=e.period===_constants.PERIOD_OVERTIME?e:null;return{period:_constants.PERIOD_OVERTIME,events:(0,_periodEvents.default)(_constants.PERIOD_OVERTIME,5,n,t,r)}}function getShootoutClock(e,t,r){return e.period===_constants.PERIOD_SHOOTOUT?{period:_constants.PERIOD_SHOOTOUT,events:(0,_shootoutEvents.default)(t,r)}:null}function getClockEndTime(e){var t=e.map(getGameEndTime);return _lodash.default.chain(t).filter(_lodash.default.identity).sortBy([getPeriodIteratee,getMinuteIteratee,getSecondIteratee]).last().value()}function getPeriodIteratee(e){return(0,_utils.getPeriodOrdinal)(e.period)}function getMinuteIteratee(e){return getTimeValueIteratee(e.minute)}function getSecondIteratee(e){return getTimeValueIteratee(e.second)}function getTimeValueIteratee(e){return void 0===e?0:-e}function getGameEndTime(e){var t=!!e.preGameStats&&!!e.preGameStats.playoffSeries;return e.status&&"LIVE"===e.status.state?getGameEndTimeFromProgress(e.status.progress,t):getGameEndTimeFromGoals(e.goals)}function getGameEndTimeFromProgress(e,t){var r=e.currentPeriodTimeRemaining,n=r.min,o=r.sec,a=0===n&&0===o;return{period:!t&&_lodash.default.includes([_constants.PERIOD_OVERTIME,_constants.PERIOD_SHOOTOUT],e.currentPeriodOrdinal)?e.currentPeriodOrdinal:e.currentPeriod,minute:a?void 0:n,second:a?void 0:o,inProgress:!0}}function getGameEndTimeFromGoals(e){var t=_lodash.default.last(e);if(!t)return null;var r=t.period===_constants.PERIOD_OVERTIME||t.period>3,n=t.period===_constants.PERIOD_SHOOTOUT;return r?(0,_utils.elapsedTimeToRemainingTime)({period:t.period,minute:t.min,second:t.sec}):n?{period:_constants.PERIOD_SHOOTOUT}:{period:3}}function getAllGoalsSorted(e){return _lodash.default.chain(e.map(function(e,t){return _lodash.default.chain(e.goals).reject(function(t){return t.period===_constants.PERIOD_SHOOTOUT&&e.status&&!(0,_utils.hasGameFinished)(e.status.state)}).map(function(r){return _objectSpread({},r,{gameIndex:t,classModifier:r.team===e.teams.away.abbreviation?"away":"home"})}).value()})).flatten().sortBy(["period","min","sec"]).value()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=gameEvents,exports.getAllGoalsSorted=getAllGoalsSorted;var _lodash=_interopRequireDefault(require("lodash")),_constants=require("./constants"),_periodEvents=_interopRequireDefault(require("./period-events")),_shootoutEvents=_interopRequireDefault(require("./shootout-events")),_utils=require("./utils")},{"./constants":4,"./period-events":7,"./shootout-events":8,"./utils":9,lodash:48}],7:[function(require,module,exports){"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function periodEvents(e,t,n,a,r){var o=n?n.minute:-1,l=n?n.second:-1,u=generateSecondEvents(e,t,o,l);return createGoalEvents([{period:e,minute:t,second:0}].concat(3===e?_lodash.default.dropRightWhile(u,function(e){return 0===e.minute}):u,3===e&&o<1?generateTenthOfASecondEvents(e,o,l):[]),a,r)}function generateSecondEvents(e,t,n,a){return _lodash.default.flatten(minuteRange(t,n).map(function(t){return secondRange(t,n,a).map(function(n){return{period:e,minute:t,second:n}})}))}function generateTenthOfASecondEvents(e,t,n){return _lodash.default.flatten(secondRange(0,t,n).map(function(t){return _lodash.default.range(9,-1,-advanceClockStep).map(function(n){return{period:e,minute:0,second:t,tenthOfASecond:n}})}))}function minuteRange(e,t){return _lodash.default.range(e-1,Math.max(t-1,-1),-1)}function secondRange(e,t,n){var a=e===t?Math.max(n-advanceClockStep,-1):-1,r=_lodash.default.range(59,a,-advanceClockStep);return 0===e&&a<0&&0!==_lodash.default.last(r)?r.concat(0):r}function createGoalEvents(e,t,n){return _lodash.default.take(e).concat(_lodash.default.flatten(_lodash.default.zip(_lodash.default.dropRight(e),_lodash.default.drop(e)).map(function(e){var a=_slicedToArray(e,2),r=a[0],o=a[1],l=getGoalsScoredInTimeRange(r,o,t);return 0===l.length?[o]:_lodash.default.flatten(l.map(function(e){return(0,_utils.getGoalEvents)(o,e,n)}))})))}function getGoalsScoredInTimeRange(e,t,n){var a=_lodash.default.partial(_utils.hasGoalBeenScored,e),r=_lodash.default.partial(_utils.hasGoalBeenScored,t),o=_lodash.default.findLastIndex(n,a),l=_lodash.default.findLastIndex(n,r);return n.slice(o+1,l+1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=periodEvents;var _lodash=function(e){return e&&e.__esModule?e:{default:e}}(require("lodash")),_utils=require("./utils"),advanceClockStep=3},{"./utils":9,lodash:48}],8:[function(require,module,exports){"use strict";function shootoutEvents(t,e){var o=getShootoutGoalForEachGame(t);return _lodash.default.chain(o).map(function(t){return(0,_utils.getGoalEvents)({period:_constants.PERIOD_SHOOTOUT},t,e)}).flatten().value()}function getShootoutGoalForEachGame(t){return _lodash.default.chain(t).filter({period:_constants.PERIOD_SHOOTOUT}).groupBy("gameIndex").map(function(t){return _lodash.default.chain(t).groupBy("team").values().maxBy("length").last().value()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=shootoutEvents;var _lodash=function(t){return t&&t.__esModule?t:{default:t}}(require("lodash")),_constants=require("./constants"),_utils=require("./utils")},{"./constants":4,"./utils":9,lodash:48}],9:[function(require,module,exports){"use strict";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(t,!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}
function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}function _objectWithoutProperties(e,r){if(null==e)return{};var t,n,o=_objectWithoutPropertiesLoose(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}function remainingTimeToElapsedTime(e){var r=e.period,t=e.minute,n=e.second,o="OT"===r?5:20,i=60*(t||0)+(n||0),a=60*o-i,s=Math.floor(a/60);return{period:r,minute:s,second:a-60*s}}function elapsedTimeToRemainingTime(e){return remainingTimeToElapsedTime(e)}function hasGameFinished(e){return e===_constants.GAME_STATE_FINISHED}function hasGameStarted(e){return![_constants.GAME_STATE_NOT_STARTED,_constants.GAME_STATE_POSTPONED].includes(e)}function isGameInProgress(e){return e===_constants.GAME_STATE_IN_PROGRESS}function hasGoalBeenScored(e,r){return hasElapsedTimePassed(e,{period:r.period,minute:r.min,second:r.sec})}function hasClockPassedCurrentProgress(e,r){if(!e)return!1;var t=parseProgressTimeRemaining(r.progress);return!!t&&hasElapsedTimePassed(e,remainingTimeToElapsedTime(t))}function hasElapsedTimePassed(e,r){var t=remainingTimeToElapsedTime(e),n=t.minute,o=t.second;return getPeriodOrdinal(r.period)<getPeriodOrdinal(e.period)||getPeriodOrdinal(r.period)===getPeriodOrdinal(e.period)&&(r.minute<n||r.minute===n&&r.second<=o)}function parseProgressTimeRemaining(e){if(!e)return null;var r=e.currentPeriodTimeRemaining,t=r.min,n=r.sec;return{period:e.currentPeriod,minute:t,second:n}}function getPeriodOrdinal(e){switch(e){case _constants.PERIOD_SHOOTOUT:return 5;case _constants.PERIOD_OVERTIME:return 4;default:return Number(e)}}function getGoalEvents(e,r,t){var n=r.classModifier,o=r.gameIndex,i=_objectWithoutProperties(r,["classModifier","gameIndex"]);return[_objectSpread({},e,{update:{gameIndex:o,type:_constants.GAME_UPDATE_START}}),_objectSpread({},e,{update:{gameIndex:o,classModifier:n,goal:i,type:_constants.GAME_UPDATE_GOAL}})].concat(_toConsumableArray(_lodash.default.times(t,getPauseElement)),[_objectSpread({},e,{update:{gameIndex:o,type:_constants.GAME_UPDATE_END}})])}function getPauseElement(){return{pause:!0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.remainingTimeToElapsedTime=remainingTimeToElapsedTime,exports.elapsedTimeToRemainingTime=elapsedTimeToRemainingTime,exports.hasGameFinished=hasGameFinished,exports.hasGameStarted=hasGameStarted,exports.isGameInProgress=isGameInProgress,exports.hasGoalBeenScored=hasGoalBeenScored,exports.hasClockPassedCurrentProgress=hasClockPassedCurrentProgress,exports.getPeriodOrdinal=getPeriodOrdinal,exports.getGoalEvents=getGoalEvents,exports.getPauseElement=getPauseElement;var _lodash=function(e){return e&&e.__esModule?e:{default:e}}(require("lodash")),_constants=require("./constants")},{"./constants":4,lodash:48}],10:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _run=require("@cycle/run"),_dom=require("@cycle/dom"),_http=require("@cycle/http"),_app=_interopRequireDefault(require("./components/app")),_animations=_interopRequireDefault(require("./utils/animations"));(0,require("./utils/logos").fetchTeamLogoSVGSymbols)(),(0,_run.run)((0,_app.default)(_animations.default),{DOM:(0,_dom.makeDOMDriver)("#app"),HTTP:(0,_http.makeHTTPDriver)()})},{"./components/app":1,"./utils/animations":11,"./utils/logos":12,"@cycle/dom":26,"@cycle/http":35,"@cycle/run":39}],11:[function(require,module,exports){"use strict";function clearGameInFocus(t){t.style.transform=null,t.classList.remove(gameInFocusClass),setTimeout(function(){t.classList.contains(gameInFocusClass)||t.classList.remove(gameInFrontClass)},250)}function setGameInFocus(t,e,a){var o=t.getBoundingClientRect(),n=o.left,l=o.right,i=o.top,s=o.bottom,c=e/2,g=a/2,h=(n+l)/2,r=(i+s)/2,u=c-h,m=g-r;t.style.transform="translate(".concat(u,"px, ").concat(m,"px) scale(").concat(1.2,")"),t.classList.add(gameInFrontClass),t.classList.add(gameInFocusClass)}function highlightGame(t){setGameInFocus(document.querySelectorAll(".game")[t],window.innerWidth,window.innerHeight)}function stopGameHighlight(t){clearGameInFocus(document.querySelectorAll(".game")[t])}function highlightGoal(t,e){highlightGoalCountChange(t,e),highlightLatestGoalChange(e)}function highlightGoalCountChange(t,e){var a=document.querySelectorAll(".team-panel--".concat(t," > .team-panel__team-score"))[e];a&&a.animate([{color:"black"},{color:"#fac02d"}],1e3)}function highlightLatestGoalChange(t){var e=document.querySelectorAll(".game__info-panel")[t];e&&e.animate([{opacity:0},{opacity:1}],750)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var gameInFocusClass="in-focus",gameInFrontClass="in-front",_default={highlightGame:highlightGame,highlightGoal:highlightGoal,stopGameHighlight:stopGameHighlight};exports.default=_default},{}],12:[function(require,module,exports){"use strict";function fetchTeamLogoSVGSymbols(){var e=new XMLHttpRequest;e.open("GET","https://www-league.nhlstatic.com/images/logos/team-sprites/20192020.svg",!0),e.send(),e.onload=function(){var o=document.createElement("div");o.style.display="none",o.innerHTML=e.responseText,document.body.insertBefore(o,document.body.childNodes[0])}}function renderTeamLogo(e,o){return(0,_dom.svg)({attrs:{class:o}},[_dom.svg.use({attrs:{href:"#team-".concat(e,"-20192020-dark")}})])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchTeamLogoSVGSymbols=fetchTeamLogoSVGSymbols,exports.renderTeamLogo=renderTeamLogo;var _dom=require("@cycle/dom")},{"@cycle/dom":26}],13:[function(require,module,exports){"use strict";function truncatePlayerName(e){if(e.length<=20)return e;var t=e.split(" "),n=_lodash.default.dropRight(t);return"".concat(_lodash.default.flatten(n.map(function(e){return e.split("-").map(function(e){return"".concat(e[0],".")})})).join("")," ").concat(_lodash.default.last(t))}function getGameAnimationIndexes(e){return _lodash.default.times(e,function(t){return t%2==0?t/2:Math.floor((e-t)/2)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.truncatePlayerName=truncatePlayerName,exports.getGameAnimationIndexes=getGameAnimationIndexes;var _lodash=function(e){return e&&e.__esModule?e:{default:e}}(require("lodash"))},{lodash:48}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt"),fromEvent_1=require("./fromEvent"),BodyDOMSource=function(){function e(e){this._name=e}return e.prototype.select=function(e){return this},e.prototype.elements=function(){var e=adapt_1.adapt(xstream_1.default.of([document.body]));return e._isCycleSource=this._name,e},e.prototype.element=function(){var e=adapt_1.adapt(xstream_1.default.of(document.body));return e._isCycleSource=this._name,e},e.prototype.events=function(e,t,r){void 0===t&&(t={});var o;o=fromEvent_1.fromEvent(document.body,e,t.useCapture,t.preventDefault);var a=adapt_1.adapt(o);return a._isCycleSource=this._name,a},e}();exports.BodyDOMSource=BodyDOMSource},{"./fromEvent":24,"@cycle/run/lib/adapt":37,xstream:96}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt"),fromEvent_1=require("./fromEvent"),DocumentDOMSource=function(){function e(e){this._name=e}return e.prototype.select=function(e){return this},e.prototype.elements=function(){var e=adapt_1.adapt(xstream_1.default.of([document]));return e._isCycleSource=this._name,e},e.prototype.element=function(){var e=adapt_1.adapt(xstream_1.default.of(document));return e._isCycleSource=this._name,e},e.prototype.events=function(e,t,r){void 0===t&&(t={});var n;n=fromEvent_1.fromEvent(document,e,t.useCapture,t.preventDefault);var o=adapt_1.adapt(n);return o._isCycleSource=this._name,o},e}();exports.DocumentDOMSource=DocumentDOMSource},{"./fromEvent":24,"@cycle/run/lib/adapt":37,xstream:96}],16:[function(require,module,exports){"use strict";function toElArray(e){return Array.prototype.slice.call(e)}Object.defineProperty(exports,"__esModule",{value:!0});var ScopeChecker_1=require("./ScopeChecker"),utils_1=require("./utils"),ElementFinder=function(){function e(e,t){this.namespace=e,this.isolateModule=t}return e.prototype.call=function(){var e=this.namespace,t=utils_1.getSelectors(e),r=new ScopeChecker_1.ScopeChecker(e,this.isolateModule),o=this.isolateModule.getElement(e.filter(function(e){return"selector"!==e.type}));return void 0===o?[]:""===t?[o]:toElArray(o.querySelectorAll(t)).filter(r.isDirectlyInScope,r).concat(o.matches(t)?[o]:[])},e}();exports.ElementFinder=ElementFinder},{"./ScopeChecker":21,"./utils":32}],17:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),ScopeChecker_1=require("./ScopeChecker"),utils_1=require("./utils"),ElementFinder_1=require("./ElementFinder"),SymbolTree_1=require("./SymbolTree"),PriorityQueue_1=require("./PriorityQueue"),fromEvent_1=require("./fromEvent");exports.eventTypesThatDontBubble=["blur","canplay","canplaythrough","durationchange","emptied","ended","focus","load","loadeddata","loadedmetadata","mouseenter","mouseleave","pause","play","playing","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","unload","volumechange","waiting"];var EventDelegator=function(){function e(e,t){var n=this;this.rootElement$=e,this.isolateModule=t,this.virtualListeners=new SymbolTree_1.default(function(e){return e.scope}),this.nonBubblingListenersToAdd=new Set,this.virtualNonBubblingListener=[],this.isolateModule.setEventDelegator(this),this.domListeners=new Map,this.domListenersToAdd=new Map,this.nonBubblingListeners=new Map,e.addListener({next:function(e){n.origin!==e&&(n.origin=e,n.resetEventListeners(),n.domListenersToAdd.forEach(function(e,t){return n.setupDOMListener(t,e)}),n.domListenersToAdd.clear()),n.nonBubblingListenersToAdd.forEach(function(e){n.setupNonBubblingListener(e)})}})}return e.prototype.addEventListener=function(e,t,n,i){var r,s=xstream_1.default.never(),o=new ScopeChecker_1.ScopeChecker(t,this.isolateModule);if(void 0===i?-1===exports.eventTypesThatDontBubble.indexOf(e):i)return this.domListeners.has(e)||this.setupDOMListener(e,!!n.passive),r=this.insertListener(s,o,e,n),s;var a=[];this.nonBubblingListenersToAdd.forEach(function(e){return a.push(e)});for(var u=void 0,l=0,p=a.length;!u&&l<p;){var b=a[l];u=function(n){var i=(n[0],n[1]),r=n[2];return n[3],e===i&&utils_1.isEqualNamespace(r.namespace,t)}(b)?b:u,l++}var c,h=u;if(h){var d=h[0];c=d}else{var v=new ElementFinder_1.ElementFinder(t,this.isolateModule);r=this.insertListener(s,o,e,n),h=[s,e,v,r],c=s,this.nonBubblingListenersToAdd.add(h),this.setupNonBubblingListener(h)}var g=this,f=null;return xstream_1.default.create({start:function(e){f=c.subscribe(e)},stop:function(){var e=(h[0],h[1]),t=h[2];h[3],t.call().forEach(function(t){var n=t.subs;n&&n[e]&&(n[e].unsubscribe(),delete n[e])}),g.nonBubblingListenersToAdd.delete(h),f.unsubscribe()}})},e.prototype.removeElement=function(e,t){void 0!==t&&this.virtualListeners.delete(t);var n=[];this.nonBubblingListeners.forEach(function(t,i){if(t.has(e)){n.push([i,e]);var r=e.subs;r&&Object.keys(r).forEach(function(e){r[e].unsubscribe()})}});for(var i=0;i<n.length;i++){var r=this.nonBubblingListeners.get(n[i][0]);r&&(r.delete(n[i][1]),0===r.size?this.nonBubblingListeners.delete(n[i][0]):this.nonBubblingListeners.set(n[i][0],r))}},e.prototype.insertListener=function(e,t,n,i){var r=[],s=t._namespace,o=s.length;do{r.push(this.getVirtualListeners(n,s,!0,o)),o--}while(o>=0&&"total"!==s[o].type);for(var a=__assign({},i,{scopeChecker:t,subject:e,bubbles:!!i.bubbles,useCapture:!!i.useCapture,passive:!!i.passive}),u=0;u<r.length;u++)r[u].add(a,s.length);return a},e.prototype.getVirtualListeners=function(e,t,n,i){void 0===n&&(n=!1);var r=void 0!==i?i:t.length;if(!n)for(var s=r-1;s>=0;s--){if("total"===t[s].type){r=s+1;break}r=s}var o=this.virtualListeners.getDefault(t,function(){return new Map},r);return o.has(e)||o.set(e,new PriorityQueue_1.default),o.get(e)},e.prototype.setupDOMListener=function(e,t){var n=this;if(this.origin){var i=fromEvent_1.fromEvent(this.origin,e,!1,!1,t).subscribe({next:function(i){return n.onEvent(e,i,t)},error:function(){},complete:function(){}});this.domListeners.set(e,{sub:i,passive:t})}else this.domListenersToAdd.set(e,t)},e.prototype.setupNonBubblingListener=function(e){var t=(e[0],e[1]),n=e[2],i=e[3];if(this.origin){var r=n.call();if(r.length){var s=this;r.forEach(function(e){var n,r=e.subs;if(!r||!r[t]){var o=fromEvent_1.fromEvent(e,t,!1,!1,i.passive).subscribe({next:function(e){return s.onEvent(t,e,!!i.passive,!1)},error:function(){},complete:function(){}});s.nonBubblingListeners.has(t)||s.nonBubblingListeners.set(t,new Map);var a=s.nonBubblingListeners.get(t);if(!a)return;a.set(e,{sub:o,destination:i}),e.subs=__assign({},r,(n={},n[t]=o,n))}})}}},e.prototype.resetEventListeners=function(){for(var e=this.domListeners.entries(),t=e.next();!t.done;){var n=t.value,i=n[0],r=n[1],s=r.sub,o=r.passive;s.unsubscribe(),this.setupDOMListener(i,o),t=e.next()}},e.prototype.putNonBubblingListener=function(e,t,n,i){var r=this.nonBubblingListeners.get(e);if(r){var s=r.get(t);s&&s.destination.passive===i&&s.destination.useCapture===n&&(this.virtualNonBubblingListener[0]=s.destination)}},e.prototype.onEvent=function(e,t,n,i){void 0===i&&(i=!0);var r=this.patchEvent(t),s=this.isolateModule.getRootElement(t.target);if(i){var o=this.isolateModule.getNamespace(t.target);if(!o)return;var a=this.getVirtualListeners(e,o);this.bubble(e,t.target,s,r,a,o,o.length-1,!0,n),this.bubble(e,t.target,s,r,a,o,o.length-1,!1,n)}else this.putNonBubblingListener(e,t.target,!0,n),this.doBubbleStep(e,t.target,s,r,this.virtualNonBubblingListener,!0,n),this.putNonBubblingListener(e,t.target,!1,n),this.doBubbleStep(e,t.target,s,r,this.virtualNonBubblingListener,!1,n),t.stopPropagation()},e.prototype.bubble=function(e,t,n,i,r,s,o,a,u){a||i.propagationHasBeenStopped||this.doBubbleStep(e,t,n,i,r,a,u);var l=n,p=o;if(t===n){if(!(o>=0&&"sibling"===s[o].type))return;l=this.isolateModule.getElement(s,o),p--}t.parentNode&&l&&this.bubble(e,t.parentNode,l,i,r,s,p,a,u),a&&!i.propagationHasBeenStopped&&this.doBubbleStep(e,t,n,i,r,a,u)},e.prototype.doBubbleStep=function(e,t,n,i,r,s,o){n&&(this.mutateEventCurrentTarget(i,t),r.forEach(function(e){if(e.passive===o&&e.useCapture===s){var r=utils_1.getSelectors(e.scopeChecker.namespace);!i.propagationHasBeenStopped&&e.scopeChecker.isDirectlyInScope(t)&&(""!==r&&t.matches(r)||""===r&&t===n)&&(fromEvent_1.preventDefaultConditional(i,e.preventDefault),e.subject.shamefullySendNext(i))}}))},e.prototype.patchEvent=function(e){var t=e;t.propagationHasBeenStopped=!1;var n=t.stopPropagation;return t.stopPropagation=function(){n.call(this),this.propagationHasBeenStopped=!0},t},e.prototype.mutateEventCurrentTarget=function(e,t){try{Object.defineProperty(e,"currentTarget",{value:t,configurable:!0})}catch(e){console.log("please use event.ownerTarget")}e.ownerTarget=t},e}();exports.EventDelegator=EventDelegator},{"./ElementFinder":16,"./PriorityQueue":20,"./ScopeChecker":21,"./SymbolTree":22,"./fromEvent":24,"./utils":32,xstream:96}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("./utils"),SymbolTree_1=require("./SymbolTree"),IsolateModule=function(){function e(){this.namespaceTree=new SymbolTree_1.default(function(e){return e.scope}),this.namespaceByElement=new Map,this.vnodesBeingRemoved=[]}return e.prototype.setEventDelegator=function(e){this.eventDelegator=e},e.prototype.insertElement=function(e,t){this.namespaceByElement.set(t,e),this.namespaceTree.set(e,t)},e.prototype.removeElement=function(e){this.namespaceByElement.delete(e);var t=this.getNamespace(e);t&&this.namespaceTree.delete(t)},e.prototype.getElement=function(e,t){return this.namespaceTree.get(e,void 0,t)},e.prototype.getRootElement=function(e){if(this.namespaceByElement.has(e))return e;for(var t=e;!this.namespaceByElement.has(t);){if(!(t=t.parentNode))return;if("HTML"===t.tagName)throw new Error("No root element found, this should not happen at all")}return t},e.prototype.getNamespace=function(e){var t=this.getRootElement(e);if(t)return this.namespaceByElement.get(t)},e.prototype.createModule=function(){var e=this;return{create:function(t,n){var o=n.elm,r=n.data,a=void 0===r?{}:r,s=a.isolate;Array.isArray(s)&&e.insertElement(s,o)},update:function(t,n){var o=t.elm,r=t.data,a=void 0===r?{}:r,s=n.elm,i=n.data,l=void 0===i?{}:i,m=a.isolate,u=l.isolate;utils_1.isEqualNamespace(m,u)||Array.isArray(m)&&e.removeElement(o),Array.isArray(u)&&e.insertElement(u,s)},destroy:function(t){e.vnodesBeingRemoved.push(t)},remove:function(t,n){e.vnodesBeingRemoved.push(t),n()},post:function(){for(var t=e.vnodesBeingRemoved,n=t.length-1;n>=0;n--){var o=t[n],r=void 0!==o.data?o.data.isolation:void 0;void 0!==r&&e.removeElement(r),e.eventDelegator.removeElement(o.elm,r)}e.vnodesBeingRemoved=[]}}},e}();exports.IsolateModule=IsolateModule},{"./SymbolTree":22,"./utils":32}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var adapt_1=require("@cycle/run/lib/adapt"),DocumentDOMSource_1=require("./DocumentDOMSource"),BodyDOMSource_1=require("./BodyDOMSource"),ElementFinder_1=require("./ElementFinder"),isolate_1=require("./isolate"),MainDOMSource=function(){function e(t,n,r,o,i,a){void 0===r&&(r=[]),this._rootElement$=t,this._sanitation$=n,this._namespace=r,this._isolateModule=o,this._eventDelegator=i,this._name=a,this.isolateSource=function(t,n){return new e(t._rootElement$,t._sanitation$,t._namespace.concat(isolate_1.getScopeObj(n)),t._isolateModule,t._eventDelegator,t._name)},this.isolateSink=isolate_1.makeIsolateSink(this._namespace)}return e.prototype._elements=function(){if(0===this._namespace.length)return this._rootElement$.map(function(e){return[e]});var e=new ElementFinder_1.ElementFinder(this._namespace,this._isolateModule);return this._rootElement$.map(function(){return e.call()})},e.prototype.elements=function(){var e=adapt_1.adapt(this._elements().remember());return e._isCycleSource=this._name,e},e.prototype.element=function(){var e=adapt_1.adapt(this._elements().filter(function(e){return e.length>0}).map(function(e){return e[0]}).remember());return e._isCycleSource=this._name,e},Object.defineProperty(e.prototype,"namespace",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),e.prototype.select=function(t){if("string"!=typeof t)throw new Error("DOM driver's select() expects the argument to be a string as a CSS selector");if("document"===t)return new DocumentDOMSource_1.DocumentDOMSource(this._name);if("body"===t)return new BodyDOMSource_1.BodyDOMSource(this._name);var n=":root"===t?[]:this._namespace.concat({type:"selector",scope:t.trim()});return new e(this._rootElement$,this._sanitation$,n,this._isolateModule,this._eventDelegator,this._name)},e.prototype.events=function(e,t,n){if(void 0===t&&(t={}),"string"!=typeof e)throw new Error("DOM driver's events() expects argument to be a string representing the event type to listen for.");var r=this._eventDelegator.addEventListener(e,this._namespace,t,n),o=adapt_1.adapt(r);return o._isCycleSource=this._name,o},e.prototype.dispose=function(){this._sanitation$.shamefullySendNext(null)},e}();exports.MainDOMSource=MainDOMSource},{"./BodyDOMSource":14,"./DocumentDOMSource":15,"./ElementFinder":16,"./isolate":27,"@cycle/run/lib/adapt":37}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PriorityQueue=function(){function r(){this.arr=[],this.prios=[]}return r.prototype.add=function(r,t){for(var i=0;i<this.arr.length;i++)if(this.prios[i]<t)return this.arr.splice(i,0,r),void this.prios.splice(i,0,t);this.arr.push(r),this.prios.push(t)},r.prototype.forEach=function(r){for(var t=0;t<this.arr.length;t++)r(this.arr[t],t,this.arr)},r.prototype.delete=function(r){for(var t=0;t<this.arr.length;t++)if(this.arr[t]===r)return this.arr.splice(t,1),void this.prios.splice(t,1)},r}();exports.default=PriorityQueue},{}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("./utils"),ScopeChecker=function(){function e(e,t){this.namespace=e,this.isolateModule=t,this._namespace=e.filter(function(e){return"selector"!==e.type})}return e.prototype.isDirectlyInScope=function(e){var t=this.isolateModule.getNamespace(e);if(!t)return!1;if(this._namespace.length>t.length||!utils_1.isEqualNamespace(this._namespace,t.slice(0,this._namespace.length)))return!1;for(var r=this._namespace.length;r<t.length;r++)if("total"===t[r].type)return!1;return!0},e}();exports.ScopeChecker=ScopeChecker},{"./utils":32}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SymbolTree=function(){function e(e){this.mapper=e,this.tree=[void 0,{}]}return e.prototype.set=function(e,t,r){for(var o=this.tree,i=void 0!==r?r:e.length,n=0;n<i;n++){var p=this.mapper(e[n]),s=o[1][p];s||(s=[void 0,{}],o[1][p]=s),o=s}o[0]=t},e.prototype.getDefault=function(e,t,r){return this.get(e,t,r)},e.prototype.get=function(e,t,r){for(var o=this.tree,i=void 0!==r?r:e.length,n=0;n<i;n++){var p=this.mapper(e[n]),s=o[1][p];if(!s){if(!t)return;s=[void 0,{}],o[1][p]=s}o=s}return t&&!o[0]&&(o[0]=t()),o[0]},e.prototype.delete=function(e){for(var t=this.tree,r=0;r<e.length-1;r++){var o=t[1][this.mapper(e[r])];if(!o)return;t=o}delete t[1][this.mapper(e[e.length-1])]},e}();exports.default=SymbolTree},{}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=require("snabbdom/vnode"),h_1=require("snabbdom/h"),snabbdom_selector_1=require("snabbdom-selector"),utils_1=require("./utils"),VNodeWrapper=function(){function e(e){this.rootElement=e}return e.prototype.call=function(e){if(utils_1.isDocFrag(this.rootElement))return this.wrapDocFrag(null===e?[]:[e]);if(null===e)return this.wrap([]);var t=snabbdom_selector_1.selectorParser(e),r=t.tagName,o=t.id,a=snabbdom_selector_1.classNameFromVNode(e),s=e.data||{},i=s.props||{},n=i.id,p=void 0===n?o:n;return"string"==typeof p&&p.toUpperCase()===this.rootElement.id.toUpperCase()&&r.toUpperCase()===this.rootElement.tagName.toUpperCase()&&a.toUpperCase()===this.rootElement.className.toUpperCase()?e:this.wrap([e])},e.prototype.wrapDocFrag=function(e){return vnode_1.vnode("",{isolate:[]},e,void 0,this.rootElement)},e.prototype.wrap=function(e){var t=this.rootElement,r=t.tagName,o=t.id,a=t.className,s=o?"#"+o:"",i=a?"."+a.split(" ").join("."):"",n=h_1.h(""+r.toLowerCase()+s+i,{},e);return n.data=n.data||{},n.data.isolate=n.data.isolate||[],n},e}();exports.VNodeWrapper=VNodeWrapper},{"./utils":32,"snabbdom-selector":57,"snabbdom/h":61,"snabbdom/vnode":72}],24:[function(require,module,exports){"use strict";function fromEvent(e,t,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1);var i=null;return xstream_1.Stream.create({start:function(a){i=r?function(e){preventDefaultConditional(e,r),a.next(e)}:function(e){a.next(e)},e.addEventListener(t,i,{capture:n,passive:o})},stop:function(){e.removeEventListener(t,i,n),i=null}})}function matchObject(e,t){for(var n=Object.keys(e),r=n.length,o=0;o<r;o++){var i=n[o];if("object"==typeof e[i]&&"object"==typeof t[i]){if(!matchObject(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1}return!0}function preventDefaultConditional(e,t){if(t)if("boolean"==typeof t)e.preventDefault();else if(isPredicate(t))t(e)&&e.preventDefault();else{if("object"!=typeof t)throw new Error("preventDefault has to be either a boolean, predicate function or object");matchObject(t,e)&&e.preventDefault()}}function isPredicate(e){return"function"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream");exports.fromEvent=fromEvent,exports.preventDefaultConditional=preventDefaultConditional},{xstream:96}],25:[function(require,module,exports){"use strict";function isValidString(e){return"string"==typeof e&&e.length>0}function isSelector(e){return isValidString(e)&&("."===e[0]||"#"===e[0])}function createTagFunction(e){return function(t,a,r){var o=void 0!==t,i=void 0!==a,n=void 0!==r;return isSelector(t)?i&&n?h_1.h(e+t,a,r):i?h_1.h(e+t,a):h_1.h(e+t,{}):n?h_1.h(e+t,a,r):i?h_1.h(e,t,a):o?h_1.h(e,t):h_1.h(e,{})}}Object.defineProperty(exports,"__esModule",{value:!0});var h_1=require("snabbdom/h"),SVG_TAG_NAMES=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","colorProfile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotlight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missingGlyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],svg=createTagFunction("svg");SVG_TAG_NAMES.forEach(function(e){svg[e]=createTagFunction(e)});var TAG_NAMES=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","video"],exported={SVG_TAG_NAMES:SVG_TAG_NAMES,TAG_NAMES:TAG_NAMES,svg:svg,isSelector:isSelector,createTagFunction:createTagFunction};TAG_NAMES.forEach(function(e){exported[e]=createTagFunction(e)}),exports.default=exported},{"snabbdom/h":61}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var thunk_1=require("./thunk");exports.thunk=thunk_1.thunk;var MainDOMSource_1=require("./MainDOMSource");exports.MainDOMSource=MainDOMSource_1.MainDOMSource;var makeDOMDriver_1=require("./makeDOMDriver");exports.makeDOMDriver=makeDOMDriver_1.makeDOMDriver;var mockDOMSource_1=require("./mockDOMSource");exports.mockDOMSource=mockDOMSource_1.mockDOMSource,exports.MockedDOMSource=mockDOMSource_1.MockedDOMSource;var h_1=require("snabbdom/h");exports.h=h_1.h;var hyperscript_helpers_1=require("./hyperscript-helpers");exports.svg=hyperscript_helpers_1.default.svg,exports.a=hyperscript_helpers_1.default.a,exports.abbr=hyperscript_helpers_1.default.abbr,exports.address=hyperscript_helpers_1.default.address,exports.area=hyperscript_helpers_1.default.area,exports.article=hyperscript_helpers_1.default.article,exports.aside=hyperscript_helpers_1.default.aside,exports.audio=hyperscript_helpers_1.default.audio,exports.b=hyperscript_helpers_1.default.b,exports.base=hyperscript_helpers_1.default.base,exports.bdi=hyperscript_helpers_1.default.bdi,exports.bdo=hyperscript_helpers_1.default.bdo,exports.blockquote=hyperscript_helpers_1.default.blockquote,exports.body=hyperscript_helpers_1.default.body,exports.br=hyperscript_helpers_1.default.br,exports.button=hyperscript_helpers_1.default.button,exports.canvas=hyperscript_helpers_1.default.canvas,exports.caption=hyperscript_helpers_1.default.caption,exports.cite=hyperscript_helpers_1.default.cite,exports.code=hyperscript_helpers_1.default.code,exports.col=hyperscript_helpers_1.default.col,exports.colgroup=hyperscript_helpers_1.default.colgroup,exports.dd=hyperscript_helpers_1.default.dd,exports.del=hyperscript_helpers_1.default.del,exports.dfn=hyperscript_helpers_1.default.dfn,exports.dir=hyperscript_helpers_1.default.dir,exports.div=hyperscript_helpers_1.default.div,exports.dl=hyperscript_helpers_1.default.dl,exports.dt=hyperscript_helpers_1.default.dt,exports.em=hyperscript_helpers_1.default.em,exports.embed=hyperscript_helpers_1.default.embed,exports.fieldset=hyperscript_helpers_1.default.fieldset,exports.figcaption=hyperscript_helpers_1.default.figcaption,exports.figure=hyperscript_helpers_1.default.figure,exports.footer=hyperscript_helpers_1.default.footer,exports.form=hyperscript_helpers_1.default.form,exports.h1=hyperscript_helpers_1.default.h1,exports.h2=hyperscript_helpers_1.default.h2,exports.h3=hyperscript_helpers_1.default.h3,exports.h4=hyperscript_helpers_1.default.h4,exports.h5=hyperscript_helpers_1.default.h5,exports.h6=hyperscript_helpers_1.default.h6,exports.head=hyperscript_helpers_1.default.head,exports.header=hyperscript_helpers_1.default.header,exports.hgroup=hyperscript_helpers_1.default.hgroup,exports.hr=hyperscript_helpers_1.default.hr,exports.html=hyperscript_helpers_1.default.html,exports.i=hyperscript_helpers_1.default.i,exports.iframe=hyperscript_helpers_1.default.iframe,exports.img=hyperscript_helpers_1.default.img,exports.input=hyperscript_helpers_1.default.input,exports.ins=hyperscript_helpers_1.default.ins,exports.kbd=hyperscript_helpers_1.default.kbd,exports.keygen=hyperscript_helpers_1.default.keygen,exports.label=hyperscript_helpers_1.default.label,exports.legend=hyperscript_helpers_1.default.legend,exports.li=hyperscript_helpers_1.default.li,exports.link=hyperscript_helpers_1.default.link,exports.main=hyperscript_helpers_1.default.main,exports.map=hyperscript_helpers_1.default.map,exports.mark=hyperscript_helpers_1.default.mark,exports.menu=hyperscript_helpers_1.default.menu,exports.meta=hyperscript_helpers_1.default.meta,exports.nav=hyperscript_helpers_1.default.nav,exports.noscript=hyperscript_helpers_1.default.noscript,exports.object=hyperscript_helpers_1.default.object,exports.ol=hyperscript_helpers_1.default.ol,exports.optgroup=hyperscript_helpers_1.default.optgroup,exports.option=hyperscript_helpers_1.default.option,exports.p=hyperscript_helpers_1.default.p,exports.param=hyperscript_helpers_1.default.param,exports.pre=hyperscript_helpers_1.default.pre,exports.progress=hyperscript_helpers_1.default.progress,exports.q=hyperscript_helpers_1.default.q,exports.rp=hyperscript_helpers_1.default.rp,exports.rt=hyperscript_helpers_1.default.rt,exports.ruby=hyperscript_helpers_1.default.ruby,exports.s=hyperscript_helpers_1.default.s,exports.samp=hyperscript_helpers_1.default.samp,exports.script=hyperscript_helpers_1.default.script,exports.section=hyperscript_helpers_1.default.section,exports.select=hyperscript_helpers_1.default.select,exports.small=hyperscript_helpers_1.default.small,
exports.source=hyperscript_helpers_1.default.source,exports.span=hyperscript_helpers_1.default.span,exports.strong=hyperscript_helpers_1.default.strong,exports.style=hyperscript_helpers_1.default.style,exports.sub=hyperscript_helpers_1.default.sub,exports.sup=hyperscript_helpers_1.default.sup,exports.table=hyperscript_helpers_1.default.table,exports.tbody=hyperscript_helpers_1.default.tbody,exports.td=hyperscript_helpers_1.default.td,exports.textarea=hyperscript_helpers_1.default.textarea,exports.tfoot=hyperscript_helpers_1.default.tfoot,exports.th=hyperscript_helpers_1.default.th,exports.thead=hyperscript_helpers_1.default.thead,exports.title=hyperscript_helpers_1.default.title,exports.tr=hyperscript_helpers_1.default.tr,exports.u=hyperscript_helpers_1.default.u,exports.ul=hyperscript_helpers_1.default.ul,exports.video=hyperscript_helpers_1.default.video},{"./MainDOMSource":19,"./hyperscript-helpers":25,"./makeDOMDriver":28,"./mockDOMSource":29,"./thunk":31,"snabbdom/h":61}],27:[function(require,module,exports){"use strict";function makeIsolateSink(t){return function(e,a){return":root"===a?e:e.map(function(e){if(!e)return e;var s=getScopeObj(a),i=__assign({},e,{data:__assign({},e.data,{isolate:e.data&&Array.isArray(e.data.isolate)?e.data.isolate:t.concat([s])})});return __assign({},i,{key:void 0!==i.key?i.key:JSON.stringify(i.data.isolate)})})}}function getScopeObj(t){return{type:utils_1.isClassOrId(t)?"sibling":"total",scope:t}}var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++){e=arguments[a];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("./utils");exports.makeIsolateSink=makeIsolateSink,exports.getScopeObj=getScopeObj},{"./utils":32}],28:[function(require,module,exports){"use strict";function makeDOMDriverInputGuard(e){if(!Array.isArray(e))throw new Error("Optional modules option must be an array for snabbdom modules")}function domDriverInputGuard(e){if(!e||"function"!=typeof e.addListener||"function"!=typeof e.fold)throw new Error("The DOM driver function expects as input a Stream of virtual DOM elements")}function dropCompletion(e){return xstream_1.default.merge(e,xstream_1.default.never())}function unwrapElementFromVNode(e){return e.elm}function defaultReportSnabbdomError(e){(console.error||console.log)(e)}function makeDOMReady$(){return xstream_1.default.create({start:function(e){"loading"===document.readyState?document.addEventListener("readystatechange",function(){var r=document.readyState;"interactive"!==r&&"complete"!==r||(e.next(null),e.complete())}):(e.next(null),e.complete())},stop:function(){}})}function addRootScope(e){return e.data=e.data||{},e.data.isolate=[],e}function makeDOMDriver(e,r){function t(t,o){void 0===o&&(o="DOM"),domDriverInputGuard(t);var m=xstream_1.default.create(),c=i.map(function(){var r=utils_1.getValidNode(e)||document.body;return a=new VNodeWrapper_1.VNodeWrapper(r),r}),s=t.remember();s.addListener({}),l.addListener({});var p=c.map(function(e){return xstream_1.default.merge(s.endWhen(m),m).map(function(e){return a.call(e)}).startWith(addRootScope(tovnode_1.toVNode(e))).fold(d,tovnode_1.toVNode(e)).drop(1).map(unwrapElementFromVNode).startWith(e).map(function(e){return n.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),e}).compose(dropCompletion)}).flatten(),f=concat_1.default(i,l).endWhen(m).compose(sampleCombine_1.default(p)).map(function(e){return e[1]}).remember();f.addListener({error:r.reportSnabbdomError||defaultReportSnabbdomError});var v=new EventDelegator_1.EventDelegator(f,u);return new MainDOMSource_1.MainDOMSource(f,m,[],u,v,o)}void 0===r&&(r={}),utils_1.checkValidContainer(e);var o=r.modules||modules_1.default;makeDOMDriverInputGuard(o);var a,n,u=new IsolateModule_1.IsolateModule,d=snabbdom_1.init([u.createModule()].concat(o)),i=makeDOMReady$(),l=xstream_1.default.create({start:function(e){n=new MutationObserver(function(){return e.next(null)})},stop:function(){n.disconnect()}});return t}Object.defineProperty(exports,"__esModule",{value:!0});var snabbdom_1=require("snabbdom"),xstream_1=require("xstream"),concat_1=require("xstream/extra/concat"),sampleCombine_1=require("xstream/extra/sampleCombine"),MainDOMSource_1=require("./MainDOMSource"),tovnode_1=require("snabbdom/tovnode"),VNodeWrapper_1=require("./VNodeWrapper"),utils_1=require("./utils"),modules_1=require("./modules"),IsolateModule_1=require("./IsolateModule"),EventDelegator_1=require("./EventDelegator");exports.makeDOMDriver=makeDOMDriver},{"./EventDelegator":17,"./IsolateModule":18,"./MainDOMSource":19,"./VNodeWrapper":23,"./modules":30,"./utils":32,snabbdom:69,"snabbdom/tovnode":71,xstream:96,"xstream/extra/concat":94,"xstream/extra/sampleCombine":95}],29:[function(require,module,exports){"use strict";function mockDOMSource(e){return new MockedDOMSource(e)}Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt"),MockedDOMSource=function(){function e(e){this._mockConfig=e,e.elements?this._elements=e.elements:this._elements=adapt_1.adapt(xstream_1.default.empty())}return e.prototype.elements=function(){var e=this._elements;return e._isCycleSource="MockedDOM",e},e.prototype.element=function(){var e=this.elements().filter(function(e){return e.length>0}).map(function(e){return e[0]}).remember(),t=adapt_1.adapt(e);return t._isCycleSource="MockedDOM",t},e.prototype.events=function(e,t,r){var o=this._mockConfig[e],n=adapt_1.adapt(o||xstream_1.default.empty());return n._isCycleSource="MockedDOM",n},e.prototype.select=function(t){return new e(this._mockConfig[t]||{})},e.prototype.isolateSource=function(e,t){return e.select(".___"+t)},e.prototype.isolateSink=function(e,t){return adapt_1.adapt(xstream_1.default.fromObservable(e).map(function(e){return e.sel&&-1!==e.sel.indexOf("___"+t)?e:(e.sel+=".___"+t,e)}))},e}();exports.MockedDOMSource=MockedDOMSource,exports.mockDOMSource=mockDOMSource},{"@cycle/run/lib/adapt":37,xstream:96}],30:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var class_1=require("snabbdom/modules/class");exports.ClassModule=class_1.default;var props_1=require("snabbdom/modules/props");exports.PropsModule=props_1.default;var attributes_1=require("snabbdom/modules/attributes");exports.AttrsModule=attributes_1.default;var style_1=require("snabbdom/modules/style");exports.StyleModule=style_1.default;var dataset_1=require("snabbdom/modules/dataset");exports.DatasetModule=dataset_1.default;var modules=[style_1.default,class_1.default,props_1.default,attributes_1.default,dataset_1.default];exports.default=modules},{"snabbdom/modules/attributes":64,"snabbdom/modules/class":65,"snabbdom/modules/dataset":66,"snabbdom/modules/props":67,"snabbdom/modules/style":68}],31:[function(require,module,exports){"use strict";function copyToThunk(t,a){a.elm=t.elm,t.data.fn=a.data.fn,t.data.args=a.data.args,t.data.isolate=a.data.isolate,a.data=t.data,a.children=t.children,a.text=t.text,a.elm=t.elm}function init(t){var a=t.data;copyToThunk(a.fn.apply(void 0,a.args),t)}function prepatch(t,a){var n,e=t.data,o=a.data,r=e.args,i=o.args;for(e.fn===o.fn&&r.length===i.length||copyToThunk(o.fn.apply(void 0,i),a),n=0;n<i.length;++n)if(r[n]!==i[n])return void copyToThunk(o.fn.apply(void 0,i),a);copyToThunk(t,a)}function thunk(t,a,n,e){return void 0===e&&(e=n,n=a,a=void 0),h_1.h(t,{key:a,hook:{init:init,prepatch:prepatch},fn:n,args:e})}Object.defineProperty(exports,"__esModule",{value:!0});var h_1=require("snabbdom/h");exports.thunk=thunk,exports.default=thunk},{"snabbdom/h":61}],32:[function(require,module,exports){"use strict";function isValidNode(e){return"object"==typeof HTMLElement?e instanceof HTMLElement||e instanceof DocumentFragment:e&&"object"==typeof e&&null!==e&&(1===e.nodeType||11===e.nodeType)&&"string"==typeof e.nodeName}function isClassOrId(e){return e.length>1&&("."===e[0]||"#"===e[0])}function isDocFrag(e){return 11===e.nodeType}function checkValidContainer(e){if("string"!=typeof e&&!isValidNode(e))throw new Error("Given container is not a DOM element neither a selector string.")}function getValidNode(e){var t="string"==typeof e?document.querySelector(e):e;if("string"==typeof e&&null===t)throw new Error("Cannot render into unknown element `"+e+"`");return t}function getSelectors(e){for(var t="",r=e.length-1;r>=0&&"selector"===e[r].type;r--)t=e[r].scope+" "+t;return t.trim()}function isEqualNamespace(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==t[r].type||e[r].scope!==t[r].scope)return!1;return!0}function makeInsert(e){return function(t,r,n){if(e.has(t)){var o=e.get(t);o.set(r,n)}else{var o=new Map;o.set(r,n),e.set(t,o)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isClassOrId=isClassOrId,exports.isDocFrag=isDocFrag,exports.checkValidContainer=checkValidContainer,exports.getValidNode=getValidNode,exports.getSelectors=getSelectors,exports.isEqualNamespace=isEqualNamespace,exports.makeInsert=makeInsert},{}],33:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var isolate_1=require("./isolate"),adapt_1=require("@cycle/run/lib/adapt"),MainHTTPSource=function(){function e(e,t,i){void 0===i&&(i=[]),this._res$$=e,this._name=t,this._namespace=i,this.isolateSource=isolate_1.isolateSource,this.isolateSink=isolate_1.isolateSink}return e.prototype.filter=function(t,i){return new e(this._res$$.filter(function(e){return t(e.request)}),this._name,void 0===i?this._namespace:this._namespace.concat(i))},e.prototype.select=function(e){var t=e?this._res$$.filter(function(t){return t.request&&t.request.category===e}):this._res$$,i=adapt_1.adapt(t);return i._isCycleSource=this._name,i},e}();exports.MainHTTPSource=MainHTTPSource},{"./isolate":36,"@cycle/run/lib/adapt":37}],34:[function(require,module,exports){"use strict";function preprocessReqOptions(e){return e.withCredentials=e.withCredentials||!1,e.redirects="number"==typeof e.redirects?e.redirects:5,e.method=e.method||"get",e}function optionsToSuperagent(e){var r=preprocessReqOptions(e);if("string"!=typeof r.url)throw new Error("Please provide a `url` property in the request options.");var t=(r.method||"GET").toLowerCase(),n="delete"===t?"del":t,o=superagent[n](r.url);if("function"==typeof o.redirects&&(o=o.redirects(r.redirects)),r.type&&(o=o.type(r.type)),r.send&&(o=o.send(r.send)),r.accept&&(o=o.accept(r.accept)),r.query&&(o=o.query(r.query)),r.withCredentials&&(o=o.withCredentials()),r.agent&&(o=o.key(r.agent.key),o=o.cert(r.agent.cert)),"string"==typeof r.user&&"string"==typeof r.password&&(o=o.auth(r.user,r.password)),r.headers)for(var s in r.headers)r.headers.hasOwnProperty(s)&&(o=o.set(s,r.headers[s]));if(r.field)for(var s in r.field)r.field.hasOwnProperty(s)&&(o=o.field(s,r.field[s]));if(r.attach)for(var a=r.attach.length-1;a>=0;a--){var i=r.attach[a];o=o.attach(i.name,i.path,i.filename)}return r.responseType&&(o=o.responseType(r.responseType)),r.ok&&(o=o.ok(r.ok)),o}function createResponse$(e){var r;return xstream_1.default.create({start:function(t){try{var n=normalizeRequestInput(e);r=optionsToSuperagent(n),n.progress&&(r=r.on("progress",function(e){e.request=n,t.next(e)})),r.end(function(e,r){e?(e.response&&(e.response.request=n),t.error(e)):(r.request=n,t.next(r),t.complete())})}catch(e){t.error(e)}},stop:function(){r&&r.abort&&(r.abort(),r=null)}})}function softNormalizeRequestInput(e){var r;try{r=normalizeRequestInput(e)}catch(e){r={url:"Error",_error:e}}return r}function normalizeRequestInput(e){if("string"==typeof e)return{url:e};if("object"==typeof e)return e;throw new Error("Observable of requests given to HTTP Driver must emit either URL strings or objects with parameters.")}function requestInputToResponse$(e){var r=createResponse$(e).remember(),t=softNormalizeRequestInput(e);return t.lazy||r.addListener({next:function(){},error:function(){},complete:function(){}}),r=adapt_1.adapt(r),Object.defineProperty(r,"request",{value:t,writable:!1}),r}function makeHTTPDriver(){function e(e,r){void 0===r&&(r="HTTP");var t=e.map(requestInputToResponse$),n=new MainHTTPSource_1.MainHTTPSource(t,r,[]);return t.addListener({next:function(){},error:function(){},complete:function(){}}),n}return e}Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt"),MainHTTPSource_1=require("./MainHTTPSource"),superagent=require("superagent");exports.optionsToSuperagent=optionsToSuperagent,exports.createResponse$=createResponse$,exports.makeHTTPDriver=makeHTTPDriver},{"./MainHTTPSource":33,"@cycle/run/lib/adapt":37,superagent:74,xstream:96}],35:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var http_driver_1=require("./http-driver");exports.makeHTTPDriver=http_driver_1.makeHTTPDriver},{"./http-driver":34}],36:[function(require,module,exports){"use strict";function arrayEqual(e,a){for(var r=0;r<a.length;r++)if(e[r]!==a[r])return!1;return!0}function isolateSource(e,a){return null===a?e:e.filter(function(r){return Array.isArray(r._namespace)&&arrayEqual(r._namespace,e._namespace.concat(a))},a)}function isolateSink(e,a){return null===a?e:adapt_1.adapt(xstream_1.default.fromObservable(e).map(function(e){return"string"==typeof e?{url:e,_namespace:[a]}:__assign({},e,{_namespace:[a].concat(e._namespace||[])})}))}var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var a,r=1,t=arguments.length;r<t;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),adapt_1=require("@cycle/run/lib/adapt");exports.isolateSource=isolateSource,exports.isolateSink=isolateSink},{"@cycle/run/lib/adapt":37,xstream:96}],37:[function(require,module,exports){(function(global){"use strict";function getGlobal(){var t;return t="undefined"!=typeof window?window:void 0!==global?global:this,t.Cyclejs=t.Cyclejs||{},t=t.Cyclejs,t.adaptStream=t.adaptStream||function(t){return t},t}function setAdapt(t){getGlobal().adaptStream=t}function adapt(t){return getGlobal().adaptStream(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAdapt=setAdapt,exports.adapt=adapt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(require,module,exports){arguments[4][37][0].apply(exports,arguments)},{dup:37}],39:[function(require,module,exports){"use strict";function setup(e,r){function n(){var e=t.run(s);return function(){e(),t.dispose()}}if("function"!=typeof e)throw new Error("First argument given to Cycle must be the 'main' function.");if("object"!=typeof r||null===r)throw new Error("Second argument given to Cycle must be an object with driver functions as properties.");if(internals_1.isObjectEmpty(r))throw new Error("Second argument given to Cycle must be an object with at least one driver function declared as a property.");var t=setupReusable(r),s=e(t.sources);return"undefined"!=typeof window&&(window.Cyclejs=window.Cyclejs||{},window.Cyclejs.sinks=s),{sinks:s,sources:t.sources,run:n}}function setupReusable(e){function r(e){return internals_1.replicateMany(e,t)}function n(){internals_1.disposeSources(o),internals_1.disposeSinkProxies(t)}if("object"!=typeof e||null===e)throw new Error("Argument given to setupReusable must be an object with driver functions as properties.");if(internals_1.isObjectEmpty(e))throw new Error("Argument given to setupReusable must be an object with at least one driver function declared as a property.");var t=internals_1.makeSinkProxies(e),s=internals_1.callDrivers(e,t),o=internals_1.adaptSources(s);return{sources:o,run:r,dispose:n}}function run(e,r){var n=setup(e,r);return"undefined"!=typeof window&&window.CyclejsDevTool_startGraphSerializer&&window.CyclejsDevTool_startGraphSerializer(n.sinks),n.run()}Object.defineProperty(exports,"__esModule",{value:!0});var internals_1=require("./internals");exports.setup=setup,exports.setupReusable=setupReusable,exports.run=run,exports.default=run},{"./internals":40}],40:[function(require,module,exports){"use strict";function makeSinkProxies(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(r[t]=xstream_1.default.create());return r}function callDrivers(e,r){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n](r[n],n),t[n]&&"object"==typeof t[n]&&(t[n]._isCycleSource=n));return t}function adaptSources(e){for(var r in e)e.hasOwnProperty(r)&&e[r]&&"function"==typeof e[r].shamefullySendNext&&(e[r]=adapt_1.adapt(e[r]));return e}function replicateMany(e,r){var t=quicktask_1.default(),n=Object.keys(e).filter(function(e){return!!r[e]}),o={},s={};n.forEach(function(e){o[e]={_n:[],_e:[]},s[e]={next:function(r){return o[e]._n.push(r)},error:function(r){return o[e]._e.push(r)},complete:function(){}}});var i=n.map(function(r){return xstream_1.default.fromObservable(e[r]).subscribe(s[r])});return n.forEach(function(e){var n=r[e],i=function(e){t(function(){return n._n(e)})},a=function(e){t(function(){(console.error||console.log)(e),n._e(e)})};o[e]._n.forEach(i),o[e]._e.forEach(a),s[e].next=i,s[e].error=a,s[e]._n=i,s[e]._e=a}),o=null,function(){i.forEach(function(e){return e.unsubscribe()})}}function disposeSinkProxies(e){Object.keys(e).forEach(function(r){return e[r]._c()})}function disposeSources(e){for(var r in e)e.hasOwnProperty(r)&&e[r]&&e[r].dispose&&e[r].dispose()}function isObjectEmpty(e){return 0===Object.keys(e).length}Object.defineProperty(exports,"__esModule",{value:!0});var xstream_1=require("xstream"),quicktask_1=require("quicktask"),adapt_1=require("./adapt");exports.makeSinkProxies=makeSinkProxies,exports.callDrivers=callDrivers,exports.adaptSources=adaptSources,exports.replicateMany=replicateMany,exports.disposeSinkProxies=disposeSinkProxies,exports.disposeSources=disposeSources,exports.isObjectEmpty=isObjectEmpty},{"./adapt":38,quicktask:53,xstream:96}],41:[function(require,module,exports){!function(){"use strict";function e(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)n.push(o);else if(Array.isArray(o)){if(o.length){var f=e.apply(null,o);f&&n.push(f)}}else if("object"===i)if(o.toString===Object.prototype.toString)for(var s in o)t.call(o,s)&&o[s]&&n.push(s);else n.push(o.toString())}}return n.join(" ")}var t={}.hasOwnProperty;void 0!==module&&module.exports?(e.default=e,module.exports=e):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return e}):window.classNames=e}()},{}],42:[function(require,module,exports){function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}void 0!==module&&(module.exports=Emitter),Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Emitter.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,s=0;s<i.length;s++)if((r=i[s])===e||r.fn===e){i.splice(s,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i){i=i.slice(0);for(var r=0,s=i.length;r<s;++r)i[r].apply(this,e)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],43:[function(require,module,exports){"use strict";var keys=require("object-keys"),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),toStr=Object.prototype.toString,concat=Array.prototype.concat,origDefineProperty=Object.defineProperty,isFunction=function(e){return"function"==typeof e&&"[object Function]"===toStr.call(e)},supportsDescriptors=origDefineProperty&&function(){var e={};try{origDefineProperty(e,"x",{enumerable:!1,value:e});for(var r in e)return!1;return e.x===e}catch(e){return!1}}(),defineProperty=function(e,r,t,o){(!(r in e)||isFunction(o)&&o())&&(supportsDescriptors?origDefineProperty(e,r,{configurable:!0,enumerable:!1,value:t,writable:!0}):e[r]=t)},defineProperties=function(e,r){var t=arguments.length>2?arguments[2]:{},o=keys(r);hasSymbols&&(o=concat.call(o,Object.getOwnPropertySymbols(r)));for(var n=0;n<o.length;n+=1)defineProperty(e,o[n],r[o[n]],t[o[n]])};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},{"object-keys":50}],44:[function(require,module,exports){"use strict";"undefined"!=typeof self?module.exports=self:"undefined"!=typeof window?module.exports=window:module.exports=Function("return this")()},{}],45:[function(require,module,exports){"use strict";var defineProperties=require("define-properties"),implementation=require("./implementation"),getPolyfill=require("./polyfill"),shim=require("./shim"),polyfill=getPolyfill(),getGlobal=function(){return polyfill};defineProperties(getGlobal,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=getGlobal},{"./implementation":44,"./polyfill":46,"./shim":47,"define-properties":43}],46:[function(require,module,exports){(function(global){"use strict";var implementation=require("./implementation");module.exports=function(){return"object"==typeof global&&global&&global.Math===Math&&global.Array===Array?global:implementation}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./implementation":44}],47:[function(require,module,exports){"use strict";var define=require("define-properties"),getPolyfill=require("./polyfill");module.exports=function(){var e=getPolyfill();if(define.supportsDescriptors){var l=Object.getOwnPropertyDescriptor(e,"globalThis");(!l||l.configurable&&(l.enumerable||l.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!1})}else"object"==typeof globalThis&&globalThis===e||(e.globalThis=e);return e}},{"./polyfill":46,"define-properties":43}],48:[function(require,module,exports){(function(global){(function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function e(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&y(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n){return n.split("")}function _(n){return n.match(Ut)||[]}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t===t?Z(n,t,r):g(n,b,r)}function d(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!==n}function w(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:Ln}function m(n){return function(t){return null==t?X:t[n]}}function x(n){return function(t){return null==n?X:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==X&&(r=r===X?i:r+i)}return r}function O(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function I(n,t){return c(t,function(t){return[t,n[t]]})}function R(n){return n?n.slice(0,H(n)+1).replace(Et,""):n}function z(n){return function(t){return n(t)}}function E(n,t){return c(t,function(t){return n[t]})}function S(n,t){return n.has(t)}function L(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function W(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function C(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}function U(n){return"\\"+jr[n]}function B(n,t){return null==n?X:n[t]}function T(n){return _r.test(n)}function D(n){return vr.test(n)}function $(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function M(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function F(n,t){return function(r){return n(t(r))}}function N(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==fn||(n[r]=fn,i[u++]=r)}return i}function P(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function q(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function Z(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function K(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function V(n){return T(n)?J(n):Mr(n)}function G(n){return T(n)?Y(n):p(n)}function H(n){for(var t=n.length;t--&&St.test(n.charAt(t)););return t}function J(n){for(var t=hr.lastIndex=0;hr.test(n);)++t;return t}function Y(n){return n.match(hr)||[]}function Q(n){return n.match(pr)||[]}var X,nn=200,tn="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",rn="Expected a function",en="Invalid `variable` option passed into `_.template`",un="__lodash_hash_undefined__",fn="__lodash_placeholder__",cn=1,an=2,ln=4,sn=1,hn=2,pn=1,_n=2,vn=4,gn=8,yn=16,dn=32,bn=64,wn=128,mn=256,xn=512,jn=30,An="...",kn=800,On=16,In=1,Rn=2,zn=1/0,En=9007199254740991,Sn=1.7976931348623157e308,Ln=NaN,Wn=4294967295,Cn=Wn-1,Un=Wn>>>1,Bn=[["ary",wn],["bind",pn],["bindKey",_n],["curry",gn],["curryRight",yn],["flip",xn],["partial",dn],["partialRight",bn],["rearg",mn]],Tn="[object Arguments]",Dn="[object Array]",$n="[object AsyncFunction]",Mn="[object Boolean]",Fn="[object Date]",Nn="[object DOMException]",Pn="[object Error]",qn="[object Function]",Zn="[object GeneratorFunction]",Kn="[object Map]",Vn="[object Number]",Gn="[object Null]",Hn="[object Object]",Jn="[object Proxy]",Yn="[object RegExp]",Qn="[object Set]",Xn="[object String]",nt="[object Symbol]",tt="[object Undefined]",rt="[object WeakMap]",et="[object WeakSet]",ut="[object ArrayBuffer]",it="[object DataView]",ot="[object Float32Array]",ft="[object Float64Array]",ct="[object Int8Array]",at="[object Int16Array]",lt="[object Int32Array]",st="[object Uint8Array]",ht="[object Uint8ClampedArray]",pt="[object Uint16Array]",_t="[object Uint32Array]",vt=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dt=/&(?:amp|lt|gt|quot|#39);/g,bt=/[&<>"']/g,wt=RegExp(dt.source),mt=RegExp(bt.source),xt=/<%-([\s\S]+?)%>/g,jt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/[\\^$.*+?()[\]{}|]/g,zt=RegExp(Rt.source),Et=/^\s+/,St=/\s/,Lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ct=/,? & /,Ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bt=/[()=,{}\[\]\/\s]/,Tt=/\\(\\)?/g,Dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$t=/\w*$/,Mt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Nt=/^\[object .+?Constructor\]$/,Pt=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Vt=/['\n\r\u2028\u2029\\]/g,Gt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jt="["+Ht+"]",Yt="["+Gt+"]",Qt="[a-z\\xdf-\\xf6\\xf8-\\xff]",nr="\\ud83c[\\udffb-\\udfff]",tr="(?:\\ud83c[\\udde6-\\uddff]){2}",rr="[\\ud800-\\udbff][\\udc00-\\udfff]",er="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ur="(?:"+Qt+"|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])",ir="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",or="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",tr,rr].join("|")+")[\\ufe0e\\ufe0f]?"+ir+")*",fr="[\\ufe0e\\ufe0f]?"+ir+or,cr="(?:"+["[\\u2700-\\u27bf]",tr,rr].join("|")+")"+fr,ar="(?:"+["[^\\ud800-\\udfff]"+Yt+"?",Yt,tr,rr,"[\\ud800-\\udfff]"].join("|")+")",lr=RegExp("['’]","g"),sr=RegExp(Yt,"g"),hr=RegExp(nr+"(?="+nr+")|"+ar+fr,"g"),pr=RegExp([er+"?"+Qt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Jt,er,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Jt,er+ur,"$"].join("|")+")",er+"?"+ur+"+(?:['’](?:d|ll|m|re|s|t|ve))?",er+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",cr].join("|"),"g"),_r=RegExp("[\\u200d\\ud800-\\udfff"+Gt+"\\ufe0e\\ufe0f]"),vr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yr=-1,dr={};dr[ot]=dr[ft]=dr[ct]=dr[at]=dr[lt]=dr[st]=dr[ht]=dr[pt]=dr[_t]=!0,dr[Tn]=dr[Dn]=dr[ut]=dr[Mn]=dr[it]=dr[Fn]=dr[Pn]=dr[qn]=dr[Kn]=dr[Vn]=dr[Hn]=dr[Yn]=dr[Qn]=dr[Xn]=dr[rt]=!1;var br={};br[Tn]=br[Dn]=br[ut]=br[it]=br[Mn]=br[Fn]=br[ot]=br[ft]=br[ct]=br[at]=br[lt]=br[Kn]=br[Vn]=br[Hn]=br[Yn]=br[Qn]=br[Xn]=br[nt]=br[st]=br[ht]=br[pt]=br[_t]=!0,br[Pn]=br[qn]=br[rt]=!1;var wr={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u",
"ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ar=parseFloat,kr=parseInt,Or="object"==typeof global&&global&&global.Object===Object&&global,Ir="object"==typeof self&&self&&self.Object===Object&&self,Rr=Or||Ir||Function("return this")(),zr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Er=zr&&"object"==typeof module&&module&&!module.nodeType&&module,Sr=Er&&Er.exports===zr,Lr=Sr&&Or.process,Wr=function(){try{return Er&&Er.require&&Er.require("util").types||Lr&&Lr.binding&&Lr.binding("util")}catch(n){}}(),Cr=Wr&&Wr.isArrayBuffer,Ur=Wr&&Wr.isDate,Br=Wr&&Wr.isMap,Tr=Wr&&Wr.isRegExp,Dr=Wr&&Wr.isSet,$r=Wr&&Wr.isTypedArray,Mr=m("length"),Fr=x(wr),Nr=x(mr),Pr=x(xr),qr=function p(x){function Z(n){if(uc(n)&&!vh(n)&&!(n instanceof St)){if(n instanceof Y)return n;if(vl.call(n,"__wrapped__"))return Xi(n)}return new Y(n)}function J(){}function Y(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=X}function St(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Wn,this.__views__=[]}function Ut(){var n=new St(this.__wrapped__);return n.__actions__=Cu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Cu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Cu(this.__views__),n}function Gt(){if(this.__filtered__){var n=new St(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Ht(){var n=this.__wrapped__.value(),t=this.__dir__,r=vh(n),e=t<0,u=r?n.length:0,i=ji(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Zl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return yu(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==Rn)g=w;else if(!w){if(b==In)continue n;break n}}_[h++]=g}return _}function Jt(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Yt(){this.__data__=ts?ts(null):{},this.size=0}function Qt(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function Xt(n){var t=this.__data__;if(ts){var r=t[n];return r===un?X:r}return vl.call(t,n)?t[n]:X}function nr(n){var t=this.__data__;return ts?t[n]!==X:vl.call(t,n)}function tr(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=ts&&t===X?un:t,this}function rr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function er(){this.__data__=[],this.size=0}function ur(n){var t=this.__data__,r=Hr(t,n);return!(r<0||(r==t.length-1?t.pop():zl.call(t,r,1),--this.size,0))}function ir(n){var t=this.__data__,r=Hr(t,n);return r<0?X:t[r][1]}function or(n){return Hr(this.__data__,n)>-1}function fr(n,t){var r=this.__data__,e=Hr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function cr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function ar(){this.size=0,this.__data__={hash:new Jt,map:new(Yl||rr),string:new Jt}}function hr(n){var t=bi(this,n).delete(n);return this.size-=t?1:0,t}function pr(n){return bi(this,n).get(n)}function _r(n){return bi(this,n).has(n)}function vr(n,t){var r=bi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function wr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new cr;++t<r;)this.add(n[t])}function mr(n){return this.__data__.set(n,un),this}function xr(n){return this.__data__.has(n)}function jr(n){var t=this.__data__=new rr(n);this.size=t.size}function Or(){this.__data__=new rr,this.size=0}function Ir(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function zr(n){return this.__data__.get(n)}function Er(n){return this.__data__.has(n)}function Lr(n,t){var r=this.__data__;if(r instanceof rr){var e=r.__data__;if(!Yl||e.length<nn-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new cr(e)}return r.set(n,t),this.size=r.size,this}function Wr(n,t){var r=vh(n),e=!r&&_h(n),u=!r&&!e&&yh(n),i=!r&&!e&&!u&&xh(n),o=r||e||u||i,f=o?O(n.length,cl):[],c=f.length;for(var a in n)!t&&!vl.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||Si(a,c))||f.push(a);return f}function Mr(n){var t=n.length;return t?n[Qe(0,t-1)]:X}function Zr(n,t){return Hi(Cu(n),te(t,0,n.length))}function Kr(n){return Hi(Cu(n))}function Vr(n,t,r){(r===X||qf(n[t],r))&&(r!==X||t in n)||Xr(n,t,r)}function Gr(n,t,r){var e=n[t];vl.call(n,t)&&qf(e,r)&&(r!==X||t in n)||Xr(n,t,r)}function Hr(n,t){for(var r=n.length;r--;)if(qf(n[r][0],t))return r;return-1}function Jr(n,t,r,e){return ps(n,function(n,u,i){t(e,n,r(n),i)}),e}function Yr(n,t){return n&&Uu(t,$c(t),n)}function Qr(n,t){return n&&Uu(t,Mc(t),n)}function Xr(n,t,r){"__proto__"==t&&Wl?Wl(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function ne(n,t){for(var r=-1,e=t.length,u=tl(e),i=null==n;++r<e;)u[r]=i?X:Bc(n,t[r]);return u}function te(n,t,r){return n===n&&(r!==X&&(n=n<=r?n:r),t!==X&&(n=n>=t?n:t)),n}function re(n,t,e,u,i,o){var f,c=t&cn,a=t&an,l=t&ln;if(e&&(f=i?e(n,u,i,o):e(n)),f!==X)return f;if(!ec(n))return n;var s=vh(n);if(s){if(f=Oi(n),!c)return Cu(n,f)}else{var h=ks(n),p=h==qn||h==Zn;if(yh(n))return Au(n,c);if(h==Hn||h==Tn||p&&!i){if(f=a||p?{}:Ii(n),!c)return a?Tu(n,Qr(f,n)):Bu(n,Yr(f,n))}else{if(!br[h])return i?n:{};f=Ri(n,h,c)}}o||(o=new jr);var _=o.get(n);if(_)return _;o.set(n,f),mh(n)?n.forEach(function(r){f.add(re(r,t,e,r,n,o))}):bh(n)&&n.forEach(function(r,u){f.set(u,re(r,t,e,u,n,o))});var v=l?a?vi:_i:a?Mc:$c,g=s?X:v(n);return r(g||n,function(r,u){g&&(u=r,r=n[u]),Gr(f,u,re(r,t,e,u,n,o))}),f}function ee(n){var t=$c(n);return function(r){return ue(r,n,t)}}function ue(n,t,r){var e=r.length;if(null==n)return!e;for(n=ol(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===X&&!(u in n)||!i(o))return!1}return!0}function ie(n,t,r){if("function"!=typeof n)throw new al(rn);return Rs(function(){n.apply(X,r)},t)}function oe(n,t,r,e){var u=-1,i=o,a=!0,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=c(t,z(r))),e?(i=f,a=!1):t.length>=nn&&(i=S,a=!1,t=new wr(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,a&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function fe(n,t){var r=!0;return ps(n,function(n,e,u){return r=!!t(n,e,u)}),r}function ce(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===X?o===o&&!vc(o):r(o,f)))var f=o,c=i}return c}function ae(n,t,r,e){var u=n.length;for(r=mc(r),r<0&&(r=-r>u?0:u+r),e=e===X||e>u?u:mc(e),e<0&&(e+=u),e=r>e?0:xc(e);r<e;)n[r++]=t;return n}function le(n,t){var r=[];return ps(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function se(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Ei),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?se(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function he(n,t){return n&&vs(n,t,$c)}function pe(n,t){return n&&gs(n,t,$c)}function _e(n,t){return i(t,function(t){return nc(n[t])})}function ve(n,t){t=xu(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[Ji(t[r++])];return r&&r==e?n:X}function ge(n,t,r){var e=t(n);return vh(n)?e:a(e,r(n))}function ye(n){return null==n?n===X?tt:Gn:Ll&&Ll in ol(n)?xi(n):Ni(n)}function de(n,t){return n>t}function be(n,t){return null!=n&&vl.call(n,t)}function we(n,t){return null!=n&&t in ol(n)}function me(n,t,r){return n>=Zl(t,r)&&n<ql(t,r)}function xe(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=tl(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,z(t))),s=Zl(p.length,s),l[a]=!r&&(t||u>=120&&p.length>=120)?new wr(a&&p):X}p=n[0];var _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?S(v,y):e(h,y,r))){for(a=i;--a;){var d=l[a];if(!(d?S(d,y):e(n[a],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function je(n,t,r,e){return he(n,function(n,u,i){t(e,r(n),u,i)}),e}function Ae(t,r,e){r=xu(r,t),t=qi(t,r);var u=null==t?t:t[Ji(bo(r))];return null==u?X:n(u,t,e)}function ke(n){return uc(n)&&ye(n)==Tn}function Oe(n){return uc(n)&&ye(n)==ut}function Ie(n){return uc(n)&&ye(n)==Fn}function Re(n,t,r,e,u){return n===t||(null==n||null==t||!uc(n)&&!uc(t)?n!==n&&t!==t:ze(n,t,r,e,Re,u))}function ze(n,t,r,e,u,i){var o=vh(n),f=vh(t),c=o?Dn:ks(n),a=f?Dn:ks(t);c=c==Tn?Hn:c,a=a==Tn?Hn:a;var l=c==Hn,s=a==Hn,h=c==a;if(h&&yh(n)){if(!yh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new jr),o||xh(n)?li(n,t,r,e,u,i):si(n,t,c,r,e,u,i);if(!(r&sn)){var p=l&&vl.call(n,"__wrapped__"),_=s&&vl.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new jr),u(v,g,r,e,i)}}return!!h&&(i||(i=new jr),hi(n,t,r,e,u,i))}function Ee(n){return uc(n)&&ks(n)==Kn}function Se(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ol(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===X&&!(c in n))return!1}else{var s=new jr;if(e)var h=e(a,l,c,n,t,s);if(!(h===X?Re(l,a,sn|hn,e,s):h))return!1}}return!0}function Le(n){return!(!ec(n)||Bi(n))&&(nc(n)?ml:Nt).test(Yi(n))}function We(n){return uc(n)&&ye(n)==Yn}function Ce(n){return uc(n)&&ks(n)==Qn}function Ue(n){return uc(n)&&rc(n.length)&&!!dr[ye(n)]}function Be(n){return"function"==typeof n?n:null==n?za:"object"==typeof n?vh(n)?Ne(n[0],n[1]):Fe(n):Ta(n)}function Te(n){if(!Ti(n))return Pl(n);var t=[];for(var r in ol(n))vl.call(n,r)&&"constructor"!=r&&t.push(r);return t}function De(n){if(!ec(n))return Fi(n);var t=Ti(n),r=[];for(var e in n)("constructor"!=e||!t&&vl.call(n,e))&&r.push(e);return r}function $e(n,t){return n<t}function Me(n,t){var r=-1,e=Zf(n)?tl(n.length):[];return ps(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function Fe(n){var t=wi(n);return 1==t.length&&t[0][2]?$i(t[0][0],t[0][1]):function(r){return r===n||Se(r,n,t)}}function Ne(n,t){return Wi(n)&&Di(t)?$i(Ji(n),t):function(r){var e=Bc(r,n);return e===X&&e===t?Dc(r,n):Re(t,e,sn|hn)}}function Pe(n,t,r,e,u){n!==t&&vs(t,function(i,o){if(u||(u=new jr),ec(i))qe(n,t,o,r,Pe,e,u);else{var f=e?e(Ki(n,o),i,o+"",n,t,u):X;f===X&&(f=i),Vr(n,o,f)}},Mc)}function qe(n,t,r,e,u,i,o){var f=Ki(n,r),c=Ki(t,r),a=o.get(c);if(a)return void Vr(n,r,a);var l=i?i(f,c,r+"",n,t,o):X,s=l===X;if(s){var h=vh(c),p=!h&&yh(c),_=!h&&!p&&xh(c);l=c,h||p||_?vh(f)?l=f:Kf(f)?l=Cu(f):p?(s=!1,l=Au(c,!0)):_?(s=!1,l=zu(c,!0)):l=[]:hc(c)||_h(c)?(l=f,_h(f)?l=Ac(f):ec(f)&&!nc(f)||(l=Ii(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Vr(n,r,l)}function Ze(n,t){var r=n.length;if(r)return t+=t<0?r:0,Si(t,r)?n[t]:X}function Ke(n,t,r){t=t.length?c(t,function(n){return vh(n)?function(t){return ve(t,1===n.length?n[0]:n)}:n}):[za];var e=-1;return t=c(t,z(di())),A(Me(n,function(n,r,u){return{criteria:c(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return Su(n,t,r)})}function Ve(n,t){return Ge(n,t,function(t,r){return Dc(n,r)})}function Ge(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=ve(n,o);r(f,o)&&uu(i,xu(o,n),f)}return i}function He(n){return function(t){return ve(t,n)}}function Je(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Cu(t)),r&&(f=c(n,z(r)));++i<o;)for(var a=0,l=t[i],s=r?r(l):l;(a=u(f,s,a,e))>-1;)f!==n&&zl.call(f,a,1),zl.call(n,a,1);return n}function Ye(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;Si(u)?zl.call(n,u,1):_u(n,u)}}return n}function Qe(n,t){return n+Dl(Gl()*(t-n+1))}function Xe(n,t,r,e){for(var u=-1,i=ql(Tl((t-n)/(r||1)),0),o=tl(i);i--;)o[e?i:++u]=n,n+=r;return o}function nu(n,t){var r="";if(!n||t<1||t>En)return r;do{t%2&&(r+=n),(t=Dl(t/2))&&(n+=n)}while(t);return r}function tu(n,t){return zs(Pi(n,t,za),n+"")}function ru(n){return Mr(Qc(n))}function eu(n,t){var r=Qc(n);return Hi(r,te(t,0,r.length))}function uu(n,t,r,e){if(!ec(n))return n;t=xu(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=Ji(t[u]),a=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return n;if(u!=o){var l=f[c];(a=e?e(l,c,f):X)===X&&(a=ec(l)?l:Si(t[u+1])?[]:{})}Gr(f,c,a),f=f[c]}return n}function iu(n){return Hi(Qc(n))}function ou(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=tl(u);++e<u;)i[e]=n[e+t];return i}function fu(n,t){var r;return ps(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function cu(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&u<=Un){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!vc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return au(n,t,za,r)}function au(n,t,r,e){var u=0,i=null==n?0:n.length;if(0===i)return 0;t=r(t);for(var o=t!==t,f=null===t,c=vc(t),a=t===X;u<i;){var l=Dl((u+i)/2),s=r(n[l]),h=s!==X,p=null===s,_=s===s,v=vc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Zl(i,Cn)}function lu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!qf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function su(n){return"number"==typeof n?n:vc(n)?Ln:+n}function hu(n){if("string"==typeof n)return n;if(vh(n))return c(n,hu)+"";if(vc(n))return ss?ss.call(n):"";var t=n+"";return"0"==t&&1/n==-zn?"-0":t}function pu(n,t,r){var e=-1,u=o,i=n.length,c=!0,a=[],l=a;if(r)c=!1,u=f;else if(i>=nn){var s=t?null:ms(n);if(s)return P(s);c=!1,u=S,l=new wr}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,c&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;t&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function _u(n,t){return t=xu(t,n),null==(n=qi(n,t))||delete n[Ji(bo(t))]}function vu(n,t,r,e){return uu(n,t,r(ve(n,t)),e)}function gu(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?ou(n,e?0:i,e?i+1:u):ou(n,e?i+1:0,e?u:i)}function yu(n,t){var r=n;return r instanceof St&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function du(n,t,r){var e=n.length;if(e<2)return e?pu(n[0]):[];for(var u=-1,i=tl(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=oe(i[u]||o,n[f],t,r));return pu(se(i,1),t,r)}function bu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){var f=e<i?t[e]:X;r(o,n[e],f)}return o}function wu(n){return Kf(n)?n:[]}function mu(n){return"function"==typeof n?n:za}function xu(n,t){return vh(n)?n:Wi(n,t)?[n]:Es(Oc(n))}function ju(n,t,r){var e=n.length;return r=r===X?e:r,!t&&r>=e?n:ou(n,t,r)}function Au(n,t){if(t)return n.slice();var r=n.length,e=kl?kl(r):new n.constructor(r);return n.copy(e),e}function ku(n){var t=new n.constructor(n.byteLength);return new Al(t).set(new Al(n)),t}function Ou(n,t){var r=t?ku(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}function Iu(n){var t=new n.constructor(n.source,$t.exec(n));return t.lastIndex=n.lastIndex,t}function Ru(n){return ls?ol(ls.call(n)):{}}function zu(n,t){var r=t?ku(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Eu(n,t){if(n!==t){var r=n!==X,e=null===n,u=n===n,i=vc(n),o=t!==X,f=null===t,c=t===t,a=vc(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Su(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Eu(u[e],i[e]);if(c)return e>=f?c:c*("desc"==r[e]?-1:1)}return n.index-t.index}function Lu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=ql(i-o,0),l=tl(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function Wu(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=ql(i-f,0),s=tl(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Cu(n,t){var r=-1,e=n.length;for(t||(t=tl(e));++r<e;)t[r]=n[r];return t}function Uu(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):X;c===X&&(c=n[f]),u?Xr(r,f,c):Gr(r,f,c)}return r}function Bu(n,t){return Uu(n,js(n),t)}function Tu(n,t){return Uu(n,As(n),t)}function Du(n,r){return function(e,u){var i=vh(e)?t:Jr,o=r?r():{};return i(e,n,di(u,2),o)}}function $u(n){return tu(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:X,o=u>2?r[2]:X;for(i=n.length>3&&"function"==typeof i?(u--,i):X,o&&Li(r[0],r[1],o)&&(i=u<3?X:i,u=1),t=ol(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function Mu(n,t){return function(r,e){if(null==r)return r;if(!Zf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ol(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function Fu(n){return function(t,r,e){for(var u=-1,i=ol(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(!1===r(i[c],c,i))break}return t}}function Nu(n,t,r){function e(){return(this&&this!==Rr&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&pn,i=Zu(n);return e}function Pu(n){return function(t){t=Oc(t);var r=T(t)?G(t):X,e=r?r[0]:t.charAt(0),u=r?ju(r,1).join(""):t.slice(1);return e[n]()+u}}function qu(n){return function(t){return l(Aa(ua(t).replace(lr,"")),n,"")}}function Zu(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=hs(n.prototype),e=n.apply(r,t);return ec(e)?e:r}}function Ku(t,r,e){function u(){for(var o=arguments.length,f=tl(o),c=o,a=yi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:N(f,a);return(o-=l.length)<e?ei(t,r,Hu,u.placeholder,X,f,l,X,X,e-o):n(this&&this!==Rr&&this instanceof u?i:t,this,f)}var i=Zu(t);return u}function Vu(n){return function(t,r,e){var u=ol(t);if(!Zf(t)){var i=di(r,3);t=$c(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:X}}function Gu(n){return pi(function(t){var r=t.length,e=r,u=Y.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new al(rn);if(u&&!o&&"wrapper"==gi(i))var o=new Y([],!0)}for(e=o?e:r;++e<r;){i=t[e];var f=gi(i),c="wrapper"==f?xs(i):X;o=c&&Ui(c[0])&&c[1]==(wn|gn|dn|mn)&&!c[4].length&&1==c[9]?o[gi(c[0])].apply(o,c[3]):1==i.length&&Ui(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&vh(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Hu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=tl(y),b=y;b--;)d[b]=arguments[b];if(_)var w=yi(l),m=C(d,w);if(e&&(d=Lu(d,e,u,_)),i&&(d=Wu(d,i,o,_)),y-=m,_&&y<a){var x=N(d,w);return ei(n,t,Hu,l.placeholder,r,d,x,f,c,a-y)}var j=h?r:this,A=p?j[n]:n;return y=d.length,f?d=Zi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==Rr&&this instanceof l&&(A=g||Zu(A)),A.apply(j,d)}var s=t&wn,h=t&pn,p=t&_n,_=t&(gn|yn),v=t&xn,g=p?X:Zu(n);return l}function Ju(n,t){return function(r,e){return je(r,n,t(e),{})}}function Yu(n,t){return function(r,e){var u;if(r===X&&e===X)return t;if(r!==X&&(u=r),e!==X){if(u===X)return e;"string"==typeof r||"string"==typeof e?(r=hu(r),e=hu(e)):(r=su(r),e=su(e)),u=n(r,e)}return u}}function Qu(t){return pi(function(r){return r=c(r,z(di())),tu(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function Xu(n,t){t=t===X?" ":hu(t);var r=t.length;if(r<2)return r?nu(t,n):t;var e=nu(t,Tl(n/V(t)));return T(t)?ju(G(e),0,n).join(""):e.slice(0,n)}function ni(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=tl(l+c),h=this&&this!==Rr&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];return n(h,o?e:this,s)}var o=r&pn,f=Zu(t);return i}function ti(n){return function(t,r,e){return e&&"number"!=typeof e&&Li(t,r,e)&&(r=e=X),t=wc(t),r===X?(r=t,t=0):r=wc(r),e=e===X?t<r?1:-1:wc(e),Xe(t,r,e,n)}}function ri(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=jc(t),r=jc(r)),n(t,r)}}function ei(n,t,r,e,u,i,o,f,c,a){var l=t&gn,s=l?o:X,h=l?X:o,p=l?i:X,_=l?X:i;t|=l?dn:bn,(t&=~(l?bn:dn))&vn||(t&=~(pn|_n));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(X,v);return Ui(n)&&Is(g,v),g.placeholder=e,Vi(g,n,t)}function ui(n){var t=il[n];return function(n,r){if(n=jc(n),(r=null==r?0:Zl(mc(r),292))&&Fl(n)){var e=(Oc(n)+"e").split("e");return e=(Oc(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ii(n){return function(t){var r=ks(t);return r==Kn?M(t):r==Qn?q(t):I(t,n(t))}}function oi(n,t,r,e,u,i,o,f){var c=t&_n;if(!c&&"function"!=typeof n)throw new al(rn);var a=e?e.length:0;if(a||(t&=~(dn|bn),e=u=X),o=o===X?o:ql(mc(o),0),f=f===X?f:mc(f),a-=u?u.length:0,t&bn){var l=e,s=u;e=u=X}var h=c?X:xs(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&Mi(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===X?c?0:n.length:ql(p[9]-a,0),!f&&t&(gn|yn)&&(t&=~(gn|yn)),t&&t!=pn)_=t==gn||t==yn?Ku(n,t,f):t!=dn&&t!=(pn|dn)||u.length?Hu.apply(X,p):ni(n,t,r,e);else var _=Nu(n,t,r);return Vi((h?ys:Is)(_,p),n,t)}function fi(n,t,r,e){return n===X||qf(n,hl[r])&&!vl.call(e,r)?t:n}function ci(n,t,r,e,u,i){return ec(n)&&ec(t)&&(i.set(t,n),Pe(n,t,X,ci,i),i.delete(t)),n}function ai(n){return hc(n)?X:n}function li(n,t,r,e,u,i){var o=r&sn,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n),l=i.get(t);if(a&&l)return a==t&&l==n;var s=-1,p=!0,_=r&hn?new wr:X;for(i.set(n,t),i.set(t,n);++s<f;){var v=n[s],g=t[s];if(e)var y=o?e(g,v,s,t,n,i):e(v,g,s,n,t,i);if(y!==X){if(y)continue;p=!1;break}if(_){if(!h(t,function(n,t){if(!S(_,t)&&(v===n||u(v,n,r,e,i)))return _.push(t)})){p=!1;break}}else if(v!==g&&!u(v,g,r,e,i)){p=!1;break}}return i.delete(n),i.delete(t),p}function si(n,t,r,e,u,i,o){switch(r){case it:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case ut:return!(n.byteLength!=t.byteLength||!i(new Al(n),new Al(t)));case Mn:case Fn:case Vn:return qf(+n,+t);case Pn:return n.name==t.name&&n.message==t.message;case Yn:case Xn:return n==t+"";case Kn:var f=M;case Qn:var c=e&sn;if(f||(f=P),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=hn,o.set(n,t);var l=li(f(n),f(t),e,u,i,o);return o.delete(n),l;case nt:if(ls)return ls.call(n)==ls.call(t)}return!1}function hi(n,t,r,e,u,i){var o=r&sn,f=_i(n),c=f.length;if(c!=_i(t).length&&!o)return!1;for(var a=c;a--;){var l=f[a];if(!(o?l in t:vl.call(t,l)))return!1}var s=i.get(n),h=i.get(t);if(s&&h)return s==t&&h==n;var p=!0;i.set(n,t),i.set(t,n);for(var _=o;++a<c;){l=f[a];var v=n[l],g=t[l];if(e)var y=o?e(g,v,l,t,n,i):e(v,g,l,n,t,i);if(!(y===X?v===g||u(v,g,r,e,i):y)){p=!1;break}_||(_="constructor"==l)}if(p&&!_){var d=n.constructor,b=t.constructor;d!=b&&"constructor"in n&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof b&&b instanceof b)&&(p=!1)}return i.delete(n),i.delete(t),p}function pi(n){return zs(Pi(n,X,lo),n+"")}function _i(n){return ge(n,$c,js)}function vi(n){return ge(n,Mc,As)}function gi(n){for(var t=n.name+"",r=es[t],e=vl.call(es,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function yi(n){return(vl.call(Z,"placeholder")?Z:n).placeholder}function di(){var n=Z.iteratee||Ea;return n=n===Ea?Be:n,arguments.length?n(arguments[0],arguments[1]):n}function bi(n,t){var r=n.__data__;return Ci(t)?r["string"==typeof t?"string":"hash"]:r.map}function wi(n){for(var t=$c(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Di(u)]}return t}function mi(n,t){var r=B(n,t);return Le(r)?r:X}function xi(n){var t=vl.call(n,Ll),r=n[Ll];try{n[Ll]=X;var e=!0}catch(n){}var u=dl.call(n);return e&&(t?n[Ll]=r:delete n[Ll]),u}function ji(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Zl(t,n+o);break;case"takeRight":n=ql(n,t-o)}}return{start:n,end:t}}function Ai(n){var t=n.match(Wt);return t?t[1].split(Ct):[]}function ki(n,t,r){t=xu(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=Ji(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&rc(u)&&Si(o,u)&&(vh(n)||_h(n))}function Oi(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&vl.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Ii(n){return"function"!=typeof n.constructor||Ti(n)?{}:hs(Ol(n))}function Ri(n,t,r){var e=n.constructor;switch(t){case ut:return ku(n);case Mn:case Fn:return new e(+n);case it:return Ou(n,r);case ot:case ft:case ct:case at:case lt:case st:case ht:case pt:case _t:return zu(n,r);case Kn:return new e;case Vn:case Xn:return new e(n);case Yn:return Iu(n);case Qn:return new e;case nt:return Ru(n)}}function zi(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Lt,"{\n/* [wrapped with "+t+"] */\n")}function Ei(n){return vh(n)||_h(n)||!!(El&&n&&n[El])}function Si(n,t){var r=typeof n;return!!(t=null==t?En:t)&&("number"==r||"symbol"!=r&&qt.test(n))&&n>-1&&n%1==0&&n<t}function Li(n,t,r){if(!ec(r))return!1;var e=typeof t;return!!("number"==e?Zf(r)&&Si(t,r.length):"string"==e&&t in r)&&qf(r[t],n)}function Wi(n,t){if(vh(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!vc(n))||Ot.test(n)||!kt.test(n)||null!=t&&n in ol(t)}function Ci(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function Ui(n){var t=gi(n),r=Z[t];if("function"!=typeof r||!(t in St.prototype))return!1;if(n===r)return!0;var e=xs(r);return!!e&&n===e[0]}function Bi(n){return!!yl&&yl in n}function Ti(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||hl)}function Di(n){return n===n&&!ec(n)}function $i(n,t){return function(r){return null!=r&&r[n]===t&&(t!==X||n in ol(r))}}function Mi(n,t){var r=n[1],e=t[1],u=r|e,i=u<(pn|_n|wn),o=e==wn&&r==gn||e==wn&&r==mn&&n[7].length<=t[8]||e==(wn|mn)&&t[7].length<=t[8]&&r==gn;if(!i&&!o)return n;e&pn&&(n[2]=t[2],u|=r&pn?0:vn);var f=t[3];if(f){var c=n[3];n[3]=c?Lu(c,f,t[4]):f,n[4]=c?N(n[3],fn):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Wu(c,f,t[6]):f,n[6]=c?N(n[5],fn):t[6]),f=t[7],f&&(n[7]=f),e&wn&&(n[8]=null==n[8]?t[8]:Zl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function Fi(n){var t=[];if(null!=n)for(var r in ol(n))t.push(r);return t}function Ni(n){return dl.call(n)}function Pi(t,r,e){return r=ql(r===X?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=ql(u.length-r,0),f=tl(o);++i<o;)f[i]=u[r+i];i=-1;for(var c=tl(r+1);++i<r;)c[i]=u[i];return c[r]=e(f),n(t,this,c)}}function qi(n,t){return t.length<2?n:ve(n,ou(t,0,-1))}function Zi(n,t){for(var r=n.length,e=Zl(t.length,r),u=Cu(n);e--;){var i=t[e];n[e]=Si(i,r)?u[i]:X}return n}function Ki(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}function Vi(n,t,r){var e=t+"";return zs(n,zi(e,Qi(Ai(e),r)))}function Gi(n){var t=0,r=0;return function(){var e=Kl(),u=On-(e-r);if(r=e,u>0){if(++t>=kn)return arguments[0]}else t=0;return n.apply(X,arguments)}}function Hi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===X?e:t;++r<t;){var i=Qe(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function Ji(n){if("string"==typeof n||vc(n))return n;var t=n+"";return"0"==t&&1/n==-zn?"-0":t}function Yi(n){if(null!=n){try{return _l.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Qi(n,t){return r(Bn,function(r){var e="_."+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function Xi(n){if(n instanceof St)return n.clone();var t=new Y(n.__wrapped__,n.__chain__);return t.__actions__=Cu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function no(n,t,r){t=(r?Li(n,t,r):t===X)?1:ql(mc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=tl(Tl(e/t));u<e;)o[i++]=ou(n,u,u+=t);return o}function to(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function ro(){var n=arguments.length;if(!n)return[];for(var t=tl(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return a(vh(r)?Cu(r):[r],se(t,1))}function eo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:mc(t),ou(n,t<0?0:t,e)):[]}function uo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:mc(t),t=e-t,ou(n,0,t<0?0:t)):[]}function io(n,t){return n&&n.length?gu(n,di(t,3),!0,!0):[]}function oo(n,t){return n&&n.length?gu(n,di(t,3),!0):[]}function fo(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&Li(n,t,r)&&(r=0,e=u),ae(n,t,r,e)):[]}function co(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:mc(r);return u<0&&(u=ql(e+u,0)),g(n,di(t,3),u)}function ao(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==X&&(u=mc(r),u=r<0?ql(e+u,0):Zl(u,e-1)),g(n,di(t,3),u,!0)}function lo(n){return(null==n?0:n.length)?se(n,1):[]}function so(n){return(null==n?0:n.length)?se(n,zn):[]}function ho(n,t){return(null==n?0:n.length)?(t=t===X?1:mc(t),se(n,t)):[]}function po(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function _o(n){return n&&n.length?n[0]:X}function vo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:mc(r);return u<0&&(u=ql(e+u,0)),y(n,t,u)}function go(n){return(null==n?0:n.length)?ou(n,0,-1):[]}function yo(n,t){return null==n?"":Nl.call(n,t)}function bo(n){var t=null==n?0:n.length;return t?n[t-1]:X}function wo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==X&&(u=mc(r),u=u<0?ql(e+u,0):Zl(u,e-1)),t===t?K(n,t,u):g(n,b,u,!0)}function mo(n,t){return n&&n.length?Ze(n,mc(t)):X}function xo(n,t){return n&&n.length&&t&&t.length?Je(n,t):n}function jo(n,t,r){return n&&n.length&&t&&t.length?Je(n,t,di(r,2)):n}function Ao(n,t,r){return n&&n.length&&t&&t.length?Je(n,t,X,r):n}function ko(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=di(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return Ye(n,u),r}function Oo(n){return null==n?n:Hl.call(n)}function Io(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Li(n,t,r)?(t=0,r=e):(t=null==t?0:mc(t),r=r===X?e:mc(r)),ou(n,t,r)):[]}function Ro(n,t){return cu(n,t)}function zo(n,t,r){return au(n,t,di(r,2))}function Eo(n,t){var r=null==n?0:n.length;if(r){var e=cu(n,t);if(e<r&&qf(n[e],t))return e}return-1}function So(n,t){return cu(n,t,!0)}function Lo(n,t,r){return au(n,t,di(r,2),!0)}function Wo(n,t){if(null==n?0:n.length){var r=cu(n,t,!0)-1;if(qf(n[r],t))return r}return-1}function Co(n){return n&&n.length?lu(n):[]}function Uo(n,t){return n&&n.length?lu(n,di(t,2)):[]}function Bo(n){var t=null==n?0:n.length;return t?ou(n,1,t):[]}function To(n,t,r){return n&&n.length?(t=r||t===X?1:mc(t),ou(n,0,t<0?0:t)):[]}function Do(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:mc(t),t=e-t,ou(n,t<0?0:t,e)):[]}function $o(n,t){return n&&n.length?gu(n,di(t,3),!1,!0):[]}function Mo(n,t){return n&&n.length?gu(n,di(t,3)):[]}function Fo(n){return n&&n.length?pu(n):[]}function No(n,t){return n&&n.length?pu(n,di(t,2)):[]}function Po(n,t){return t="function"==typeof t?t:X,n&&n.length?pu(n,X,t):[]}function qo(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){
if(Kf(n))return t=ql(n.length,t),!0}),O(t,function(t){return c(n,m(t))})}function Zo(t,r){if(!t||!t.length)return[];var e=qo(t);return null==r?e:c(e,function(t){return n(r,X,t)})}function Ko(n,t){return bu(n||[],t||[],Gr)}function Vo(n,t){return bu(n||[],t||[],uu)}function Go(n){var t=Z(n);return t.__chain__=!0,t}function Ho(n,t){return t(n),n}function Jo(n,t){return t(n)}function Yo(){return Go(this)}function Qo(){return new Y(this.value(),this.__chain__)}function Xo(){this.__values__===X&&(this.__values__=bc(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?X:this.__values__[this.__index__++]}}function nf(){return this}function tf(n){for(var t,r=this;r instanceof J;){var e=Xi(r);e.__index__=0,e.__values__=X,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function rf(){var n=this.__wrapped__;if(n instanceof St){var t=n;return this.__actions__.length&&(t=new St(this)),t=t.reverse(),t.__actions__.push({func:Jo,args:[Oo],thisArg:X}),new Y(t,this.__chain__)}return this.thru(Oo)}function ef(){return yu(this.__wrapped__,this.__actions__)}function uf(n,t,r){var e=vh(n)?u:fe;return r&&Li(n,t,r)&&(t=X),e(n,di(t,3))}function of(n,t){return(vh(n)?i:le)(n,di(t,3))}function ff(n,t){return se(pf(n,t),1)}function cf(n,t){return se(pf(n,t),zn)}function af(n,t,r){return r=r===X?1:mc(r),se(pf(n,t),r)}function lf(n,t){return(vh(n)?r:ps)(n,di(t,3))}function sf(n,t){return(vh(n)?e:_s)(n,di(t,3))}function hf(n,t,r,e){n=Zf(n)?n:Qc(n),r=r&&!e?mc(r):0;var u=n.length;return r<0&&(r=ql(u+r,0)),_c(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function pf(n,t){return(vh(n)?c:Me)(n,di(t,3))}function _f(n,t,r,e){return null==n?[]:(vh(t)||(t=null==t?[]:[t]),r=e?X:r,vh(r)||(r=null==r?[]:[r]),Ke(n,t,r))}function vf(n,t,r){var e=vh(n)?l:j,u=arguments.length<3;return e(n,di(t,4),r,u,ps)}function gf(n,t,r){var e=vh(n)?s:j,u=arguments.length<3;return e(n,di(t,4),r,u,_s)}function yf(n,t){return(vh(n)?i:le)(n,Sf(di(t,3)))}function df(n){return(vh(n)?Mr:ru)(n)}function bf(n,t,r){return t=(r?Li(n,t,r):t===X)?1:mc(t),(vh(n)?Zr:eu)(n,t)}function wf(n){return(vh(n)?Kr:iu)(n)}function mf(n){if(null==n)return 0;if(Zf(n))return _c(n)?V(n):n.length;var t=ks(n);return t==Kn||t==Qn?n.size:Te(n).length}function xf(n,t,r){var e=vh(n)?h:fu;return r&&Li(n,t,r)&&(t=X),e(n,di(t,3))}function jf(n,t){if("function"!=typeof t)throw new al(rn);return n=mc(n),function(){if(--n<1)return t.apply(this,arguments)}}function Af(n,t,r){return t=r?X:t,t=n&&null==t?n.length:t,oi(n,wn,X,X,X,X,t)}function kf(n,t){var r;if("function"!=typeof t)throw new al(rn);return n=mc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=X),r}}function Of(n,t,r){t=r?X:t;var e=oi(n,gn,X,X,X,X,X,t);return e.placeholder=Of.placeholder,e}function If(n,t,r){t=r?X:t;var e=oi(n,yn,X,X,X,X,X,t);return e.placeholder=If.placeholder,e}function Rf(n,t,r){function e(t){var r=h,e=p;return h=p=X,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Rs(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Zl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===X||r>=t||r<0||w&&e>=_}function f(){var n=eh();if(o(n))return c(n);g=Rs(f,i(n))}function c(n){return g=X,m&&h?e(n):(h=p=X,v)}function a(){g!==X&&ws(g),d=0,h=y=p=g=X}function l(){return g===X?v:c(eh())}function s(){var n=eh(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===X)return u(y);if(w)return ws(g),g=Rs(f,t),e(y)}return g===X&&(g=Rs(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new al(rn);return t=jc(t)||0,ec(r)&&(b=!!r.leading,w="maxWait"in r,_=w?ql(jc(r.maxWait)||0,t):_,m="trailing"in r?!!r.trailing:m),s.cancel=a,s.flush=l,s}function zf(n){return oi(n,xn)}function Ef(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new al(rn);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Ef.Cache||cr),r}function Sf(n){if("function"!=typeof n)throw new al(rn);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Lf(n){return kf(2,n)}function Wf(n,t){if("function"!=typeof n)throw new al(rn);return t=t===X?t:mc(t),tu(n,t)}function Cf(t,r){if("function"!=typeof t)throw new al(rn);return r=null==r?0:ql(mc(r),0),tu(function(e){var u=e[r],i=ju(e,0,r);return u&&a(i,u),n(t,this,i)})}function Uf(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new al(rn);return ec(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Rf(n,t,{leading:e,maxWait:t,trailing:u})}function Bf(n){return Af(n,1)}function Tf(n,t){return ah(mu(t),n)}function Df(){if(!arguments.length)return[];var n=arguments[0];return vh(n)?n:[n]}function $f(n){return re(n,ln)}function Mf(n,t){return t="function"==typeof t?t:X,re(n,ln,t)}function Ff(n){return re(n,cn|ln)}function Nf(n,t){return t="function"==typeof t?t:X,re(n,cn|ln,t)}function Pf(n,t){return null==t||ue(n,t,$c(t))}function qf(n,t){return n===t||n!==n&&t!==t}function Zf(n){return null!=n&&rc(n.length)&&!nc(n)}function Kf(n){return uc(n)&&Zf(n)}function Vf(n){return!0===n||!1===n||uc(n)&&ye(n)==Mn}function Gf(n){return uc(n)&&1===n.nodeType&&!hc(n)}function Hf(n){if(null==n)return!0;if(Zf(n)&&(vh(n)||"string"==typeof n||"function"==typeof n.splice||yh(n)||xh(n)||_h(n)))return!n.length;var t=ks(n);if(t==Kn||t==Qn)return!n.size;if(Ti(n))return!Te(n).length;for(var r in n)if(vl.call(n,r))return!1;return!0}function Jf(n,t){return Re(n,t)}function Yf(n,t,r){r="function"==typeof r?r:X;var e=r?r(n,t):X;return e===X?Re(n,t,X,r):!!e}function Qf(n){if(!uc(n))return!1;var t=ye(n);return t==Pn||t==Nn||"string"==typeof n.message&&"string"==typeof n.name&&!hc(n)}function Xf(n){return"number"==typeof n&&Fl(n)}function nc(n){if(!ec(n))return!1;var t=ye(n);return t==qn||t==Zn||t==$n||t==Jn}function tc(n){return"number"==typeof n&&n==mc(n)}function rc(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=En}function ec(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function uc(n){return null!=n&&"object"==typeof n}function ic(n,t){return n===t||Se(n,t,wi(t))}function oc(n,t,r){return r="function"==typeof r?r:X,Se(n,t,wi(t),r)}function fc(n){return sc(n)&&n!=+n}function cc(n){if(Os(n))throw new el(tn);return Le(n)}function ac(n){return null===n}function lc(n){return null==n}function sc(n){return"number"==typeof n||uc(n)&&ye(n)==Vn}function hc(n){if(!uc(n)||ye(n)!=Hn)return!1;var t=Ol(n);if(null===t)return!0;var r=vl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&_l.call(r)==bl}function pc(n){return tc(n)&&n>=-En&&n<=En}function _c(n){return"string"==typeof n||!vh(n)&&uc(n)&&ye(n)==Xn}function vc(n){return"symbol"==typeof n||uc(n)&&ye(n)==nt}function gc(n){return n===X}function yc(n){return uc(n)&&ks(n)==rt}function dc(n){return uc(n)&&ye(n)==et}function bc(n){if(!n)return[];if(Zf(n))return _c(n)?G(n):Cu(n);if(Sl&&n[Sl])return $(n[Sl]());var t=ks(n);return(t==Kn?M:t==Qn?P:Qc)(n)}function wc(n){return n?(n=jc(n))===zn||n===-zn?(n<0?-1:1)*Sn:n===n?n:0:0===n?n:0}function mc(n){var t=wc(n),r=t%1;return t===t?r?t-r:t:0}function xc(n){return n?te(mc(n),0,Wn):0}function jc(n){if("number"==typeof n)return n;if(vc(n))return Ln;if(ec(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=ec(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=R(n);var r=Ft.test(n);return r||Pt.test(n)?kr(n.slice(2),r?2:8):Mt.test(n)?Ln:+n}function Ac(n){return Uu(n,Mc(n))}function kc(n){return n?te(mc(n),-En,En):0===n?n:0}function Oc(n){return null==n?"":hu(n)}function Ic(n,t){var r=hs(n);return null==t?r:Yr(r,t)}function Rc(n,t){return v(n,di(t,3),he)}function zc(n,t){return v(n,di(t,3),pe)}function Ec(n,t){return null==n?n:vs(n,di(t,3),Mc)}function Sc(n,t){return null==n?n:gs(n,di(t,3),Mc)}function Lc(n,t){return n&&he(n,di(t,3))}function Wc(n,t){return n&&pe(n,di(t,3))}function Cc(n){return null==n?[]:_e(n,$c(n))}function Uc(n){return null==n?[]:_e(n,Mc(n))}function Bc(n,t,r){var e=null==n?X:ve(n,t);return e===X?r:e}function Tc(n,t){return null!=n&&ki(n,t,be)}function Dc(n,t){return null!=n&&ki(n,t,we)}function $c(n){return Zf(n)?Wr(n):Te(n)}function Mc(n){return Zf(n)?Wr(n,!0):De(n)}function Fc(n,t){var r={};return t=di(t,3),he(n,function(n,e,u){Xr(r,t(n,e,u),n)}),r}function Nc(n,t){var r={};return t=di(t,3),he(n,function(n,e,u){Xr(r,e,t(n,e,u))}),r}function Pc(n,t){return qc(n,Sf(di(t)))}function qc(n,t){if(null==n)return{};var r=c(vi(n),function(n){return[n]});return t=di(t),Ge(n,r,function(n,r){return t(n,r[0])})}function Zc(n,t,r){t=xu(t,n);var e=-1,u=t.length;for(u||(u=1,n=X);++e<u;){var i=null==n?X:n[Ji(t[e])];i===X&&(e=u,i=r),n=nc(i)?i.call(n):i}return n}function Kc(n,t,r){return null==n?n:uu(n,t,r)}function Vc(n,t,r,e){return e="function"==typeof e?e:X,null==n?n:uu(n,t,r,e)}function Gc(n,t,e){var u=vh(n),i=u||yh(n)||xh(n);if(t=di(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:ec(n)&&nc(o)?hs(Ol(n)):{}}return(i?r:he)(n,function(n,r,u){return t(e,n,r,u)}),e}function Hc(n,t){return null==n||_u(n,t)}function Jc(n,t,r){return null==n?n:vu(n,t,mu(r))}function Yc(n,t,r,e){return e="function"==typeof e?e:X,null==n?n:vu(n,t,mu(r),e)}function Qc(n){return null==n?[]:E(n,$c(n))}function Xc(n){return null==n?[]:E(n,Mc(n))}function na(n,t,r){return r===X&&(r=t,t=X),r!==X&&(r=jc(r),r=r===r?r:0),t!==X&&(t=jc(t),t=t===t?t:0),te(jc(n),t,r)}function ta(n,t,r){return t=wc(t),r===X?(r=t,t=0):r=wc(r),n=jc(n),me(n,t,r)}function ra(n,t,r){if(r&&"boolean"!=typeof r&&Li(n,t,r)&&(t=r=X),r===X&&("boolean"==typeof t?(r=t,t=X):"boolean"==typeof n&&(r=n,n=X)),n===X&&t===X?(n=0,t=1):(n=wc(n),t===X?(t=n,n=0):t=wc(t)),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=Gl();return Zl(n+u*(t-n+Ar("1e-"+((u+"").length-1))),t)}return Qe(n,t)}function ea(n){return Gh(Oc(n).toLowerCase())}function ua(n){return(n=Oc(n))&&n.replace(Zt,Fr).replace(sr,"")}function ia(n,t,r){n=Oc(n),t=hu(t);var e=n.length;r=r===X?e:te(mc(r),0,e);var u=r;return(r-=t.length)>=0&&n.slice(r,u)==t}function oa(n){return n=Oc(n),n&&mt.test(n)?n.replace(bt,Nr):n}function fa(n){return n=Oc(n),n&&zt.test(n)?n.replace(Rt,"\\$&"):n}function ca(n,t,r){n=Oc(n),t=mc(t);var e=t?V(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return Xu(Dl(u),r)+n+Xu(Tl(u),r)}function aa(n,t,r){n=Oc(n),t=mc(t);var e=t?V(n):0;return t&&e<t?n+Xu(t-e,r):n}function la(n,t,r){n=Oc(n),t=mc(t);var e=t?V(n):0;return t&&e<t?Xu(t-e,r)+n:n}function sa(n,t,r){return r||null==t?t=0:t&&(t=+t),Vl(Oc(n).replace(Et,""),t||0)}function ha(n,t,r){return t=(r?Li(n,t,r):t===X)?1:mc(t),nu(Oc(n),t)}function pa(){var n=arguments,t=Oc(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function _a(n,t,r){return r&&"number"!=typeof r&&Li(n,t,r)&&(t=r=X),(r=r===X?Wn:r>>>0)?(n=Oc(n),n&&("string"==typeof t||null!=t&&!wh(t))&&!(t=hu(t))&&T(n)?ju(G(n),0,r):n.split(t,r)):[]}function va(n,t,r){return n=Oc(n),r=null==r?0:te(mc(r),0,n.length),t=hu(t),n.slice(r,r+t.length)==t}function ga(n,t,r){var e=Z.templateSettings;r&&Li(n,t,r)&&(t=X),n=Oc(n),t=Ih({},t,e,fi);var u,i,o=Ih({},t.imports,e.imports,fi),f=$c(o),c=E(o,f),a=0,l=t.interpolate||Kt,s="__p += '",h=fl((t.escape||Kt).source+"|"+l.source+"|"+(l===At?Dt:Kt).source+"|"+(t.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+(vl.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++yr+"]")+"\n";n.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(Vt,U),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),a=c+t.length,t}),s+="';\n";var _=vl.call(t,"variable")&&t.variable;if(_){if(Bt.test(_))throw new el(en)}else s="with (obj) {\n"+s+"\n}\n";s=(i?s.replace(vt,""):s).replace(gt,"$1").replace(yt,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var v=Hh(function(){return ul(f,p+"return "+s).apply(X,c)});if(v.source=s,Qf(v))throw v;return v}function ya(n){return Oc(n).toLowerCase()}function da(n){return Oc(n).toUpperCase()}function ba(n,t,r){if((n=Oc(n))&&(r||t===X))return R(n);if(!n||!(t=hu(t)))return n;var e=G(n),u=G(t);return ju(e,L(e,u),W(e,u)+1).join("")}function wa(n,t,r){if((n=Oc(n))&&(r||t===X))return n.slice(0,H(n)+1);if(!n||!(t=hu(t)))return n;var e=G(n);return ju(e,0,W(e,G(t))+1).join("")}function ma(n,t,r){if((n=Oc(n))&&(r||t===X))return n.replace(Et,"");if(!n||!(t=hu(t)))return n;var e=G(n);return ju(e,L(e,G(t))).join("")}function xa(n,t){var r=jn,e=An;if(ec(t)){var u="separator"in t?t.separator:u;r="length"in t?mc(t.length):r,e="omission"in t?hu(t.omission):e}n=Oc(n);var i=n.length;if(T(n)){var o=G(n);i=o.length}if(r>=i)return n;var f=r-V(e);if(f<1)return e;var c=o?ju(o,0,f).join(""):n.slice(0,f);if(u===X)return c+e;if(o&&(f+=c.length-f),wh(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=fl(u.source,Oc($t.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;c=c.slice(0,s===X?f:s)}}else if(n.indexOf(hu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function ja(n){return n=Oc(n),n&&wt.test(n)?n.replace(dt,Pr):n}function Aa(n,t,r){return n=Oc(n),t=r?X:t,t===X?D(n)?Q(n):_(n):n.match(t)||[]}function ka(t){var r=null==t?0:t.length,e=di();return t=r?c(t,function(n){if("function"!=typeof n[1])throw new al(rn);return[e(n[0]),n[1]]}):[],tu(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})}function Oa(n){return ee(re(n,cn))}function Ia(n){return function(){return n}}function Ra(n,t){return null==n||n!==n?t:n}function za(n){return n}function Ea(n){return Be("function"==typeof n?n:re(n,cn))}function Sa(n){return Fe(re(n,cn))}function La(n,t){return Ne(n,re(t,cn))}function Wa(n,t,e){var u=$c(t),i=_e(t,u);null!=e||ec(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=_e(t,$c(t)));var o=!(ec(e)&&"chain"in e&&!e.chain),f=nc(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Cu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function Ca(){return Rr._===this&&(Rr._=wl),this}function Ua(){}function Ba(n){return n=mc(n),tu(function(t){return Ze(t,n)})}function Ta(n){return Wi(n)?m(Ji(n)):He(n)}function Da(n){return function(t){return null==n?X:ve(n,t)}}function $a(){return[]}function Ma(){return!1}function Fa(){return{}}function Na(){return""}function Pa(){return!0}function qa(n,t){if((n=mc(n))<1||n>En)return[];var r=Wn,e=Zl(n,Wn);t=di(t),n-=Wn;for(var u=O(e,t);++r<n;)t(r);return u}function Za(n){return vh(n)?c(n,Ji):vc(n)?[n]:Cu(Es(Oc(n)))}function Ka(n){var t=++gl;return Oc(n)+t}function Va(n){return n&&n.length?ce(n,za,de):X}function Ga(n,t){return n&&n.length?ce(n,di(t,2),de):X}function Ha(n){return w(n,za)}function Ja(n,t){return w(n,di(t,2))}function Ya(n){return n&&n.length?ce(n,za,$e):X}function Qa(n,t){return n&&n.length?ce(n,di(t,2),$e):X}function Xa(n){return n&&n.length?k(n,za):0}function nl(n,t){return n&&n.length?k(n,di(t,2)):0}x=null==x?Rr:qr.defaults(Rr.Object(),x,qr.pick(Rr,gr));var tl=x.Array,rl=x.Date,el=x.Error,ul=x.Function,il=x.Math,ol=x.Object,fl=x.RegExp,cl=x.String,al=x.TypeError,ll=tl.prototype,sl=ul.prototype,hl=ol.prototype,pl=x["__core-js_shared__"],_l=sl.toString,vl=hl.hasOwnProperty,gl=0,yl=function(){var n=/[^.]+$/.exec(pl&&pl.keys&&pl.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),dl=hl.toString,bl=_l.call(ol),wl=Rr._,ml=fl("^"+_l.call(vl).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xl=Sr?x.Buffer:X,jl=x.Symbol,Al=x.Uint8Array,kl=xl?xl.allocUnsafe:X,Ol=F(ol.getPrototypeOf,ol),Il=ol.create,Rl=hl.propertyIsEnumerable,zl=ll.splice,El=jl?jl.isConcatSpreadable:X,Sl=jl?jl.iterator:X,Ll=jl?jl.toStringTag:X,Wl=function(){try{var n=mi(ol,"defineProperty");return n({},"",{}),n}catch(n){}}(),Cl=x.clearTimeout!==Rr.clearTimeout&&x.clearTimeout,Ul=rl&&rl.now!==Rr.Date.now&&rl.now,Bl=x.setTimeout!==Rr.setTimeout&&x.setTimeout,Tl=il.ceil,Dl=il.floor,$l=ol.getOwnPropertySymbols,Ml=xl?xl.isBuffer:X,Fl=x.isFinite,Nl=ll.join,Pl=F(ol.keys,ol),ql=il.max,Zl=il.min,Kl=rl.now,Vl=x.parseInt,Gl=il.random,Hl=ll.reverse,Jl=mi(x,"DataView"),Yl=mi(x,"Map"),Ql=mi(x,"Promise"),Xl=mi(x,"Set"),ns=mi(x,"WeakMap"),ts=mi(ol,"create"),rs=ns&&new ns,es={},us=Yi(Jl),is=Yi(Yl),os=Yi(Ql),fs=Yi(Xl),cs=Yi(ns),as=jl?jl.prototype:X,ls=as?as.valueOf:X,ss=as?as.toString:X,hs=function(){function n(){}return function(t){if(!ec(t))return{};if(Il)return Il(t);n.prototype=t;var r=new n;return n.prototype=X,r}}();Z.templateSettings={escape:xt,evaluate:jt,interpolate:At,variable:"",imports:{_:Z}},Z.prototype=J.prototype,Z.prototype.constructor=Z,Y.prototype=hs(J.prototype),Y.prototype.constructor=Y,St.prototype=hs(J.prototype),St.prototype.constructor=St,Jt.prototype.clear=Yt,Jt.prototype.delete=Qt,Jt.prototype.get=Xt,Jt.prototype.has=nr,Jt.prototype.set=tr,rr.prototype.clear=er,rr.prototype.delete=ur,rr.prototype.get=ir,rr.prototype.has=or,rr.prototype.set=fr,cr.prototype.clear=ar,cr.prototype.delete=hr,cr.prototype.get=pr,cr.prototype.has=_r,cr.prototype.set=vr,wr.prototype.add=wr.prototype.push=mr,wr.prototype.has=xr,jr.prototype.clear=Or,jr.prototype.delete=Ir,jr.prototype.get=zr,jr.prototype.has=Er,jr.prototype.set=Lr;var ps=Mu(he),_s=Mu(pe,!0),vs=Fu(),gs=Fu(!0),ys=rs?function(n,t){return rs.set(n,t),n}:za,ds=Wl?function(n,t){return Wl(n,"toString",{configurable:!0,enumerable:!1,value:Ia(t),writable:!0})}:za,bs=tu,ws=Cl||function(n){return Rr.clearTimeout(n)},ms=Xl&&1/P(new Xl([,-0]))[1]==zn?function(n){return new Xl(n)}:Ua,xs=rs?function(n){return rs.get(n)}:Ua,js=$l?function(n){return null==n?[]:(n=ol(n),i($l(n),function(t){return Rl.call(n,t)}))}:$a,As=$l?function(n){for(var t=[];n;)a(t,js(n)),n=Ol(n);return t}:$a,ks=ye;(Jl&&ks(new Jl(new ArrayBuffer(1)))!=it||Yl&&ks(new Yl)!=Kn||Ql&&"[object Promise]"!=ks(Ql.resolve())||Xl&&ks(new Xl)!=Qn||ns&&ks(new ns)!=rt)&&(ks=function(n){var t=ye(n),r=t==Hn?n.constructor:X,e=r?Yi(r):"";if(e)switch(e){case us:return it;case is:return Kn;case os:return"[object Promise]";case fs:return Qn;case cs:return rt}return t});var Os=pl?nc:Ma,Is=Gi(ys),Rs=Bl||function(n,t){return Rr.setTimeout(n,t)},zs=Gi(ds),Es=function(n){var t=Ef(n,function(n){return 500===r.size&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(It,function(n,r,e,u){t.push(e?u.replace(Tt,"$1"):r||n)}),t}),Ss=tu(function(n,t){return Kf(n)?oe(n,se(t,1,Kf,!0)):[]}),Ls=tu(function(n,t){var r=bo(t);return Kf(r)&&(r=X),Kf(n)?oe(n,se(t,1,Kf,!0),di(r,2)):[]}),Ws=tu(function(n,t){var r=bo(t);return Kf(r)&&(r=X),Kf(n)?oe(n,se(t,1,Kf,!0),X,r):[]}),Cs=tu(function(n){var t=c(n,wu);return t.length&&t[0]===n[0]?xe(t):[]}),Us=tu(function(n){var t=bo(n),r=c(n,wu);return t===bo(r)?t=X:r.pop(),r.length&&r[0]===n[0]?xe(r,di(t,2)):[]}),Bs=tu(function(n){var t=bo(n),r=c(n,wu);return t="function"==typeof t?t:X,t&&r.pop(),r.length&&r[0]===n[0]?xe(r,X,t):[]}),Ts=tu(xo),Ds=pi(function(n,t){var r=null==n?0:n.length,e=ne(n,t);return Ye(n,c(t,function(n){return Si(n,r)?+n:n}).sort(Eu)),e}),$s=tu(function(n){return pu(se(n,1,Kf,!0))}),Ms=tu(function(n){var t=bo(n);return Kf(t)&&(t=X),pu(se(n,1,Kf,!0),di(t,2))}),Fs=tu(function(n){var t=bo(n);return t="function"==typeof t?t:X,pu(se(n,1,Kf,!0),X,t)}),Ns=tu(function(n,t){return Kf(n)?oe(n,t):[]}),Ps=tu(function(n){return du(i(n,Kf))}),qs=tu(function(n){var t=bo(n);return Kf(t)&&(t=X),du(i(n,Kf),di(t,2))}),Zs=tu(function(n){var t=bo(n);return t="function"==typeof t?t:X,du(i(n,Kf),X,t)}),Ks=tu(qo),Vs=tu(function(n){var t=n.length,r=t>1?n[t-1]:X;return r="function"==typeof r?(n.pop(),r):X,Zo(n,r)}),Gs=pi(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return ne(t,n)};return!(t>1||this.__actions__.length)&&e instanceof St&&Si(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:Jo,args:[u],thisArg:X}),new Y(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(X),n})):this.thru(u)}),Hs=Du(function(n,t,r){vl.call(n,r)?++n[r]:Xr(n,r,1)}),Js=Vu(co),Ys=Vu(ao),Qs=Du(function(n,t,r){vl.call(n,r)?n[r].push(t):Xr(n,r,[t])}),Xs=tu(function(t,r,e){var u=-1,i="function"==typeof r,o=Zf(t)?tl(t.length):[];return ps(t,function(t){o[++u]=i?n(r,t,e):Ae(t,r,e)}),o}),nh=Du(function(n,t,r){Xr(n,r,t)}),th=Du(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),rh=tu(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Li(n,t[0],t[1])?t=[]:r>2&&Li(t[0],t[1],t[2])&&(t=[t[0]]),Ke(n,se(t,1),[])}),eh=Ul||function(){return Rr.Date.now()},uh=tu(function(n,t,r){var e=pn;if(r.length){var u=N(r,yi(uh));e|=dn}return oi(n,e,t,r,u)}),ih=tu(function(n,t,r){var e=pn|_n;if(r.length){var u=N(r,yi(ih));e|=dn}return oi(t,e,n,r,u)}),oh=tu(function(n,t){return ie(n,1,t)}),fh=tu(function(n,t,r){return ie(n,jc(t)||0,r)});Ef.Cache=cr;var ch=bs(function(t,r){r=1==r.length&&vh(r[0])?c(r[0],z(di())):c(se(r,1),z(di()));var e=r.length;return tu(function(u){for(var i=-1,o=Zl(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),ah=tu(function(n,t){var r=N(t,yi(ah));return oi(n,dn,X,t,r)}),lh=tu(function(n,t){var r=N(t,yi(lh));return oi(n,bn,X,t,r)}),sh=pi(function(n,t){return oi(n,mn,X,X,X,t)}),hh=ri(de),ph=ri(function(n,t){return n>=t}),_h=ke(function(){return arguments}())?ke:function(n){return uc(n)&&vl.call(n,"callee")&&!Rl.call(n,"callee")},vh=tl.isArray,gh=Cr?z(Cr):Oe,yh=Ml||Ma,dh=Ur?z(Ur):Ie,bh=Br?z(Br):Ee,wh=Tr?z(Tr):We,mh=Dr?z(Dr):Ce,xh=$r?z($r):Ue,jh=ri($e),Ah=ri(function(n,t){return n<=t}),kh=$u(function(n,t){if(Ti(t)||Zf(t))return void Uu(t,$c(t),n);for(var r in t)vl.call(t,r)&&Gr(n,r,t[r])}),Oh=$u(function(n,t){Uu(t,Mc(t),n)}),Ih=$u(function(n,t,r,e){Uu(t,Mc(t),n,e)}),Rh=$u(function(n,t,r,e){Uu(t,$c(t),n,e)}),zh=pi(ne),Eh=tu(function(n,t){n=ol(n);var r=-1,e=t.length,u=e>2?t[2]:X;for(u&&Li(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=Mc(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===X||qf(l,hl[a])&&!vl.call(n,a))&&(n[a]=i[a])}return n}),Sh=tu(function(t){return t.push(X,ci),n(Bh,X,t)}),Lh=Ju(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=dl.call(t)),n[t]=r},Ia(za)),Wh=Ju(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=dl.call(t)),vl.call(n,t)?n[t].push(r):n[t]=[r]},di),Ch=tu(Ae),Uh=$u(function(n,t,r){Pe(n,t,r)}),Bh=$u(function(n,t,r,e){Pe(n,t,r,e)}),Th=pi(function(n,t){var r={};if(null==n)return r;var e=!1;t=c(t,function(t){return t=xu(t,n),e||(e=t.length>1),t}),Uu(n,vi(n),r),e&&(r=re(r,cn|an|ln,ai));for(var u=t.length;u--;)_u(r,t[u]);return r}),Dh=pi(function(n,t){return null==n?{}:Ve(n,t)}),$h=ii($c),Mh=ii(Mc),Fh=qu(function(n,t,r){return t=t.toLowerCase(),n+(r?ea(t):t)}),Nh=qu(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Ph=qu(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),qh=Pu("toLowerCase"),Zh=qu(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Kh=qu(function(n,t,r){return n+(r?" ":"")+Gh(t)}),Vh=qu(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Gh=Pu("toUpperCase"),Hh=tu(function(t,r){try{return n(t,X,r)}catch(n){return Qf(n)?n:new el(n)}}),Jh=pi(function(n,t){return r(t,function(t){t=Ji(t),Xr(n,t,uh(n[t],n))}),n}),Yh=Gu(),Qh=Gu(!0),Xh=tu(function(n,t){return function(r){return Ae(r,n,t)}}),np=tu(function(n,t){return function(r){return Ae(n,r,t)}}),tp=Qu(c),rp=Qu(u),ep=Qu(h),up=ti(),ip=ti(!0),op=Yu(function(n,t){return n+t},0),fp=ui("ceil"),cp=Yu(function(n,t){return n/t},1),ap=ui("floor"),lp=Yu(function(n,t){return n*t},1),sp=ui("round"),hp=Yu(function(n,t){return n-t},0);return Z.after=jf,Z.ary=Af,Z.assign=kh,Z.assignIn=Oh,Z.assignInWith=Ih,Z.assignWith=Rh,Z.at=zh,Z.before=kf,Z.bind=uh,Z.bindAll=Jh,Z.bindKey=ih,Z.castArray=Df,Z.chain=Go,Z.chunk=no,Z.compact=to,Z.concat=ro,Z.cond=ka,Z.conforms=Oa,Z.constant=Ia,Z.countBy=Hs,Z.create=Ic,Z.curry=Of,Z.curryRight=If,Z.debounce=Rf,Z.defaults=Eh,Z.defaultsDeep=Sh,Z.defer=oh,Z.delay=fh,Z.difference=Ss,Z.differenceBy=Ls,Z.differenceWith=Ws,Z.drop=eo,Z.dropRight=uo,Z.dropRightWhile=io,Z.dropWhile=oo,Z.fill=fo,Z.filter=of,Z.flatMap=ff,Z.flatMapDeep=cf,Z.flatMapDepth=af,Z.flatten=lo,Z.flattenDeep=so,Z.flattenDepth=ho,Z.flip=zf,Z.flow=Yh,Z.flowRight=Qh,Z.fromPairs=po,Z.functions=Cc,Z.functionsIn=Uc,Z.groupBy=Qs,Z.initial=go,Z.intersection=Cs,Z.intersectionBy=Us,Z.intersectionWith=Bs,Z.invert=Lh,Z.invertBy=Wh,Z.invokeMap=Xs,Z.iteratee=Ea,Z.keyBy=nh,Z.keys=$c,Z.keysIn=Mc,Z.map=pf,Z.mapKeys=Fc,Z.mapValues=Nc,Z.matches=Sa,Z.matchesProperty=La,Z.memoize=Ef,Z.merge=Uh,Z.mergeWith=Bh,Z.method=Xh,Z.methodOf=np,Z.mixin=Wa,Z.negate=Sf,Z.nthArg=Ba,Z.omit=Th,Z.omitBy=Pc,Z.once=Lf,Z.orderBy=_f,Z.over=tp,Z.overArgs=ch,Z.overEvery=rp,Z.overSome=ep,Z.partial=ah,Z.partialRight=lh,Z.partition=th,Z.pick=Dh,Z.pickBy=qc,Z.property=Ta,Z.propertyOf=Da,Z.pull=Ts,Z.pullAll=xo,Z.pullAllBy=jo,Z.pullAllWith=Ao,Z.pullAt=Ds,Z.range=up,Z.rangeRight=ip,Z.rearg=sh,Z.reject=yf,Z.remove=ko,Z.rest=Wf,Z.reverse=Oo,Z.sampleSize=bf,Z.set=Kc,Z.setWith=Vc,Z.shuffle=wf,Z.slice=Io,Z.sortBy=rh,Z.sortedUniq=Co,Z.sortedUniqBy=Uo,Z.split=_a,Z.spread=Cf,Z.tail=Bo,Z.take=To,Z.takeRight=Do,Z.takeRightWhile=$o,Z.takeWhile=Mo,Z.tap=Ho,Z.throttle=Uf,Z.thru=Jo,Z.toArray=bc,Z.toPairs=$h,Z.toPairsIn=Mh,Z.toPath=Za,Z.toPlainObject=Ac,Z.transform=Gc,Z.unary=Bf,Z.union=$s,Z.unionBy=Ms,Z.unionWith=Fs,Z.uniq=Fo,Z.uniqBy=No,Z.uniqWith=Po,Z.unset=Hc,Z.unzip=qo,Z.unzipWith=Zo,Z.update=Jc,Z.updateWith=Yc,Z.values=Qc,Z.valuesIn=Xc,Z.without=Ns,Z.words=Aa,Z.wrap=Tf,Z.xor=Ps,Z.xorBy=qs,Z.xorWith=Zs,Z.zip=Ks,Z.zipObject=Ko,Z.zipObjectDeep=Vo,Z.zipWith=Vs,Z.entries=$h,Z.entriesIn=Mh,Z.extend=Oh,Z.extendWith=Ih,Wa(Z,Z),Z.add=op,Z.attempt=Hh,Z.camelCase=Fh,Z.capitalize=ea,Z.ceil=fp,Z.clamp=na,Z.clone=$f,Z.cloneDeep=Ff,Z.cloneDeepWith=Nf,Z.cloneWith=Mf,Z.conformsTo=Pf,Z.deburr=ua,Z.defaultTo=Ra,Z.divide=cp,Z.endsWith=ia,Z.eq=qf,Z.escape=oa,Z.escapeRegExp=fa,Z.every=uf,Z.find=Js,Z.findIndex=co,Z.findKey=Rc,Z.findLast=Ys,Z.findLastIndex=ao,Z.findLastKey=zc,Z.floor=ap,Z.forEach=lf,Z.forEachRight=sf,Z.forIn=Ec,Z.forInRight=Sc,Z.forOwn=Lc,Z.forOwnRight=Wc,Z.get=Bc,Z.gt=hh,Z.gte=ph,Z.has=Tc,Z.hasIn=Dc,Z.head=_o,Z.identity=za,Z.includes=hf,Z.indexOf=vo,Z.inRange=ta,Z.invoke=Ch,Z.isArguments=_h,Z.isArray=vh,Z.isArrayBuffer=gh,Z.isArrayLike=Zf,Z.isArrayLikeObject=Kf,Z.isBoolean=Vf,Z.isBuffer=yh,Z.isDate=dh,Z.isElement=Gf,Z.isEmpty=Hf,Z.isEqual=Jf,Z.isEqualWith=Yf,Z.isError=Qf,Z.isFinite=Xf,Z.isFunction=nc,Z.isInteger=tc,Z.isLength=rc,Z.isMap=bh,Z.isMatch=ic,Z.isMatchWith=oc,Z.isNaN=fc,Z.isNative=cc,Z.isNil=lc,Z.isNull=ac,Z.isNumber=sc,Z.isObject=ec,Z.isObjectLike=uc,Z.isPlainObject=hc,Z.isRegExp=wh,Z.isSafeInteger=pc,Z.isSet=mh,Z.isString=_c,Z.isSymbol=vc,Z.isTypedArray=xh,Z.isUndefined=gc,Z.isWeakMap=yc,Z.isWeakSet=dc,Z.join=yo,Z.kebabCase=Nh,Z.last=bo,Z.lastIndexOf=wo,Z.lowerCase=Ph,Z.lowerFirst=qh,Z.lt=jh,Z.lte=Ah,Z.max=Va,Z.maxBy=Ga,Z.mean=Ha,Z.meanBy=Ja,Z.min=Ya,Z.minBy=Qa,Z.stubArray=$a,Z.stubFalse=Ma,Z.stubObject=Fa,Z.stubString=Na,Z.stubTrue=Pa,Z.multiply=lp,Z.nth=mo,Z.noConflict=Ca,Z.noop=Ua,Z.now=eh,Z.pad=ca,Z.padEnd=aa,Z.padStart=la,Z.parseInt=sa,Z.random=ra,Z.reduce=vf,Z.reduceRight=gf,Z.repeat=ha,Z.replace=pa,Z.result=Zc,Z.round=sp,Z.runInContext=p,Z.sample=df,Z.size=mf,Z.snakeCase=Zh,Z.some=xf,Z.sortedIndex=Ro,Z.sortedIndexBy=zo,Z.sortedIndexOf=Eo,Z.sortedLastIndex=So,Z.sortedLastIndexBy=Lo,Z.sortedLastIndexOf=Wo,Z.startCase=Kh,Z.startsWith=va,Z.subtract=hp,Z.sum=Xa,Z.sumBy=nl,Z.template=ga,Z.times=qa,Z.toFinite=wc,Z.toInteger=mc,Z.toLength=xc,Z.toLower=ya,Z.toNumber=jc,Z.toSafeInteger=kc,Z.toString=Oc,Z.toUpper=da,Z.trim=ba,Z.trimEnd=wa,Z.trimStart=ma,Z.truncate=xa,Z.unescape=ja,Z.uniqueId=Ka,Z.upperCase=Vh,Z.upperFirst=Gh,Z.each=lf,Z.eachRight=sf,Z.first=_o,Wa(Z,function(){var n={};return he(Z,function(t,r){vl.call(Z.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),Z.VERSION="4.17.21",r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Z[n].placeholder=Z}),r(["drop","take"],function(n,t){St.prototype[n]=function(r){r=r===X?1:ql(mc(r),0);var e=this.__filtered__&&!t?new St(this):this.clone();return e.__filtered__?e.__takeCount__=Zl(r,e.__takeCount__):e.__views__.push({size:Zl(r,Wn),type:n+(e.__dir__<0?"Right":"")}),e},St.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),r(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==In||3==r;St.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:di(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r(["head","last"],function(n,t){var r="take"+(t?"Right":"");St.prototype[n]=function(){return this[r](1).value()[0]}}),r(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");St.prototype[n]=function(){return this.__filtered__?new St(this):this[r](1)}}),St.prototype.compact=function(){return this.filter(za)},St.prototype.find=function(n){return this.filter(n).head()},St.prototype.findLast=function(n){return this.reverse().find(n)},St.prototype.invokeMap=tu(function(n,t){return"function"==typeof n?new St(this):this.map(function(r){return Ae(r,n,t)})}),St.prototype.reject=function(n){return this.filter(Sf(di(n)))},St.prototype.slice=function(n,t){n=mc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new St(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==X&&(t=mc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},St.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},St.prototype.toArray=function(){return this.take(Wn)},he(St.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=Z[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(Z.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof St,c=o[0],l=f||vh(t),s=function(n){var t=u.apply(Z,a([n],o));return e&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&l){t=v?t:new St(this);var g=n.apply(t,o);return g.__actions__.push({func:Jo,args:[s],thisArg:X}),new Y(g,h)}return _&&v?n.apply(this,o):(g=this.thru(s),_?e?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(n){var t=ll[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);Z.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(vh(u)?u:[],n)}return this[r](function(r){return t.apply(vh(r)?r:[],n)})}}),he(St.prototype,function(n,t){var r=Z[t];if(r){var e=r.name+"";vl.call(es,e)||(es[e]=[]),es[e].push({name:t,func:r})}}),es[Hu(X,_n).name]=[{name:"wrapper",func:X}],St.prototype.clone=Ut,St.prototype.reverse=Gt,St.prototype.value=Ht,Z.prototype.at=Gs,Z.prototype.chain=Yo,Z.prototype.commit=Qo,Z.prototype.next=Xo,Z.prototype.plant=tf,Z.prototype.reverse=rf,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=ef,Z.prototype.first=Z.prototype.head,Sl&&(Z.prototype[Sl]=nf),Z}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Rr._=qr,define(function(){return qr})):Er?((Er.exports=qr)._=qr,zr._=qr):Rr._=qr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(require,module,exports){"use strict";var keysShim;if(!Object.keys){var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArgs=require("./isArguments"),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(t){var o=t.constructor;return o&&o.prototype===t},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,
$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!excludedKeys["$"+t]&&has.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{equalsConstructorPrototype(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(t){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(t);try{return equalsConstructorPrototype(t)}catch(t){return!1}};keysShim=function(t){var o=null!==t&&"object"==typeof t,r="[object Function]"===toStr.call(t),e=isArgs(t),n=o&&"[object String]"===toStr.call(t),u=[];if(!o&&!r&&!e)throw new TypeError("Object.keys called on a non-object");var s=hasProtoEnumBug&&r;if(n&&t.length>0&&!has.call(t,0))for(var a=0;a<t.length;++a)u.push(String(a));if(e&&t.length>0)for(var l=0;l<t.length;++l)u.push(String(l));else for(var i in t)s&&"prototype"===i||!has.call(t,i)||u.push(String(i));if(hasDontEnumBug)for(var c=equalsConstructorPrototypeIfNotBuggy(t),p=0;p<dontEnums.length;++p)c&&"constructor"===dontEnums[p]||!has.call(t,dontEnums[p])||u.push(dontEnums[p]);return u}}module.exports=keysShim},{"./isArguments":51}],50:[function(require,module,exports){"use strict";var slice=Array.prototype.slice,isArgs=require("./isArguments"),origKeys=Object.keys,keysShim=origKeys?function(e){return origKeys(e)}:require("./implementation"),originalKeys=Object.keys;keysShim.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return originalKeys(isArgs(e)?slice.call(e):e)}):Object.keys=keysShim,Object.keys||keysShim},module.exports=keysShim},{"./implementation":49,"./isArguments":51}],51:[function(require,module,exports){"use strict";var toStr=Object.prototype.toString;module.exports=function(t){var e=toStr.call(t),o="[object Arguments]"===e;return o||(o="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===toStr.call(t.callee)),o}},{}],52:[function(require,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],53:[function(require,module,exports){(function(process,setImmediate){"use strict";function microtask(){if("undefined"!=typeof MutationObserver){var e=document.createTextNode(""),t=[],r=0;return new MutationObserver(function(){for(;t.length;)t.shift()()}).observe(e,{characterData:!0}),function(n){t.push(n),e.data=r=1-r}}return void 0!==setImmediate?setImmediate:void 0!==process?process.nextTick:setTimeout}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=microtask}).call(this,require("_process"),require("timers").setImmediate)},{_process:52,timers:89}],54:[function(require,module,exports){"use strict";function classNameFromVNode(e){var r=selectorParser_1.selectorParser(e).className,s=void 0===r?"":r;if(!e.data)return s;var a=e.data,t=a.class,o=a.props;return t&&(s+=" "+Object.keys(t).filter(function(e){return t[e]}).join(" ")),o&&o.className&&(s+=" "+o.className),s&&s.trim()}Object.defineProperty(exports,"__esModule",{value:!0});var selectorParser_1=require("./selectorParser");exports.classNameFromVNode=classNameFromVNode},{"./selectorParser":60}],55:[function(require,module,exports){"use strict";function curry2(r){return function(e,t){switch(arguments.length){case 0:return r;case 1:return function(t){return r(e,t)};default:return r(e,t)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.curry2=curry2},{}],56:[function(require,module,exports){"use strict";function findMatches(e,r){return r?(traverseVNode(r,addParent),query_1.querySelector(e,r)):[]}function traverseVNode(e,r){function t(e,a,n){for(var d=e.children&&e.children.length||0,o=0;o<d;++o){var i=e.children;i&&i[o]&&"string"!=typeof i[o]&&t(i[o],!1,e)}r(e,a,a?void 0:n)}t(e,!0)}function addParent(e,r,t){r||(e.data||(e.data={}),e.data[parent_symbol_1.default]||Object.defineProperty(e.data,parent_symbol_1.default,{value:t}))}Object.defineProperty(exports,"__esModule",{value:!0});var query_1=require("./query"),parent_symbol_1=require("./parent-symbol");exports.findMatches=findMatches},{"./parent-symbol":58,"./query":59}],57:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var curry2_1=require("./curry2"),findMatches_1=require("./findMatches");exports.select=curry2_1.curry2(findMatches_1.findMatches);var selectorParser_1=require("./selectorParser");exports.selectorParser=selectorParser_1.selectorParser;var classNameFromVNode_1=require("./classNameFromVNode");exports.classNameFromVNode=classNameFromVNode_1.classNameFromVNode},{"./classNameFromVNode":54,"./curry2":55,"./findMatches":56,"./selectorParser":60}],58:[function(require,module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var root;root="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:Function("return this")();var parentSymbol,Symbol=root.Symbol;parentSymbol="function"==typeof Symbol?Symbol("parent"):"@@snabbdom-selector-parent",exports.default=parentSymbol}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(require,module,exports){"use strict";function customMatches(e,r){var t=r.data,a=matches.bind(null,e);if(t&&t.fn){var s=void 0;return s=Array.isArray(t.args)?t.fn.apply(null,t.args):t.args?t.fn.call(null,t.args):t.fn(),!!a(s)&&s}return a(r)}Object.defineProperty(exports,"__esModule",{value:!0});var tree_selector_1=require("tree-selector"),selectorParser_1=require("./selectorParser"),classNameFromVNode_1=require("./classNameFromVNode"),parent_symbol_1=require("./parent-symbol"),options={tag:function(e){return selectorParser_1.selectorParser(e).tagName},className:function(e){return classNameFromVNode_1.classNameFromVNode(e)},id:function(e){return selectorParser_1.selectorParser(e).id||""},children:function(e){return e.children||[]},parent:function(e){return e.data[parent_symbol_1.default]||e},contents:function(e){return e.text||""},attr:function(e,r){if(e.data){var t=e.data,a=t.attrs,s=void 0===a?{}:a,o=t.props,n=void 0===o?{}:o,c=t.dataset,l=void 0===c?{}:c;if(s[r])return s[r];if(n[r])return n[r];if(0===r.indexOf("data-")&&l[r.slice(5)])return l[r.slice(5)]}}},matches=tree_selector_1.createMatches(options);exports.querySelector=tree_selector_1.createQuerySelector(options,customMatches)},{"./classNameFromVNode":54,"./parent-symbol":58,"./selectorParser":60,"tree-selector":90}],60:[function(require,module,exports){"use strict";function selectorParser(e){if(!e.sel)return{tagName:"",id:"",className:""};var r=e.sel,s=r.indexOf("#"),t=r.indexOf(".",s),a=s>0?s:r.length,l=t>0?t:r.length;return{tagName:-1!==s||-1!==t?r.slice(0,Math.min(a,l)):r,id:a<l?r.slice(a+1,l):void 0,className:t>0?r.slice(l+1).replace(/\./g," "):void 0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectorParser=selectorParser},{}],61:[function(require,module,exports){"use strict";function addNS(i,e,r){if(i.ns="http://www.w3.org/2000/svg","foreignObject"!==r&&void 0!==e)for(var d=0;d<e.length;++d){var o=e[d].data;void 0!==o&&addNS(o,e[d].children,e[d].sel)}}function h(i,e,r){var d,o,v,t={};if(void 0!==r?(t=e,is.array(r)?d=r:is.primitive(r)?o=r:r&&r.sel&&(d=[r])):void 0!==e&&(is.array(e)?d=e:is.primitive(e)?o=e:e&&e.sel?d=[e]:t=e),void 0!==d)for(v=0;v<d.length;++v)is.primitive(d[v])&&(d[v]=vnode_1.vnode(void 0,void 0,void 0,d[v],void 0));return"s"!==i[0]||"v"!==i[1]||"g"!==i[2]||3!==i.length&&"."!==i[3]&&"#"!==i[3]||addNS(t,d,i),vnode_1.vnode(i,t,d,o,void 0)}Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=require("./vnode"),is=require("./is");exports.h=h,exports.default=h},{"./is":63,"./vnode":72}],62:[function(require,module,exports){"use strict";function createElement(e){return document.createElement(e)}function createElementNS(e,t){return document.createElementNS(e,t)}function createTextNode(e){return document.createTextNode(e)}function createComment(e){return document.createComment(e)}function insertBefore(e,t,n){e.insertBefore(t,n)}function removeChild(e,t){e.removeChild(t)}function appendChild(e,t){e.appendChild(t)}function parentNode(e){return e.parentNode}function nextSibling(e){return e.nextSibling}function tagName(e){return e.tagName}function setTextContent(e,t){e.textContent=t}function getTextContent(e){return e.textContent}function isElement(e){return 1===e.nodeType}function isText(e){return 3===e.nodeType}function isComment(e){return 8===e.nodeType}Object.defineProperty(exports,"__esModule",{value:!0}),exports.htmlDomApi={createElement:createElement,createElementNS:createElementNS,createTextNode:createTextNode,createComment:createComment,insertBefore:insertBefore,removeChild:removeChild,appendChild:appendChild,parentNode:parentNode,nextSibling:nextSibling,tagName:tagName,setTextContent:setTextContent,getTextContent:getTextContent,isElement:isElement,isText:isText,isComment:isComment},exports.default=exports.htmlDomApi},{}],63:[function(require,module,exports){"use strict";function primitive(r){return"string"==typeof r||"number"==typeof r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.array=Array.isArray,exports.primitive=primitive},{}],64:[function(require,module,exports){"use strict";function updateAttrs(t,e){var r,a=e.elm,o=t.data.attrs,s=e.data.attrs;if((o||s)&&o!==s){o=o||{},s=s||{};for(r in s){var u=s[r];o[r]!==u&&(!0===u?a.setAttribute(r,""):!1===u?a.removeAttribute(r):r.charCodeAt(0)!==xChar?a.setAttribute(r,u):r.charCodeAt(3)===colonChar?a.setAttributeNS(xmlNS,r,u):r.charCodeAt(5)===colonChar?a.setAttributeNS(xlinkNS,r,u):a.setAttribute(r,u))}for(r in o)r in s||a.removeAttribute(r)}}Object.defineProperty(exports,"__esModule",{value:!0});var xlinkNS="http://www.w3.org/1999/xlink",xmlNS="http://www.w3.org/XML/1998/namespace",colonChar=58,xChar=120;exports.attributesModule={create:updateAttrs,update:updateAttrs},exports.default=exports.attributesModule},{}],65:[function(require,module,exports){"use strict";function updateClass(s,e){var a,t,l=e.elm,d=s.data.class,o=e.data.class;if((d||o)&&d!==o){d=d||{},o=o||{};for(t in d)o[t]||l.classList.remove(t);for(t in o)(a=o[t])!==d[t]&&l.classList[a?"add":"remove"](t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.classModule={create:updateClass,update:updateClass},exports.default=exports.classModule},{}],66:[function(require,module,exports){"use strict";function updateDataset(e,t){var a,r=t.elm,d=e.data.dataset,s=t.data.dataset;if((d||s)&&d!==s){d=d||{},s=s||{};var o=r.dataset;for(a in d)s[a]||(o?a in o&&delete o[a]:r.removeAttribute("data-"+a.replace(CAPS_REGEX,"-$&").toLowerCase()));for(a in s)d[a]!==s[a]&&(o?o[a]=s[a]:r.setAttribute("data-"+a.replace(CAPS_REGEX,"-$&").toLowerCase(),s[a]))}}Object.defineProperty(exports,"__esModule",{value:!0});var CAPS_REGEX=/[A-Z]/g;exports.datasetModule={create:updateDataset,update:updateDataset},exports.default=exports.datasetModule},{}],67:[function(require,module,exports){"use strict";function updateProps(e,p){var o,r,t=p.elm,s=e.data.props,a=p.data.props;if((s||a)&&s!==a){s=s||{},a=a||{};for(o in s)a[o]||delete t[o];for(o in a)r=a[o],s[o]===r||"value"===o&&t[o]===r||(t[o]=r)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.propsModule={create:updateProps,update:updateProps},exports.default=exports.propsModule},{}],68:[function(require,module,exports){"use strict";function setNextFrame(e,t,r){nextFrame(function(){e[t]=r})}function updateStyle(e,t){var r,o,l=t.elm,a=e.data.style,n=t.data.style;if((a||n)&&a!==n){a=a||{},n=n||{};var d="delayed"in a;for(o in a)n[o]||("-"===o[0]&&"-"===o[1]?l.style.removeProperty(o):l.style[o]="");for(o in n)if(r=n[o],"delayed"===o&&n.delayed)for(var y in n.delayed)r=n.delayed[y],d&&r===a.delayed[y]||setNextFrame(l.style,y,r);else"remove"!==o&&r!==a[o]&&("-"===o[0]&&"-"===o[1]?l.style.setProperty(o,r):l.style[o]=r)}}function applyDestroyStyle(e){var t,r,o=e.elm,l=e.data.style;if(l&&(t=l.destroy))for(r in t)o.style[r]=t[r]}function applyRemoveStyle(e,t){var r=e.data.style;if(!r||!r.remove)return void t();reflowForced||(e.elm.offsetLeft,reflowForced=!0);var o,l,a=e.elm,n=0,d=r.remove,y=0,f=[];for(o in d)f.push(o),a.style[o]=d[o];l=getComputedStyle(a);for(var i=l["transition-property"].split(", ");n<i.length;++n)-1!==f.indexOf(i[n])&&y++;a.addEventListener("transitionend",function(e){e.target===a&&--y,0===y&&t()})}function forceReflow(){reflowForced=!1}Object.defineProperty(exports,"__esModule",{value:!0});var raf="undefined"!=typeof window&&window.requestAnimationFrame.bind(window)||setTimeout,nextFrame=function(e){raf(function(){raf(e)})},reflowForced=!1;exports.styleModule={pre:forceReflow,create:updateStyle,update:updateStyle,destroy:applyDestroyStyle,remove:applyRemoveStyle},exports.default=exports.styleModule},{}],69:[function(require,module,exports){"use strict";function isUndef(e){return void 0===e}function isDef(e){return void 0!==e}function sameVnode(e,t){return e.key===t.key&&e.sel===t.sel}function isVnode(e){return void 0!==e.sel}function createKeyToOldIdx(e,t,i){var n,o,r,l={};for(n=t;n<=i;++n)null!=(r=e[n])&&void 0!==(o=r.key)&&(l[o]=n);return l}function init(e,t){function i(e){var t=e.id?"#"+e.id:"",i=e.className?"."+e.className.split(" ").join("."):"";return vnode_1.default(m.tagName(e).toLowerCase()+t+i,{},[],void 0,e)}function n(e,t){return function(){if(0==--t){var i=m.parentNode(e);m.removeChild(i,e)}}}function o(e,t){var i,n=e.data;void 0!==n&&isDef(i=n.hook)&&isDef(i=i.init)&&(i(e),n=e.data);var r=e.children,l=e.sel;if("!"===l)isUndef(e.text)&&(e.text=""),e.elm=m.createComment(e.text);else if(void 0!==l){var s=l.indexOf("#"),d=l.indexOf(".",s),f=s>0?s:l.length,a=d>0?d:l.length,u=-1!==s||-1!==d?l.slice(0,Math.min(f,a)):l,v=e.elm=isDef(n)&&isDef(i=n.ns)?m.createElementNS(i,u):m.createElement(u);for(f<a&&v.setAttribute("id",l.slice(f+1,a)),d>0&&v.setAttribute("class",l.slice(a+1).replace(/\./g," ")),i=0;i<h.create.length;++i)h.create[i](emptyNode,e);if(is.array(r))for(i=0;i<r.length;++i){var c=r[i];null!=c&&m.appendChild(v,o(c,t))}else is.primitive(e.text)&&m.appendChild(v,m.createTextNode(e.text));i=e.data.hook,isDef(i)&&(i.create&&i.create(emptyNode,e),i.insert&&t.push(e))}else e.elm=m.createTextNode(e.text);return e.elm}function r(e,t,i,n,r,l){for(;n<=r;++n){var s=i[n];null!=s&&m.insertBefore(e,o(s,l),t)}}function l(e){var t,i,n=e.data;if(void 0!==n){for(isDef(t=n.hook)&&isDef(t=t.destroy)&&t(e),t=0;t<h.destroy.length;++t)h.destroy[t](e);if(void 0!==e.children)for(i=0;i<e.children.length;++i)null!=(t=e.children[i])&&"string"!=typeof t&&l(t)}}function s(e,t,i,o){for(;i<=o;++i){var r=void 0,s=void 0,d=void 0,f=t[i];if(null!=f)if(isDef(f.sel)){for(l(f),s=h.remove.length+1,d=n(f.elm,s),r=0;r<h.remove.length;++r)h.remove[r](f,d);isDef(r=f.data)&&isDef(r=r.hook)&&isDef(r=r.remove)?r(f,d):d()}else m.removeChild(e,f.elm)}}function d(e,t,i,n){for(var l,d,a,u,h=0,v=0,c=t.length-1,p=t[0],x=t[c],D=i.length-1,g=i[0],k=i[D];h<=c&&v<=D;)null==p?p=t[++h]:null==x?x=t[--c]:null==g?g=i[++v]:null==k?k=i[--D]:sameVnode(p,g)?(f(p,g,n),p=t[++h],g=i[++v]):sameVnode(x,k)?(f(x,k,n),x=t[--c],k=i[--D]):sameVnode(p,k)?(f(p,k,n),m.insertBefore(e,p.elm,m.nextSibling(x.elm)),p=t[++h],k=i[--D]):sameVnode(x,g)?(f(x,g,n),m.insertBefore(e,x.elm,p.elm),x=t[--c],g=i[++v]):(void 0===l&&(l=createKeyToOldIdx(t,h,c)),d=l[g.key],isUndef(d)?(m.insertBefore(e,o(g,n),p.elm),g=i[++v]):(a=t[d],a.sel!==g.sel?m.insertBefore(e,o(g,n),p.elm):(f(a,g,n),t[d]=void 0,m.insertBefore(e,a.elm,p.elm)),g=i[++v]));(h<=c||v<=D)&&(h>c?(u=null==i[D+1]?null:i[D+1].elm,r(e,u,i,v,D,n)):s(e,t,h,c))}function f(e,t,i){var n,o;isDef(n=t.data)&&isDef(o=n.hook)&&isDef(n=o.prepatch)&&n(e,t);var l=t.elm=e.elm,f=e.children,a=t.children;if(e!==t){if(void 0!==t.data){for(n=0;n<h.update.length;++n)h.update[n](e,t);n=t.data.hook,isDef(n)&&isDef(n=n.update)&&n(e,t)}isUndef(t.text)?isDef(f)&&isDef(a)?f!==a&&d(l,f,a,i):isDef(a)?(isDef(e.text)&&m.setTextContent(l,""),r(l,null,a,0,a.length-1,i)):isDef(f)?s(l,f,0,f.length-1):isDef(e.text)&&m.setTextContent(l,""):e.text!==t.text&&(isDef(f)&&s(l,f,0,f.length-1),m.setTextContent(l,t.text)),isDef(o)&&isDef(n=o.postpatch)&&n(e,t)}}var a,u,h={},m=void 0!==t?t:htmldomapi_1.default;for(a=0;a<hooks.length;++a)for(h[hooks[a]]=[],u=0;u<e.length;++u){var v=e[u][hooks[a]];void 0!==v&&h[hooks[a]].push(v)}return function(e,t){var n,r,l,d=[];for(n=0;n<h.pre.length;++n)h.pre[n]();for(isVnode(e)||(e=i(e)),sameVnode(e,t)?f(e,t,d):(r=e.elm,l=m.parentNode(r),o(t,d),null!==l&&(m.insertBefore(l,t.elm,m.nextSibling(r)),s(l,[e],0,0))),n=0;n<d.length;++n)d[n].data.hook.insert(d[n]);for(n=0;n<h.post.length;++n)h.post[n]();return t}}Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=require("./vnode"),is=require("./is"),htmldomapi_1=require("./htmldomapi"),emptyNode=vnode_1.default("",{},[],void 0,void 0),hooks=["create","update","remove","destroy","pre","post"],h_1=require("./h");exports.h=h_1.h;var thunk_1=require("./thunk");exports.thunk=thunk_1.thunk,exports.init=init},{"./h":61,"./htmldomapi":62,"./is":63,"./thunk":70,"./vnode":72}],70:[function(require,module,exports){"use strict";function copyToThunk(t,a){a.elm=t.elm,t.data.fn=a.data.fn,t.data.args=a.data.args,a.data=t.data,a.children=t.children,a.text=t.text,a.elm=t.elm}function init(t){var a=t.data;copyToThunk(a.fn.apply(void 0,a.args),t)}function prepatch(t,a){var n,e=t.data,o=a.data,r=e.args,i=o.args;if(e.fn!==o.fn||r.length!==i.length)return void copyToThunk(o.fn.apply(void 0,i),a);for(n=0;n<i.length;++n)if(r[n]!==i[n])return void copyToThunk(o.fn.apply(void 0,i),a);copyToThunk(t,a)}Object.defineProperty(exports,"__esModule",{value:!0});var h_1=require("./h");exports.thunk=function(t,a,n,e){return void 0===e&&(e=n,n=a,a=void 0),h_1.h(t,{key:a,hook:{init:init,prepatch:prepatch},fn:n,args:e})},exports.default=exports.thunk},{"./h":61}],71:[function(require,module,exports){"use strict";function toVNode(e,t){var o,d=void 0!==t?t:htmldomapi_1.default;if(d.isElement(e)){var i,r=e.id?"#"+e.id:"",a=e.getAttribute("class"),n=a?"."+a.split(" ").join("."):"",l=d.tagName(e).toLowerCase()+r+n,s={},u=[],v=void 0,f=void 0,m=e.attributes,p=e.childNodes;for(v=0,f=m.length;v<f;v++)"id"!==(i=m[v].nodeName)&&"class"!==i&&(s[i]=m[v].nodeValue);for(v=0,f=p.length;v<f;v++)u.push(toVNode(p[v],t));return vnode_1.default(l,{attrs:s},u,void 0,e)}return d.isText(e)?(o=d.getTextContent(e),vnode_1.default(void 0,void 0,void 0,o,e)):d.isComment(e)?(o=d.getTextContent(e),vnode_1.default("!",{},[],o,e)):vnode_1.default("",{},[],void 0,e)}Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=require("./vnode"),htmldomapi_1=require("./htmldomapi");exports.toVNode=toVNode,exports.default=toVNode},{"./htmldomapi":62,"./vnode":72}],72:[function(require,module,exports){"use strict";function vnode(e,t,o,d,n){return{sel:e,data:t,children:o,text:d,elm:n,key:void 0===t?void 0:t.key}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vnode=vnode,exports.default=vnode},{}],73:[function(require,module,exports){function Agent(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){Agent.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),Agent.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},module.exports=Agent},{}],74:[function(require,module,exports){function noop(){}function serialize(e){if(!isObject(e))return e;var t=[];for(var r in e)pushEncodedKeyValuePair(t,r,e[r]);return t.join("&")}function pushEncodedKeyValuePair(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){pushEncodedKeyValuePair(e,t,r)});else if(isObject(r))for(var s in r)pushEncodedKeyValuePair(e,t+"["+s+"]",r[s]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function parseString(e){for(var t,r,s={},n=e.split("&"),o=0,i=n.length;o<i;++o)t=n[o],r=t.indexOf("="),-1==r?s[decodeURIComponent(t)]="":s[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return s}function parseHeader(e){for(var t,r,s,n,o=e.split(/\r?\n/),i={},u=0,a=o.length;u<a;++u)r=o[u],-1!==(t=r.indexOf(":"))&&(s=r.slice(0,t).toLowerCase(),n=trim(r.slice(t+1)),i[s]=n);return i}function isJSON(e){return/[\/+]json($|[^-\w])/.test(e)}function Response(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function Request(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new Response(r)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",t);var s;try{r._isResponseOK(t)||(s=new Error(t.statusText||"Unsuccessful HTTP response"))}catch(e){s=e}s?(s.original=e,s.response=t,s.status=t.status,r.callback(s,t)):r.callback(null,t)})}function del(e,t,r){var s=request("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s}var root;"undefined"!=typeof window?root=window:"undefined"!=typeof self?root=self:(console.warn("Using browser-only version of superagent in non-browser environment"),root=this);var Emitter=require("component-emitter"),RequestBase=require("./request-base"),isObject=require("./is-object"),ResponseBase=require("./response-base"),Agent=require("./agent-base"),request=exports=module.exports=function(e,t){return"function"==typeof t?new exports.Request("GET",e).end(t):1==arguments.length?new exports.Request("GET",e):new exports.Request(e,t)};exports.Request=Request,request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var trim="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},ResponseBase(Response.prototype),Response.prototype._parseBody=function(e){var t=request.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&isJSON(this.type)&&(t=request.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},Response.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,s="cannot "+t+" "+r+" ("+this.status+")",n=new Error(s);return n.status=this.status,n.method=t,n.url=r,n},request.Response=Response,Emitter(Request.prototype),RequestBase(Request.prototype),Request.prototype.type=function(e){return this.set("Content-Type",request.types[e]||e),this},Request.prototype.accept=function(e){return this.set("Accept",request.types[e]||e),this},Request.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var s=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,s)},Request.prototype.query=function(e){return"string"!=typeof e&&(e=serialize(e)),e&&this._query.push(e),this},Request.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},Request.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},Request.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},Request.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||noop,this._finalizeQueryString(),this._end()},Request.prototype._end=function(){var e=this,t=this.xhr=request.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var s;try{s=t.status}catch(e){s=0}if(!s){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var s=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.onprogress=s.bind(null,"download"),t.upload&&(t.upload.onprogress=s.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var n=this._header["content-type"],o=this._serializer||request.serialize[n?n.split(";")[0]:""];!o&&isJSON(n)&&(o=request.serialize["application/json"]),o&&(r=o(r))}for(var i in this.header)null!=this.header[i]&&this.header.hasOwnProperty(i)&&t.setRequestHeader(i,this.header[i]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==r?r:null),this},request.agent=function(){return new Agent},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){Agent.prototype[e.toLowerCase()]=function(t,r){var s=new request.Request(e,t);return this._setDefaults(s),r&&s.end(r),s}}),Agent.prototype.del=Agent.prototype.delete,request.get=function(e,t,r){var s=request("GET",e);return"function"==typeof t&&(r=t,t=null),t&&s.query(t),r&&s.end(r),s},request.head=function(e,t,r){var s=request("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&s.query(t),r&&s.end(r),s},request.options=function(e,t,r){var s=request("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.del=del,request.delete=del,request.patch=function(e,t,r){var s=request("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.post=function(e,t,r){var s=request("POST",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.put=function(e,t,r){var s=request("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s}},{"./agent-base":73,"./is-object":75,"./request-base":76,"./response-base":77,"component-emitter":42}],75:[function(require,module,exports){"use strict";function isObject(t){return null!==t&&"object"==typeof t}module.exports=isObject},{}],76:[function(require,module,exports){"use strict";function RequestBase(t){if(t)return mixin(t)}function mixin(t){for(var e in RequestBase.prototype)t[e]=RequestBase.prototype[e];return t}var isObject=require("./is-object");module.exports=RequestBase,RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),
delete this._timer,delete this._responseTimeoutTimer,this},RequestBase.prototype.parse=function(t){return this._parser=t,this},RequestBase.prototype.responseType=function(t){return this._responseType=t,this},RequestBase.prototype.serialize=function(t){return this._serializer=t,this},RequestBase.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},RequestBase.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var ERROR_CODES=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];RequestBase.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var s=this._retryCallback(t,e);if(!0===s)return!0;if(!1===s)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~ERROR_CODES.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},RequestBase.prototype.then=function(t,e){if(!this._fullfilledPromise){var s=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){s.end(function(s,i){s?e(s):t(i)})})}return this._fullfilledPromise.then(t,e)},RequestBase.prototype.catch=function(t){return this.then(void 0,t)},RequestBase.prototype.use=function(t){return t(this),this},RequestBase.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},RequestBase.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},RequestBase.prototype.get=function(t){return this._header[t.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(t,e){if(isObject(t)){for(var s in t)this.set(s,t[s]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},RequestBase.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},RequestBase.prototype.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),isObject(t)){for(var s in t)this.field(s,t[s]);return this}if(Array.isArray(e)){for(var i in e)this.field(t,e[i]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},RequestBase.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},RequestBase.prototype._auth=function(t,e,s,i){switch(s.type){case"basic":this.set("Authorization","Basic "+i(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},RequestBase.prototype.withCredentials=function(t){return void 0==t&&(t=!0),this._withCredentials=t,this},RequestBase.prototype.redirects=function(t){return this._maxRedirects=t,this},RequestBase.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(t){var e=isObject(t),s=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&isObject(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(s||this.type("form"),s=this._header["content-type"],this._data="application/x-www-form-urlencoded"==s?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(s||this.type("json"),this)},RequestBase.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},RequestBase.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var s=this.url.substring(e+1).split("&");"function"==typeof this._sort?s.sort(this._sort):s.sort(),this.url=this.url.substring(0,e)+"?"+s.join("&")}}},RequestBase.prototype._appendQueryString=function(){console.trace("Unsupported")},RequestBase.prototype._timeoutError=function(t,e,s){if(!this._aborted){var i=new Error(t+e+"ms exceeded");i.timeout=e,i.code="ECONNABORTED",i.errno=s,this.timedout=!0,this.abort(),this.callback(i)}},RequestBase.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":75}],77:[function(require,module,exports){"use strict";function ResponseBase(t){if(t)return mixin(t)}function mixin(t){for(var s in ResponseBase.prototype)t[s]=ResponseBase.prototype[s];return t}var utils=require("./utils");module.exports=ResponseBase,ResponseBase.prototype.get=function(t){return this.header[t.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(t){var s=t["content-type"]||"";this.type=utils.type(s);var e=utils.params(s);for(var i in e)this[i]=e[i];this.links={};try{t.link&&(this.links=utils.parseLinks(t.link))}catch(t){}},ResponseBase.prototype._setStatusProperties=function(t){var s=t/100|0;this.status=this.statusCode=t,this.statusType=s,this.info=1==s,this.ok=2==s,this.redirect=3==s,this.clientError=4==s,this.serverError=5==s,this.error=(4==s||5==s)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},{"./utils":78}],78:[function(require,module,exports){"use strict";exports.type=function(e){return e.split(/ *; */).shift()},exports.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},exports.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},exports.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},{}],79:[function(require,module,exports){"use strict";function symbolObservablePonyfill(e){var b,l=e.Symbol;if("function"==typeof l)if(l.observable)b=l.observable;else{b=l.for("https://github.com/benlesh/symbol-observable");try{l.observable=b}catch(e){}}else b="@@observable";return b}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=symbolObservablePonyfill},{}],80:[function(require,module,exports){module.exports=require("./lib/ponyfill")},{"./lib/ponyfill":79}],81:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var date_1=require("./utils/date"),register_1=require("./register");exports.format=function(e,r,t){var a=date_1.diffSec(e,t&&t.relativeDate);return date_1.formatDiff(a,register_1.getLocale(r))}},{"./register":86,"./utils/date":87}],82:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var en_US_1=__importDefault(require("./lang/en_US")),zh_CN_1=__importDefault(require("./lang/zh_CN")),register_1=require("./register");exports.register=register_1.register,register_1.register("en_US",en_US_1.default),register_1.register("zh_CN",zh_CN_1.default);var format_1=require("./format");exports.format=format_1.format;var realtime_1=require("./realtime");exports.render=realtime_1.render,exports.cancel=realtime_1.cancel},{"./format":81,"./lang/en_US":83,"./lang/zh_CN":84,"./realtime":85,"./register":86}],83:[function(require,module,exports){"use strict";function default_1(e,t){if(0===t)return["just now","right now"];var r=EN_US[Math.floor(t/2)];return e>1&&(r+="s"),[e+" "+r+" ago","in "+e+" "+r]}Object.defineProperty(exports,"__esModule",{value:!0});var EN_US=["second","minute","hour","day","week","month","year"];exports.default=default_1},{}],84:[function(require,module,exports){"use strict";function default_1(e,t){if(0===t)return["刚刚","片刻后"];var r=ZH_CN[~~(t/2)];return[e+" "+r+"前",e+" "+r+"后"]}Object.defineProperty(exports,"__esModule",{value:!0});var ZH_CN=["秒","分钟","小时","天","周","个月","年"];exports.default=default_1},{}],85:[function(require,module,exports){"use strict";function run(e,r,t,n){clear(dom_1.getTimerId(e));var a=n.relativeDate,i=n.minInterval,c=date_1.diffSec(r,a);e.innerText=date_1.formatDiff(c,t);var o=setTimeout(function(){run(e,r,t,n)},Math.min(1e3*Math.max(date_1.nextInterval(c),i||1),2147483647));TIMER_POOL[o]=0,dom_1.setTimerId(e,o)}function cancel(e){e?clear(dom_1.getTimerId(e)):Object.keys(TIMER_POOL).forEach(clear)}function render(e,r,t){var n=e.length?e:[e];return n.forEach(function(e){run(e,dom_1.getDateAttribute(e),register_1.getLocale(r),t||{})}),n}Object.defineProperty(exports,"__esModule",{value:!0});var dom_1=require("./utils/dom"),date_1=require("./utils/date"),register_1=require("./register"),TIMER_POOL={},clear=function(e){clearTimeout(e),delete TIMER_POOL[e]};exports.cancel=cancel,exports.render=render},{"./register":86,"./utils/date":87,"./utils/dom":88}],86:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Locales={};exports.register=function(e,o){Locales[e]=o},exports.getLocale=function(e){return Locales[e]||Locales.en_US}},{}],87:[function(require,module,exports){"use strict";function toDate(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function formatDiff(e,t){var r=e<0?1:0;e=Math.abs(e);for(var a=e,n=0;e>=SEC_ARRAY[n]&&n<SEC_ARRAY.length;n++)e/=SEC_ARRAY[n];return e=Math.floor(e),n*=2,e>(0===n?9:1)&&(n+=1),t(e,n,a)[r].replace("%s",e.toString())}function diffSec(e,t){return(+(t?toDate(t):new Date)-+toDate(e))/1e3}function nextInterval(e){for(var t=1,r=0,a=Math.abs(e);e>=SEC_ARRAY[r]&&r<SEC_ARRAY.length;r++)e/=SEC_ARRAY[r],t*=SEC_ARRAY[r];return a%=t,a=a?t-a:t,Math.ceil(a)}Object.defineProperty(exports,"__esModule",{value:!0});var SEC_ARRAY=[60,60,24,7,365/7/12,12];exports.toDate=toDate,exports.formatDiff=formatDiff,exports.diffSec=diffSec,exports.nextInterval=nextInterval},{}],88:[function(require,module,exports){"use strict";function getDateAttribute(t){return t.getAttribute("datetime")}function setTimerId(t,e){t.setAttribute(ATTR_TIMEAGO_TID,e)}function getTimerId(t){return parseInt(t.getAttribute(ATTR_TIMEAGO_TID))}Object.defineProperty(exports,"__esModule",{value:!0});var ATTR_TIMEAGO_TID="timeago-id";exports.getDateAttribute=getDateAttribute,exports.setTimerId=setTimerId,exports.getTimerId=getTimerId},{}],89:[function(require,module,exports){(function(setImmediate,clearImmediate){function Timeout(e,t){this._id=e,this._clearFn=t}var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]}}).call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":52,timers:89}],90:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}(require("./selectorParser"));var matches_1=require("./matches");exports.createMatches=matches_1.createMatches;var querySelector_1=require("./querySelector");exports.createQuerySelector=querySelector_1.createQuerySelector},{"./matches":91,"./querySelector":92,"./selectorParser":93}],91:[function(require,module,exports){"use strict";function createMatches(e){return function(r,t){var n="object"==typeof r?r:selectorParser_1.parseSelector(r),i=n.tag,a=n.id,s=n.classList,f=n.attributes,o=n.nextSelector,c=n.pseudos;if(void 0!==o)throw new Error("matches can only process selectors that target a single element");if(!t)return!1;if(i&&i.toLowerCase()!==e.tag(t).toLowerCase())return!1;if(a&&a!==e.id(t))return!1;for(var u=e.className(t).split(" "),l=0;l<s.length;l++)if(-1===u.indexOf(s[l]))return!1;for(var d in f){var h=e.attr(t,d),p=f[d][0],v=f[d][1];if(void 0===h)return!1;if("has"===p)return!0;if("exact"===p&&h!==v)return!1;if("exact"!==p){if("string"!=typeof v)throw new Error("All non-string values have to be an exact match");if("startsWith"===p&&!h.startsWith(v))return!1;if("endsWith"===p&&!h.endsWith(v))return!1;if("contains"===p&&-1===h.indexOf(v))return!1;if("whitespace"===p&&-1===h.split(" ").indexOf(v))return!1;if("dash"===p&&-1===h.split("-").indexOf(v))return!1}}for(var l=0;l<c.length;l++){var x=c[l],p=x[0],g=x[1];if("contains"===p&&g!==e.contents(t))return!1;if("empty"===p&&(e.contents(t)||0!==e.children(t).length))return!1;if("root"===p&&void 0!==e.parent(t))return!1;if(-1!==p.indexOf("child")){if(!e.parent(t))return!1;var O=e.children(e.parent(t));if("first-child"===p&&0!==O.indexOf(t))return!1;if("last-child"===p&&O.indexOf(t)!==O.length-1)return!1;if("nth-child"===p){var w=/([\+-]?)(\d*)(n?)(\+\d+)?/,m=w.exec(g).slice(1),y=O.indexOf(t);m[0]||(m[0]="+");var b=m[1]?parseInt(m[0]+m[1]):void 0,M=parseInt(m[3]||"0");if(b&&"n"===m[2]&&y%b!==M)return!1;if(!b&&m[2]&&("+"===m[0]&&y-M<0||"-"===m[0]&&y-M>=0))return!1;if(!m[2]&&b&&y!==b-1)return!1}}}return!0}}Object.defineProperty(exports,"__esModule",{value:!0});var selectorParser_1=require("./selectorParser");exports.createMatches=createMatches},{"./selectorParser":93}],92:[function(require,module,exports){"use strict";function createQuerySelector(e,r){function t(r,n,o){if(!o)return[];var u=c(r,o),i=u?"object"==typeof u?[u]:[o]:[];if(0===n)return i;var a=e.children(o).filter(function(e){return"string"!=typeof e}).map(function(e){return t(r,n-1,e)}).reduce(function(e,r){return e.concat(r)},[]);return i.concat(a)}function n(r,t,n){if(!n||void 0===e.parent(n))return[];for(var o=[],u=e.children(e.parent(n)),i=u.indexOf(n)+1;i<u.length;i++)if("string"!=typeof u[i]){var a=c(r,u[i]);if(a&&("object"==typeof a?o.push(a):o.push(u[i])),t)break}return o}var c=r||matches_1.createMatches(e);return function(e,r){if(!r)return[];var c="object"==typeof e?e:selectorParser_1.parseSelector(e),o=[r],u=c,i="subtree",a=void 0;do{!function(){if(a=u.nextSelector,u.nextSelector=void 0,"subtree"===i||"child"===i){var e="subtree"===i?1/0:1;o=o.map(function(r){return t(u,e,r)}).reduce(function(e,r){return e.concat(r)},[])}else{var r="nextSibling"===i;o=o.map(function(e){return n(u,r,e)}).reduce(function(e,r){return e.concat(r)},[])}a&&(u=a[1],i=a[0])}()}while(void 0!==a);return o}}Object.defineProperty(exports,"__esModule",{value:!0});var selectorParser_1=require("./selectorParser"),matches_1=require("./matches");exports.createQuerySelector=createQuerySelector},{"./matches":91,"./selectorParser":93}],93:[function(require,module,exports){"use strict";function parseSelector(t){var e=t.trim(),r=new RegExp(TAG,"y"),n=r.exec(e)[0],s=new RegExp(TOKENS,"y");s.lastIndex=r.lastIndex;for(var i=[],a=void 0,o=void 0,c=-1;s.lastIndex<e.length;){var u=s.exec(e);if(!u&&void 0===o)throw new Error("Parse error, invalid selector");if(u&&combinatorRegex.test(u[0]))o=combinatorRegex.exec(u[0])[0],c=s.lastIndex;else{if(void 0!==o){a=[getCombinator(o),parseSelector(e.substring(c))];break}i.push(u[0])}}var l=i.filter(function(t){return t.startsWith(".")}).map(function(t){return t.substring(1)}),f=i.filter(function(t){return t.startsWith("#")}).map(function(t){return t.substring(1)});if(f.length>1)throw new Error("Invalid selector, only one id is allowed");var E=new RegExp("("+IDENT+")"+SPACE+"("+OP+")?"+SPACE+"("+VALUE+")?"),d=i.filter(function(t){return t.startsWith("[")}).map(function(t){return E.exec(t).slice(1,4)}).map(function(t){var e=t[0],r=t[1],n=t[2];return s={},s[e]=[getOp(r),n?parseAttrValue(n):n],s;var s}).reduce(function(t,e){return __assign({},t,e)},{}),S=i.filter(function(t){return t.startsWith(":")}).map(function(t){return postProcessPseudos(t.substring(1))});return{id:f[0]||"",tag:n,classList:l,attributes:d,nextSelector:a,pseudos:S}}function parseAttrValue(t){if(t.startsWith('"'))return t.slice(1,-1);if("true"===t)return!0;if("false"===t)return!1;var e=parseFloat(t);return isNaN(e)?t:e}function postProcessPseudos(t){if("first-child"===t||"last-child"===t||"root"===t||"empty"===t)return[t,void 0];if(t.startsWith("contains"))return["contains",t.slice(10,-2)];var e=t.slice(10,-1);return"even"===e&&(e="2n"),"odd"===e&&(e="2n+1"),["nth-child",e]}function getOp(t){switch(t){case"=":return"exact";case"^=":return"startsWith";case"$=":return"endsWith";case"*=":return"contains";case"~=":return"whitespace";case"|=":return"dash";default:return"has"}}function getCombinator(t){switch(t.trim()){case">":return"child";case"+":return"nextSibling";case"~":return"sibling";default:return"subtree"}}var __assign=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var IDENT="[\\w-]+",SPACE="[ \t]*",VALUE="[^\\]]+",CLASS="(?:\\."+IDENT+")",ID="(?:#"+IDENT+")",OP="(?:=|\\$=|\\^=|\\*=|~=|\\|=)",ATTR="(?:\\["+SPACE+IDENT+SPACE+"(?:"+OP+SPACE+VALUE+SPACE+")?\\])",CHILD="(?:"+SPACE+"(>)"+SPACE+")",NEXT_SIBLING="(?:"+SPACE+"(\\+)"+SPACE+")",SIBLING="(?:"+SPACE+"(~)"+SPACE+")",COMBINATOR="(?:(?:[ \t]+)|"+CHILD+"|"+NEXT_SIBLING+"|"+SIBLING+")",TAG="(:?"+IDENT+")?",TOKENS=CLASS+"|"+ID+"|"+ATTR+'|:(?:first-child|last-child|nth-child\\((?:even|odd|\\d*(?:-?n(?:\\+\\d+)?)?)\\)|empty|root|contains\\("[^"]*"\\))|'+COMBINATOR,combinatorRegex=new RegExp("^"+COMBINATOR+"$");exports.parseSelector=parseSelector},{}],94:[function(require,module,exports){"use strict";function concat(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new index_1.Stream(new ConcatProducer(t))}Object.defineProperty(exports,"__esModule",{value:!0});var index_1=require("../index"),ConcatProducer=function(){function t(t){this.streams=t,this.type="concat",this.out=null,this.i=0}return t.prototype._start=function(t){this.out=t,this.streams[this.i]._add(this)},t.prototype._stop=function(){var t=this.streams;this.i<t.length&&t[this.i]._remove(this),this.i=0,this.out=null},t.prototype._n=function(t){var i=this.out;i&&i._n(t)},t.prototype._e=function(t){var i=this.out;i&&i._e(t)},t.prototype._c=function(){var t=this.out;if(t){var i=this.streams;i[this.i]._remove(this),++this.i<i.length?i[this.i]._add(this):t._c()}},t}();exports.default=concat},{"../index":96}],95:[function(require,module,exports){"use strict";var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<i;e++)for(var n=arguments[e],s=0,p=n.length;s<p;s++,o++)r[o]=n[s];return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SampleCombineOperator=exports.SampleCombineListener=void 0;var index_1=require("../index"),NO={},SampleCombineListener=function(){function t(t,e){this.i=t,this.p=e,e.ils[t]=this}return t.prototype._n=function(t){var e=this.p;e.out!==NO&&e.up(t,this.i)},t.prototype._e=function(t){this.p._e(t)},t.prototype._c=function(){this.p.down(this.i,this)},t}();exports.SampleCombineListener=SampleCombineListener;var SampleCombineOperator=function(){function t(t,e){this.type="sampleCombine",this.ins=t,this.others=e,this.out=NO,this.ils=[],this.Nn=0,this.vals=[]}return t.prototype._start=function(t){this.out=t;for(var e=this.others,i=this.Nn=e.length,r=this.vals=new Array(i),o=0;o<i;o++)r[o]=NO,e[o]._add(new SampleCombineListener(o,this));this.ins._add(this)},t.prototype._stop=function(){var t=this.others,e=t.length,i=this.ils;this.ins._remove(this);for(var r=0;r<e;r++)t[r]._remove(i[r]);this.out=NO,this.vals=[],this.ils=[]},t.prototype._n=function(t){var e=this.out;e!==NO&&(this.Nn>0||e._n(__spreadArrays([t],this.vals)))},t.prototype._e=function(t){var e=this.out;e!==NO&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t.prototype.up=function(t,e){var i=this.vals[e];this.Nn>0&&i===NO&&this.Nn--,this.vals[e]=t},t.prototype.down=function(t,e){this.others[t]._remove(e)},t}();exports.SampleCombineOperator=SampleCombineOperator;var sampleCombine;sampleCombine=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return new index_1.Stream(new SampleCombineOperator(e,t))}},exports.default=sampleCombine},{"../index":96}],96:[function(require,module,exports){"use strict";function noop(){}function cp(t){for(var o=t.length,i=Array(o),n=0;n<o;++n)i[n]=t[n];return i}function and(t,o){return function(i){return t(i)&&o(i)}}function _try(t,o,i){try{return t.f(o)}catch(t){return i._e(t),NO}}function internalizeProducer(t){t._start=function(t){t.next=t._n,t.error=t._e,t.complete=t._c,this.start(t)},t._stop=t.stop}var __extends=this&&this.__extends||function(){var t=function(o,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])})(o,i)};return function(o,i){function n(){this.constructor=o}t(o,i),o.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.NO_IL=exports.NO=exports.MemoryStream=exports.Stream=void 0;var ponyfill_1=require("symbol-observable/ponyfill"),globalthis_1=require("globalthis"),$$observable=ponyfill_1.default(globalthis_1.getPolyfill()),NO={};exports.NO=NO;var NO_IL={_n:noop,_e:noop,_c:noop};exports.NO_IL=NO_IL;var StreamSub=function(){function t(t,o){this._stream=t,this._listener=o}return t.prototype.unsubscribe=function(){this._stream._remove(this._listener)},t}(),Observer=function(){function t(t){this._listener=t}return t.prototype.next=function(t){this._listener._n(t)},t.prototype.error=function(t){this._listener._e(t)},t.prototype.complete=function(){this._listener._c()},t}(),FromObservable=function(){function t(t){this.type="fromObservable",this.ins=t,this.active=!1}return t.prototype._start=function(t){this.out=t,this.active=!0,this._sub=this.ins.subscribe(new Observer(t)),this.active||this._sub.unsubscribe()},t.prototype._stop=function(){this._sub&&this._sub.unsubscribe(),this.active=!1},t}(),Merge=function(){function t(t){this.type="merge",this.insArr=t,this.out=NO,this.ac=0}return t.prototype._start=function(t){this.out=t;var o=this.insArr,i=o.length;this.ac=i;for(var n=0;n<i;n++)o[n]._add(this)},t.prototype._stop=function(){for(var t=this.insArr,o=t.length,i=0;i<o;i++)t[i]._remove(this);this.out=NO},t.prototype._n=function(t){var o=this.out;o!==NO&&o._n(t)},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){if(--this.ac<=0){var t=this.out;if(t===NO)return;t._c()}},t}(),CombineListener=function(){function t(t,o,i){this.i=t,this.out=o,this.p=i,i.ils.push(this)}return t.prototype._n=function(t){var o=this.p,i=this.out;if(i!==NO&&o.up(t,this.i)){var n=cp(o.vals);i._n(n)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.p;t.out!==NO&&0==--t.Nc&&t.out._c()},t}(),Combine=function(){function t(t){this.type="combine",this.insArr=t,this.out=NO,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return t.prototype.up=function(t,o){var i=this.vals[o],n=this.Nn?i===NO?--this.Nn:this.Nn:0;return this.vals[o]=t,0===n},t.prototype._start=function(t){this.out=t;var o=this.insArr,i=this.Nc=this.Nn=o.length,n=this.vals=new Array(i);if(0===i)t._n([]),t._c();else for(var e=0;e<i;e++)n[e]=NO,o[e]._add(new CombineListener(e,t,this))},t.prototype._stop=function(){for(var t=this.insArr,o=t.length,i=this.ils,n=0;n<o;n++)t[n]._remove(i[n]);this.out=NO,this.ils=[],this.vals=[]},t}(),FromArray=function(){function t(t){this.type="fromArray",this.a=t}return t.prototype._start=function(t){for(var o=this.a,i=0,n=o.length;i<n;i++)t._n(o[i]);t._c()},t.prototype._stop=function(){},t}(),FromPromise=function(){function t(t){this.type="fromPromise",this.on=!1,this.p=t}return t.prototype._start=function(t){var o=this;this.on=!0,this.p.then(function(i){o.on&&(t._n(i),t._c())},function(o){t._e(o)}).then(noop,function(t){setTimeout(function(){throw t})})},t.prototype._stop=function(){this.on=!1},t}(),Periodic=function(){function t(t){this.type="periodic",this.period=t,this.intervalID=-1,this.i=0}return t.prototype._start=function(t){function o(){t._n(i.i++)}var i=this;this.intervalID=setInterval(o,this.period)},t.prototype._stop=function(){-1!==this.intervalID&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},t}(),Debug=function(){function t(t,o){this.type="debug",this.ins=t,this.out=NO,this.s=noop,this.l="","string"==typeof o?this.l=o:"function"==typeof o&&(this.s=o)}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=this.s,n=this.l;if(i!==noop)try{i(t)}catch(t){o._e(t)}else n?console.log(n+":",t):console.log(t);o._n(t)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),Drop=function(){function t(t,o){this.type="drop",this.ins=o,this.out=NO,this.max=t,this.dropped=0}return t.prototype._start=function(t){this.out=t,this.dropped=0,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;o!==NO&&this.dropped++>=this.max&&o._n(t)},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),EndWhenListener=function(){function t(t,o){this.out=t,this.op=o}return t.prototype._n=function(){this.op.end()},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.end()},t}(),EndWhen=function(){function t(t,o){this.type="endWhen",this.ins=o,this.out=NO,this.o=t,this.oil=NO_IL}return t.prototype._start=function(t){this.out=t,this.o._add(this.oil=new EndWhenListener(t,this)),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=NO,this.oil=NO_IL},t.prototype.end=function(){var t=this.out;t!==NO&&t._c()},t.prototype._n=function(t){var o=this.out;o!==NO&&o._n(t)},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){this.end()},t}(),Filter=function(){function t(t,o){this.type="filter",this.ins=o,this.out=NO,this.f=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=_try(this,t,o);i!==NO&&i&&o._n(t)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),FlattenListener=function(){function t(t,o){this.out=t,this.op=o}return t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.inner=NO,this.op.less()},t}(),Flatten=function(){function t(t){this.type="flatten",this.ins=t,this.out=NO,this.open=!0,this.inner=NO,this.il=NO_IL}return t.prototype._start=function(t){this.out=t,this.open=!0,this.inner=NO,this.il=NO_IL,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.inner!==NO&&this.inner._remove(this.il),this.out=NO,this.open=!0,this.inner=NO,this.il=NO_IL},t.prototype.less=function(){var t=this.out;t!==NO&&(this.open||this.inner!==NO||t._c())},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=this,n=i.inner,e=i.il;n!==NO&&e!==NO_IL&&n._remove(e),(this.inner=t)._add(this.il=new FlattenListener(o,this))}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){this.open=!1,this.less()},t}(),Fold=function(){function t(t,o,i){var n=this;this.type="fold",this.ins=i,this.out=NO,this.f=function(o){return t(n.acc,o)},this.acc=this.seed=o}return t.prototype._start=function(t){this.out=t,this.acc=this.seed,t._n(this.acc),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO,this.acc=this.seed},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=_try(this,t,o);i!==NO&&o._n(this.acc=i)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),Last=function(){function t(t){this.type="last",this.ins=t,this.out=NO,this.has=!1,this.val=NO}return t.prototype._start=function(t){this.out=t,this.has=!1,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO,this.val=NO},t.prototype._n=function(t){this.has=!0,this.val=t},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&(this.has?(t._n(this.val),t._c()):t._e(new Error("last() failed because input stream completed")))},t}(),MapOp=function(){function t(t,o){this.type="map",this.ins=o,this.out=NO,this.f=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=_try(this,t,o);i!==NO&&o._n(i)}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),Remember=function(){function t(t){this.type="remember",this.ins=t,this.out=NO}return t.prototype._start=function(t){this.out=t,this.ins._add(t)},t.prototype._stop=function(){
this.ins._remove(this.out),this.out=NO},t}(),ReplaceError=function(){function t(t,o){this.type="replaceError",this.ins=o,this.out=NO,this.f=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;o!==NO&&o._n(t)},t.prototype._e=function(t){var o=this.out;if(o!==NO)try{this.ins._remove(this),(this.ins=this.f(t))._add(this)}catch(t){o._e(t)}},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),StartWith=function(){function t(t,o){this.type="startWith",this.ins=t,this.out=NO,this.val=o}return t.prototype._start=function(t){this.out=t,this.out._n(this.val),this.ins._add(t)},t.prototype._stop=function(){this.ins._remove(this.out),this.out=NO},t}(),Take=function(){function t(t,o){this.type="take",this.ins=o,this.out=NO,this.max=t,this.taken=0}return t.prototype._start=function(t){this.out=t,this.taken=0,this.max<=0?t._c():this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=NO},t.prototype._n=function(t){var o=this.out;if(o!==NO){var i=++this.taken;i<this.max?o._n(t):i===this.max&&(o._n(t),o._c())}},t.prototype._e=function(t){var o=this.out;o!==NO&&o._e(t)},t.prototype._c=function(){var t=this.out;t!==NO&&t._c()},t}(),Stream=function(){function t(t){this._prod=t||NO,this._ils=[],this._stopID=NO,this._dl=NO,this._d=!1,this._target=null,this._err=NO}return t.prototype._n=function(t){var o=this._ils,i=o.length;if(this._d&&this._dl._n(t),1==i)o[0]._n(t);else{if(0==i)return;for(var n=cp(o),e=0;e<i;e++)n[e]._n(t)}},t.prototype._e=function(t){if(this._err===NO){this._err=t;var o=this._ils,i=o.length;if(this._x(),this._d&&this._dl._e(t),1==i)o[0]._e(t);else{if(0==i)return;for(var n=cp(o),e=0;e<i;e++)n[e]._e(t)}if(!this._d&&0==i)throw this._err}},t.prototype._c=function(){var t=this._ils,o=t.length;if(this._x(),this._d&&this._dl._c(),1==o)t[0]._c();else{if(0==o)return;for(var i=cp(t),n=0;n<o;n++)i[n]._c()}},t.prototype._x=function(){0!==this._ils.length&&(this._prod!==NO&&this._prod._stop(),this._err=NO,this._ils=[])},t.prototype._stopNow=function(){this._prod._stop(),this._err=NO,this._stopID=NO},t.prototype._add=function(t){var o=this._target;if(o)return o._add(t);var i=this._ils;if(i.push(t),!(i.length>1))if(this._stopID!==NO)clearTimeout(this._stopID),this._stopID=NO;else{var n=this._prod;n!==NO&&n._start(this)}},t.prototype._remove=function(t){var o=this,i=this._target;if(i)return i._remove(t);var n=this._ils,e=n.indexOf(t);e>-1&&(n.splice(e,1),this._prod!==NO&&n.length<=0?(this._err=NO,this._stopID=setTimeout(function(){return o._stopNow()})):1===n.length&&this._pruneCycles())},t.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},t.prototype._hasNoSinks=function(t,o){if(-1!==o.indexOf(t))return!0;if(t.out===this)return!0;if(t.out&&t.out!==NO)return this._hasNoSinks(t.out,o.concat(t));if(t._ils){for(var i=0,n=t._ils.length;i<n;i++)if(!this._hasNoSinks(t._ils[i],o.concat(t)))return!1;return!0}return!1},t.prototype.ctor=function(){return this instanceof MemoryStream?MemoryStream:t},t.prototype.addListener=function(t){t._n=t.next||noop,t._e=t.error||noop,t._c=t.complete||noop,this._add(t)},t.prototype.removeListener=function(t){this._remove(t)},t.prototype.subscribe=function(t){return this.addListener(t),new StreamSub(this,t)},t.prototype[$$observable]=function(){return this},t.create=function(o){if(o){if("function"!=typeof o.start||"function"!=typeof o.stop)throw new Error("producer requires both start and stop functions");internalizeProducer(o)}return new t(o)},t.createWithMemory=function(t){return t&&internalizeProducer(t),new MemoryStream(t)},t.never=function(){return new t({_start:noop,_stop:noop})},t.empty=function(){return new t({_start:function(t){t._c()},_stop:noop})},t.throw=function(o){return new t({_start:function(t){t._e(o)},_stop:noop})},t.from=function(o){if("function"==typeof o[$$observable])return t.fromObservable(o);if("function"==typeof o.then)return t.fromPromise(o);if(Array.isArray(o))return t.fromArray(o);throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")},t.of=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return t.fromArray(o)},t.fromArray=function(o){return new t(new FromArray(o))},t.fromPromise=function(o){return new t(new FromPromise(o))},t.fromObservable=function(o){if(void 0!==o.endWhen)return o;var i="function"==typeof o[$$observable]?o[$$observable]():o;return new t(new FromObservable(i))},t.periodic=function(o){return new t(new Periodic(o))},t.prototype._map=function(t){return new(this.ctor())(new MapOp(t,this))},t.prototype.map=function(t){return this._map(t)},t.prototype.mapTo=function(t){var o=this.map(function(){return t});return o._prod.type="mapTo",o},t.prototype.filter=function(o){var i=this._prod;return new t(i instanceof Filter?new Filter(and(i.f,o),i.ins):new Filter(o,this))},t.prototype.take=function(t){return new(this.ctor())(new Take(t,this))},t.prototype.drop=function(o){return new t(new Drop(o,this))},t.prototype.last=function(){return new t(new Last(this))},t.prototype.startWith=function(t){return new MemoryStream(new StartWith(this,t))},t.prototype.endWhen=function(t){return new(this.ctor())(new EndWhen(t,this))},t.prototype.fold=function(t,o){return new MemoryStream(new Fold(t,o,this))},t.prototype.replaceError=function(t){return new(this.ctor())(new ReplaceError(t,this))},t.prototype.flatten=function(){return new t(new Flatten(this))},t.prototype.compose=function(t){return t(this)},t.prototype.remember=function(){return new MemoryStream(new Remember(this))},t.prototype.debug=function(t){return new(this.ctor())(new Debug(this,t))},t.prototype.imitate=function(t){if(t instanceof MemoryStream)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=t;for(var o=this._ils,i=o.length,n=0;n<i;n++)t._add(o[n]);this._ils=[]},t.prototype.shamefullySendNext=function(t){this._n(t)},t.prototype.shamefullySendError=function(t){this._e(t)},t.prototype.shamefullySendComplete=function(){this._c()},t.prototype.setDebugListener=function(t){t?(this._d=!0,t._n=t.next||noop,t._e=t.error||noop,t._c=t.complete||noop,this._dl=t):(this._d=!1,this._dl=NO)},t.merge=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return new t(new Merge(o))},t.combine=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return new t(new Combine(o))},t}();exports.Stream=Stream;var MemoryStream=function(t){function o(o){var i=t.call(this,o)||this;return i._has=!1,i}return __extends(o,t),o.prototype._n=function(o){this._v=o,this._has=!0,t.prototype._n.call(this,o)},o.prototype._add=function(t){var o=this._target;if(o)return o._add(t);var i=this._ils;if(i.push(t),i.length>1)return void(this._has&&t._n(this._v));if(this._stopID!==NO)this._has&&t._n(this._v),clearTimeout(this._stopID),this._stopID=NO;else if(this._has)t._n(this._v);else{var n=this._prod;n!==NO&&n._start(this)}},o.prototype._stopNow=function(){this._has=!1,t.prototype._stopNow.call(this)},o.prototype._x=function(){this._has=!1,t.prototype._x.call(this)},o.prototype.map=function(t){return this._map(t)},o.prototype.mapTo=function(o){return t.prototype.mapTo.call(this,o)},o.prototype.take=function(o){return t.prototype.take.call(this,o)},o.prototype.endWhen=function(o){return t.prototype.endWhen.call(this,o)},o.prototype.replaceError=function(o){return t.prototype.replaceError.call(this,o)},o.prototype.remember=function(){return this},o.prototype.debug=function(o){return t.prototype.debug.call(this,o)},o}(Stream);exports.MemoryStream=MemoryStream;var xs=Stream;exports.default=xs},{globalthis:45,"symbol-observable/ponyfill":80}]},{},[10]);